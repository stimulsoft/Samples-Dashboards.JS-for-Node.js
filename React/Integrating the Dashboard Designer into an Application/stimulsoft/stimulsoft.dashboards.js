/*
Stimulsoft.Dashboards.JS
Version: 2022.2.5
Build date: 2022.05.13
License: https://www.stimulsoft.com/en/licensing/reports
*/
!function(t){var e;"undefined"!=typeof process&&process.__nwjs||"object"!=typeof exports||"undefined"==typeof module?"function"==typeof define&&define.amd?define(["./stimulsoft.reports"],e=>Object.assign(e,t(e.Stimulsoft))):window.Stimulsoft?window.Stimulsoft.Report&&window.Stimulsoft.Report.StiReport?Object.assign(window,t(window.Stimulsoft)):window.Stimulsoft.dashboardsFactory=t:window.Stimulsoft={dashboardsFactory:t}:module.exports=(e=require("./stimulsoft.reports"),Object.assign(e,t(e.Stimulsoft)))}(function(se){var k=se.StiOptions;function y(e,t){for(var r in t)r in e?y(e[r],t[r]):e[r]=t[r];return e}se&&(se.__engineVersion&&"2022.2.5"!==se.__engineVersion?console.warn("Scripts versions mismatch: engine ver. = %s; dashboards ver. = 2022.2.5",se.__engineVersion):"2022.2.5"!==se.__reportsVersion&&console.warn("Scripts versions mismatch: reports ver. = %s; dashboards ver. = 2022.2.5",se.__reportsVersion));var se=y(se||{},{Dashboard:{Components:{Panel:{},Button:{},Cards:{},Helpers:{},Chart:{Design:{}},TreeViewBox:{},TreeView:{},Table:{Design:{}},RegionMap:{},Progress:{},PivotTable:{Design:{}},OnlineMap:{},ListBox:{},DatePicker:{},ComboBox:{},Gauge:{Design:{}},Indicator:{},Design:{},Text:{Design:{}},Image:{Design:{}},Shape:{}},Export:{Settings:{},Helpers:{},Tools:{},Painters:{Table:{}}},Interactions:{Design:{}},Helpers:{},Render:{},Visuals:{Gauge:{},Cards:{},Indicator:{},Progress:{Helpers:{}}},Design:{Helpers:{}},Images:{},Options:{},Visualizers:{},Drawing:{Helpers:{},Painters:{}}},Designer:{Dashboards:{}},Reflection:{}}),B={},v,x,T,M,e,e,e,e,D,e;B.a=se.Dashboard,B.b=se.Designer,B.c=se.Reflection,B.d=B.b.Dashboards,B.e=B.a.Components,B.f=B.a.Export,B.g=B.a.Interactions,B.h=B.a.Helpers,B.i=B.a.Render,B.j=B.a.Visuals,B.k=B.a.Design,B.l=B.a.Images,B.m=B.a.Options,B.n=B.a.Visualizers,B.o=B.a.Drawing,B.p=B.o.Helpers,B.q=B.o.Painters,B.r=B.k.Helpers,B.s=B.j.Gauge,B.t=B.j.Cards,B.u=B.j.Indicator,B.v=B.j.Progress,B.w=B.v.Helpers,B.x=B.g.Design,B.y=B.f.Settings,B.z=B.f.Helpers,B.A=B.f.Tools,B.B=B.f.Painters,B.C=B.B.Table,B.D=B.e.Panel,B.E=B.e.Button,B.F=B.e.Cards,B.G=B.e.Helpers,B.H=B.e.Chart,B.I=B.e.TreeViewBox,B.J=B.e.TreeView,B.K=B.e.Table,B.L=B.e.RegionMap,B.M=B.e.Progress,B.N=B.e.PivotTable,B.O=B.e.OnlineMap,B.P=B.e.ListBox,B.Q=B.e.DatePicker,B.R=B.e.ComboBox,B.S=B.e.Gauge,B.T=B.e.Indicator,B.U=B.e.Design,B.V=B.e.Text,B.W=B.e.Image,B.X=B.e.Shape,B.Y=B.W.Design,B.Z=B.V.Design,B._=B.S.Design,B.aa=B.N.Design,B.ab=B.K.Design,B.ac=B.H.Design,se.tsfb=function(e,l,r,a){function o(t){return t instanceof r?t:new r(function(e){e(t)})}return new(r=r||Promise)(function(t,r){function i(e){try{n(a.next(e))}catch(e){r(e)}}function s(e){try{n(a["throw"](e))}catch(e){r(e)}}function n(e){e.done?t(e.value):o(e.value).then(i,s)}n((a=a.apply(e,l||[])).next())})},(e=v=B.a.StiTextFormatState||(B.a.StiTextFormatState={}))[e["None"]=0]="None",e[e["DecimalDigits"]=1]="DecimalDigits",e[e["DecimalSeparator"]=2]="DecimalSeparator",e[e["GroupSeparator"]=4]="GroupSeparator",e[e["GroupSize"]=8]="GroupSize",e[e["PositivePattern"]=16]="PositivePattern",e[e["NegativePattern"]=32]="NegativePattern",e[e["CurrencySymbol"]=64]="CurrencySymbol",e[e["PercentageSymbol"]=128]="PercentageSymbol",e[e["Abbreviation"]=256]="Abbreviation",e[e["NegativeInRed"]=512]="NegativeInRed",(e=x=B.a.StiFilterCondition||(B.a.StiFilterCondition={}))[e["EqualTo"]=0]="EqualTo",e[e["NotEqualTo"]=1]="NotEqualTo",e[e["GreaterThan"]=2]="GreaterThan",e[e["GreaterThanOrEqualTo"]=3]="GreaterThanOrEqualTo",e[e["LessThan"]=4]="LessThan",e[e["LessThanOrEqualTo"]=5]="LessThanOrEqualTo",e[e["Between"]=6]="Between",e[e["NotBetween"]=7]="NotBetween",e[e["Containing"]=8]="Containing",e[e["NotContaining"]=9]="NotContaining",e[e["BeginningWith"]=10]="BeginningWith",e[e["EndingWith"]=11]="EndingWith",e[e["IsNull"]=12]="IsNull",e[e["IsNotNull"]=13]="IsNotNull",(e=T=B.a.StiFilterItem||(B.a.StiFilterItem={}))[e["Argument"]=0]="Argument",e[e["Value"]=1]="Value",e[e["ValueEnd"]=2]="ValueEnd",e[e["Expression"]=3]="Expression",e[e["ValueOpen"]=4]="ValueOpen",e[e["ValueClose"]=5]="ValueClose",e[e["ValueLow"]=6]="ValueLow",e[e["ValueHigh"]=7]="ValueHigh",(e=M=B.a.StiFilterDataType||(B.a.StiFilterDataType={}))[e["String"]=0]="String",e[e["Numeric"]=1]="Numeric",e[e["DateTime"]=2]="DateTime",e[e["Boolean"]=3]="Boolean",e[e["Expression"]=4]="Expression",(e=D=B.e.StiMeterIdent||(B.e.StiMeterIdent={}))[e["ArgumentChartMeter"]=1]="ArgumentChartMeter",e[e["SeriesChartMeter"]=2]="SeriesChartMeter",e[e["ValueChartMeter"]=3]="ValueChartMeter",e[e["StartValueChartMeter"]=4]="StartValueChartMeter",e[e["EndValueChartMeter"]=5]="EndValueChartMeter",e[e["OpenValueChartMeter"]=6]="OpenValueChartMeter",e[e["CloseValueChartMeter"]=7]="CloseValueChartMeter",e[e["LowValueChartMeter"]=8]="LowValueChartMeter",e[e["HighValueChartMeter"]=9]="HighValueChartMeter",e[e["WeightChartMeter"]=10]="WeightChartMeter",e[e["XChartMeter"]=11]="XChartMeter",e[e["YChartMeter"]=12]="YChartMeter",e[e["MaxGaugeMeter"]=13]="MaxGaugeMeter",e[e["MinGaugeMeter"]=14]="MinGaugeMeter",e[e["SeriesGaugeMeter"]=15]="SeriesGaugeMeter",e[e["ValueGaugeMeter"]=16]="ValueGaugeMeter",e[e["TargetGaugeMeter"]=17]="TargetGaugeMeter",e[e["SeriesIndicatorMeter"]=18]="SeriesIndicatorMeter",e[e["TargetIndicatorMeter"]=19]="TargetIndicatorMeter",e[e["ValueIndicatorMeter"]=20]="ValueIndicatorMeter",e[e["SeriesProgressMeter"]=21]="SeriesProgressMeter",e[e["TargetProgressMeter"]=22]="TargetProgressMeter",e[e["ValueProgressMeter"]=23]="ValueProgressMeter",e[e["LatitudeMapMeter"]=24]="LatitudeMapMeter",e[e["LongitudeMapMeter"]=25]="LongitudeMapMeter",e[e["LocationMapMeter"]=26]="LocationMapMeter",e[e["LocationValueMapMeter"]=27]="LocationValueMapMeter",e[e["LocationColorMapMeter"]=28]="LocationColorMapMeter",e[e["LocationArgumentMapMeter"]=29]="LocationArgumentMapMeter",e[e["KeyMapMeter"]=30]="KeyMapMeter",e[e["NameMapMeter"]=31]="NameMapMeter",e[e["ValueMapMeter"]=32]="ValueMapMeter",e[e["GroupMapMeter"]=33]="GroupMapMeter",e[e["ColorMapMeter"]=34]="ColorMapMeter",e[e["ColorScaleColumn"]=35]="ColorScaleColumn",e[e["DataBarsColumn"]=36]="DataBarsColumn",e[e["DimensionColumn"]=37]="DimensionColumn",e[e["IndicatorColumn"]=38]="IndicatorColumn",e[e["MeasureColumn"]=39]="MeasureColumn",e[e["SparklinesColumn"]=40]="SparklinesColumn",e[e["BubbleColumn"]=41]="BubbleColumn",e[e["ColorScaleCardsColumn"]=42]="ColorScaleCardsColumn",e[e["DataBarsCardsColumn"]=43]="DataBarsCardsColumn",e[e["DimensionCardsColumn"]=44]="DimensionCardsColumn",e[e["IndicatorCardsColumn"]=45]="IndicatorCardsColumn",e[e["MeasureCardsColumn"]=46]="MeasureCardsColumn",e[e["SparklinesCardsColumn"]=47]="SparklinesCardsColumn",e[e["BubbleCardsColumn"]=48]="BubbleCardsColumn",e[e["PivotColumn"]=49]="PivotColumn",e[e["PivotRow"]=50]="PivotRow",e[e["PivotSummary"]=51]="PivotSummary",e[e["NameListBoxMeter"]=52]="NameListBoxMeter",e[e["KeyListBoxMeter"]=53]="KeyListBoxMeter",e[e["KeyTreeViewMeter"]=54]="KeyTreeViewMeter",e[e["KeyTreeViewBoxMeter"]=55]="KeyTreeViewBoxMeter",e[e["NameComboBoxMeter"]=56]="NameComboBoxMeter",e[e["KeyComboBoxMeter"]=57]="KeyComboBoxMeter",e[e["ValueDatePickerMeter"]=58]="ValueDatePickerMeter",e[e["TextMeter"]=59]="TextMeter",e[e["ImageMeter"]=60]="ImageMeter";let I=se.Report.Components.StiContainer,de=se.Base.Drawing.StiBorder,t=se.Base.Meta.StiColorMeta,i=se.Base.Meta.StiEnumMeta,A=se.Base.Meta.StiNumberMeta,s=se.Base.Meta.StiObjectMeta,R=se.Base.Meta.StiStringMeta,E=se.Base.Meta.StiRemoveMeta,n=se.Base.Meta.StiStringNullOrEmptyMeta,V=se.System.StiMath,H=se.Report.Dashboard.ImplementsIStiDashboardWatermark,X=se.Report.Dashboard.IStiDashboardWatermark,G=se.Base.Drawing.StiAdvancedWatermark,j=se.Report.Components.StiSurfaceViewMode,J=se.Report.Helpers.StiAppExpressionParser,W=se.Base.StiAppExpressionHelper,ne=se.System.StiString,l=se.Base.JsonReportObject.IStiJsonReportObject,U=se.Report.Dashboard.ImplementsIStiDashboard,a=se.Base.StiJsonReportObjectHelper,K=se.Base.StiKeyHelper,F=se.Base.Drawing.StiSolidBrush,q=se.Base.Drawing.StiBrush,Y=se.Report.Units.StiUnit,ce=se.Report.Components.StiMargins,Z=se.Report.StiComponentId,Q=se.Data.Engine.StiDataSourcePicker,N=se.System.Drawing.Color,_=se.Report.Dashboard.IStiSkipOwnFilter,$=se.Data.Engine.IStiUserFilters,ee=se.Report.Dashboard.Helpers.StiCrossLinkedFilterHelper,te=se.Report.Dashboard.IStiFilterElement,re=se.Report.Dashboard.StiGroupElementHelper,ie=se.Report.Dashboard.IStiElement,le=se.System.Collections.List,o=se.Report.Dashboard.StiElementStyleIdent,ge=se.System.Enum,pe=se.Report.Dashboard.IStiDashboard,Se=se.Report.Components.StiPage,S=se.Base.Localization.StiLocalization,we=se.System.Drawing.Size,fe=se.Report.Components.StiDashboardViewMode,Ce=se.Report.Dashboard.IStiAltProperties,be=se.Report.Dashboard.IStiTitleElement,ye=se.System.Drawing.Rectangle,ve=se.Report.Dashboard.StiDashboardContentAlignment;{class Xh extends Se{constructor(e=null){super(e),this.backColor=N.transparent,this.margins=new ce(10,10,10,10),this._style=o.Blue,this.customStyleName="",this.dashboardWatermark=new G,this._width2=1200,this._height2=600,this._altSize=we.empty,this._dashboardViewMode=fe.Desktop,this._contentAlignment=ve.StretchXY,this._altContentAlignment=ve.StretchXY,this._deviceWidth=480,this.key=K.generateKey(),this.width=1200,this.height=600}implements(){return Xh.ImplementsStiDashboard||(Xh.ImplementsStiDashboard=super.implements().concat([pe,X,...U,...H,l])),Xh.ImplementsStiDashboard}clone(){var e;let t=super.clone();return t.dashboardWatermark=null==(e=this.dashboardWatermark)?void 0:e.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new E(["Margins","MirrorMargins","PrintHeadersFootersFromPreviousPage","PrintOnPreviousPage","StopBeforePrint","LargeHeight","LargeHeightFactor","ResetPageNumber","Watermark","ExcelSheet","CanBreak","Interaction","PaperSourceFirstPage","PaperSourceOfFirstPage","PaperSourceOtherPages","PaperSourceOfOtherPages","UseParentStyles","Conditions","PaperSize","NumberOfCopies","BeginRenderEvent","RenderingEvent","EndRenderEvent","GetToolTipEvent","GetTagEvent","GetBookmarkEvent","GetHyperlinkEvent","BeforePrintEvent","AfterPrintEvent","MouseEnterEvent","MouseLeaveEvent","ClickEvent","DoubleEvent","ColumnBeginRenderEvent","ColumnEndRenderEvent","GetExcelSheetEvent","GetDrillDownReportEvent"]),new A("Width","",1200),new A("Height","",600),new A("DeviceWidth","",480),new i("Style","",o,o.Blue),new n("Border").get(()=>a.Serialize.jBorder(this.border)).set(e=>this.border=a.Deserialize.border(e.value)).setXml(e=>this.border=de.loadFromXml(e.textContent)),new t("BackColor","",N.transparent),new i("DashboardViewMode","",fe,fe.Desktop),new R("AltSize","",a.Serialize.sizeD(we.empty)).get(()=>a.Serialize.sizeD(this.altSize)).set(e=>this.altSize=a.Deserialize.sizeD(e.value.toString())).setXml(e=>this.altSize=se.System.Drawing.Size.convertFromXml(e.textContent)),new i("ContentAlignment","",ve,ve.StretchXY),new i("AltContentAlignment","",ve,ve.StretchXY),new s("DashboardWatermark")])}getMeters(e=!0,t=null){return this.getElements(e,t).selectMany(e=>e.getMeters())}getElements(t=!0,r=null){return null==r?(t?this.getComponents():this.components).toList().where(e=>e.is(ie)).cast():ne.isNullOrWhiteSpace(r)?(t?this.getComponents():this.components).toList().where(e=>e.is(ie)).cast().where(e=>ne.isNullOrWhiteSpace(re.getGroup(e))).toList():this.report.pages.toList().where(e=>e.isDashboard).selectMany(e=>(t?e.getComponents():e.components).toList()).where(e=>e.is(ie)).cast().where(e=>re.getGroup(e)==r)}getUserFilters(t){if(null==t)return null;var e=re.getGroup(t);let i=this.getElements(!0,e),s=t.as(te);if(null!=s){if(ee.isCrossLinkedFilter(s))return null;let e=i.where(e=>e.is(te)).cast().firstOrDefault(e=>e.getKey()==s.getParentKey());if(null==e)return null;let t=new le,r=e.is($)?e.userFilters:null;return null!=r&&t.addRange(r),null!=(r=this.as(pe).getUserFilters(e.as(ie)))&&t.addRange(r),t}return i.where(e=>e.is($)&&(e!=t||!(e.is(_)&&e.allowSkipOwnFilter))).cast().selectMany(this.getUserFilters3)}getUserFilters3(t){return t.userFilters.forEach(e=>e.elementKey=t.as(ie).key),t.userFilters}getUnplacedElements(){return this.getComponents().toList().where(e=>0==e.width||0==e.height).cast()}switchSurfaceViewMode(e){var i,t=e==j.Desktop?fe.Desktop:fe.Mobile,s;if(this.dashboardViewMode==t)return;this.dashboardViewMode=t;let n=!1,l=(this.altSize.isEmpty&&e==j.Mobile&&(this.altSize=new we(480,800),n=!0,this.altContentAlignment=this.contentAlignment),this.getComponents());for(s of l.list){let r=s.as(Ce);if(null!=r){var a=s.parent;s.parent.components.remove(s);let e=l.getComponentByGuid(r.altParentKey,this)||this;null!=(i=e.as(I))&&i.components.add(s),r.altParentKey=a.guid;var i=s.clientRectangle.clone(),a;s.clientRectangle=r.altClientRectangle.clone(),r.altClientRectangle=i;let t=s.as(be);null!=(null===t||void 0===t?void 0:t.title)&&(a=t.title.visible,n||(t.title.visible=r.altTitleVisible),r.altTitleVisible=a)}}var t=new we(this.width,this.height),e=(this.width=this.altSize.width,this.height=this.altSize.height,this.altSize=t,this.contentAlignment);this.contentAlignment=this.altContentAlignment,this.altContentAlignment=e}removeMobileSurface(){var e,t;this.altSize=we.empty;for(t of this.getComponents().list){let e=t.as(Ce);null!=e&&(e.altClientRectangle=ye.empty)}this.altContentAlignment=ve.StretchXY}get isMobileSurfaceSelected(){return this.dashboardViewMode==fe.Mobile}get isDesktopSurfaceSelected(){return this.dashboardViewMode==fe.Desktop}fetchAllMeters(){return new le}getNestedPages(){return new le}get isEnabled(){return W.isExpressionSpecified(this,"enabled")?J.parseBoolExpression(this,"enabled",!0):this.enabled}get isDefined(){return 0<this.components.count}get isQuerable(){return!0}shouldSerializeBackColor(){return!N.transparent.equals(this.backColor)}retrieveUsedDataNames(t){return this.getElements(!0,t).selectMany(e=>e.retrieveUsedDataNames(t)).distinct()}getDictionary(){return null!=this.report?this.report.dictionary:null}getDataSources(e){return Q.fetch(this,null,e,null!=this.report?this.getDictionary().fetchDataSources():null)}get serviceCategory(){return S.get("Permissions","ItemDashboards")}get componentId(){return Z.StiDashboard}get localizedName(){return S.get("Components","StiDashboard")}get gridSize(){return this.report.info.gridSizePoints}get unit(){return Y.HundredthsOfInch}get brush(){return new F(this.backColor)}set brush(e){this.backColor=q.toColor(e)}get skip(){return!0}set skip(e){}convert(e,t,r=!1){}getKey(){return this.key}createNew(){return new Xh}get key(){return this.guid}set key(e){this.guid=e}get style(){return this._style}set style(e){if(this._style==e)return;e==o.Auto&&(e=ge.getValues(typeof o).stimulsoft().toList().cast().firstOrDefault(e=>e!=o.Auto)),this._style=e}shouldSerializeDashboardWatermark(){return null==this.dashboardWatermark||!this.dashboardWatermark.isDefault()}getApp(){return this.report}get width(){return this._width2}set width(e){this._width2=V.round2(e,2)}get height(){return this._height2}set height(e){this._height2=V.round2(e,2)}get altSize(){return this._altSize}set altSize(e){this._altSize=e}get dashboardViewMode(){return this._dashboardViewMode}set dashboardViewMode(e){this._dashboardViewMode=e}get contentAlignment(){return this._contentAlignment}set contentAlignment(e){this._contentAlignment=e}get altContentAlignment(){return this._altContentAlignment}set altContentAlignment(e){this._altContentAlignment=e}get deviceWidth(){return this._deviceWidth}set deviceWidth(e){this._deviceWidth=e}get isMobileSurfacePresent(){return!this.altSize.isEmpty}}B.e.StiDashboard=Xh}let r=se.Base.Meta.StiMetaHelper,xe=se.System.Type,Fe=se.Base.Meters.IStiLocalizedMeter,Te=se.Base.Meters.IStiMeter,Me=se.Base.StiJsonSaveMode,De=se.Base.StiJson;{class oc{constructor(e,t,r){this.expression="",this.label="",null==e&&(e=K.generateKey()),this.key=e,null!=t&&(this.expression=t),null!=r&&(this.label=r)}is(e){if(e instanceof se.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}implements(){return oc.ImplementsStiMeter||(oc.ImplementsStiMeter=[Te,Fe,l]),oc.ImplementsStiMeter}clone(e=!0,t=!0){let r=this.stimulsoft().memberwiseClone();return r.key=K.generateKey(),r}saveToString(){return this.saveToJsonObject(Me.Report).serialize()}loadFromString(e){let t=new De;t.deserialize(e),this.loadFromJsonObject(t)}meta(){return null==this._hash&&(this._hash=[new i("Ident","",B.e.StiMeterIdent).set(()=>{}).setXml(()=>{}),new n("Key"),new n("Expression"),new n("Label")]),this._hash}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}getUniqueCode(){var e,e;return e=397*(e=397*(e=397*(e=null!=this.expression?this.expression.stimulsoft().getHashCode():0)^xe.getTypeName(this).stimulsoft().getHashCode())^(null!=this.label?this.label.stimulsoft().getHashCode():0))^(null!=this.key?this.key.stimulsoft().getHashCode():0),Math.abs(e)}get localizedName(){return""}isDefault(){return this.getIsDefault()}getIsDefault(){return null==this.key&&null!=this.expression&&0==this.expression.length&&null!=this.label&&0==this.label.length}toString(){var e=this.stimulsoft().getType().stimulsoft().getTypeName();return ne.isNullOrWhiteSpace(this.expression)?e:e+`-"{Expression}"`}}B.e.StiMeter=oc}let Ie=se.Base.Meters.IStiDimensionMeter;{class uc extends B.e.StiMeter{constructor(e,t,r){super(e,t,r)}implements(){return uc.ImplementsStiDimensionMeter||(uc.ImplementsStiDimensionMeter=super.implements().concat([Ie])),uc.ImplementsStiDimensionMeter}}B.e.StiDimensionMeter=uc}let Ae=se.System.Collections.Dictionary;var e=se.System.Attribute,Re,Ee,e,e,ke,e,Le,e;{class tt extends e{constructor(e){super(),this.exportToolTypeName=e}static add(e,t){this.attributes.add(e,new tt(t))}}tt.attributes=new Ae,B.f.StiExportToolAttribute=tt}let u=se.Base.Meta.StiBoolMeta,Ve=se.Report.Components.ImplementsIStiCornerRadius,Be=se.Report.Components.IStiCornerRadius,h=se.Base.Drawing.StiCornerRadius,Ne=se.Base.Drawing.StiSimpleShadow,Pe=se.Report.Components.IStiSimpleShadow,Oe=se.Report.Components.ImplementsIStiSimpleShadow,P=se.System.Drawing.Rectangle,ze=se.Report.Dashboard.ImplementsIStiMargin,He=se.Report.Dashboard.ImplementsIStiPadding,Xe=se.Report.Dashboard.ImplementsIStiPanel,Ge=se.Report.Dashboard.ImplementsIStiAltProperties,je=se.Report.Components.StiComponentToolboxPosition,Je=se.Base.Drawing.StiEmptyBrush,We=se.Report.Components.StiToolboxCategory,w=se.Base.Localization.StiLocalization,Ue=se.Base.Drawing.StiSimpleBorder,Ke=se.Report.Dashboard.StiPadding,qe=se.Report.Dashboard.StiMargin,Ye=se.Report.Dashboard.IStiGroupElement,Ze=se.Report.Dashboard.IStiMargin,Qe=se.Report.Dashboard.IStiPadding,_e=se.Report.Dashboard.IStiPanel,$e=se.Report.Components.IStiSimpleBorder,et=se.Report.Components.StiPanel,tt=B.f.StiExportToolAttribute;{tt.add("StiPanelElement","Stimulsoft.Dashboard.Export.Tools.StiPanelElementExportTool");class st extends et{constructor(e=P.empty){super(e),this.margin=qe.create(3),this.padding=Ke.create(0),this.border2=new Ue,this.backColor=N.transparent,this.dashboardWatermark=new G,this.shadow=new Ne,this.cornerRadius=new h(0),this.altTitleVisible=!0,this.altClientRectangle=ye.empty,this.defaultClientRectangle=new P(0,0,300,300),this.helpUrl="user-manual/dashboards_panel.htm",this.key=K.generateKey(),this.brush=new Je,this.placeOnToolbox=!0}implements(){return st.ImplementsStiPanelElement||(st.ImplementsStiPanelElement=super.implements().concat([$e,Be,Pe,_e,Qe,Ze,Ce,X,...Xe,...Ve,...Oe,...He,...ze,...Ge,...H,l])),st.ImplementsStiPanelElement}clone(e){var e,e,e,e;let t=super.clone(e);return t.margin=null==(e=this.margin)?void 0:e.clone(),t.padding=null==(e=this.padding)?void 0:e.clone(),t.border2=null==(e=this.border2)?void 0:e.clone(),t.dashboardWatermark=null==(e=this.dashboardWatermark)?void 0:e.clone().stimulsoft().as(G),t}meta(){return this._hash||(this._hash=[...super.meta(),new E(["Border","UseParentStyles","MinSize","MaxSize","Interaction","PrintOn","GrowToHeight","ShiftMode","CanShrink","CanGrow","Printable","Bookmark","Hyperlink","Conditions","GetBookmarkEvent","GetHyperlinkEvent","GetTagEvent","GetToolTipEvent","BeforePrintEvent","AfterPrintEvent","ClickEvent","DoubleEvent","MouseEnterEvent","MouseLeaveEvent","GetDrillDownReportEvent"]),new s("Margin").get(e=>this.margin.saveToJsonObject(3,3,3,3)),new s("Padding").get(e=>this.padding.saveToJsonObject(0,0,0,0)),new n("Border","border2").get(()=>a.Serialize.jBorder2(this.border2)).set(e=>this.border2=a.Deserialize.simpleBorder(e.value)).setXml(e=>this.border2=a.Deserialize.simpleBorder(e.textContent)),new t("BackColor","",N.transparent),new R("AltClientRectangle","",a.Serialize.rectangleD(ye.empty)).get(()=>a.Serialize.rectangleD(this.altClientRectangle)).set(e=>this.altClientRectangle=a.Deserialize.rectangleD(e.value)).setXml(e=>this.altClientRectangle=this.loadRectangleDFromXml(e.textContent)),new u("AltTitleVisible","",!0),new n("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=h.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=h.tryParse(e.textContent)),new n("Shadow").get(()=>a.Serialize.jShadow(this.shadow)).set(e=>this.shadow=a.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ne.loadFromXml(e.textContent)),new s("DashboardWatermark")])}get componentId(){return Z.StiPanelElement}getMeters(e=!0,t=null){return this.getElements(e,t).selectMany(e=>e.getMeters())}getElements(e=!0,t=null){let r=(e?this.getComponents():this.components).toList().where(e=>e.is(ie)).cast();return(null==t?r.where(e=>!e.is(Ye)||null==re.getGroup(e)):r.where(e=>re.getGroup(e)==t)).toList()}fetchAllMeters(){return new le}getMeters2(){return new le}getFilterRules(){return new le}getNestedPages(){return new le}get dashboard(){return this.page.as(pe)}get isDefined(){return!0}get isQuerable(){return!1}get isEnabled(){return W.isExpressionSpecified(this,"enabled")?J.parseBoolExpression(this,"enabled",!0):this.enabled}get zoom(){return null==this.report||null==this.report.info?1:this.report.info.zoom}retrieveUsedDataNames(e){return new le}getDictionary(){return null!=this.report?this.report.dictionary:null}getDataSources(e){var e;return Q.fetch(this,null,e,null==(e=this.getDictionary())?void 0:e.fetchDataSources())}shouldSerializeMargin(){return!(3==this.margin.left&&3==this.margin.right&&3==this.margin.top&&3==this.margin.bottom)}shouldSerializePadding(){return!this.padding.isEmpty}shouldSerializeBorder(){return null==this.border||!this.border.isDefault()}shouldSerializeBackColor(){return!N.transparent.equals(this.backColor)}shouldSerializeDashboardWatermark(){return null==this.dashboardWatermark||!this.dashboardWatermark.isDefault()}getApp(){return this.report}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}get toolboxPosition(){return je.TextElement}get localizedName(){return w.get("Components","StiPanel")}get brush(){return new F(this.backColor)}set brush(e){this.backColor=q.toColor(e)}get serviceCategory(){return S.get("Permissions","ItemDashboards")}get localizedCategory(){return this.serviceCategory}get toolboxCategory(){return We.Dashboards}canContainIn(e){return e.is(B.e.StiDashboard)}createNew(){return new st}get key(){return this.guid}set key(e){this.guid=e}}B.D.StiPanelElement=st}let rt=se.Report.Dashboard.ImplementsIStiElement,it=se.Report.Components.ImplementsIStiBackColor,st=B.D.StiPanelElement,nt=se.Report.Components.IStiBackColor,lt=se.Report.Components.StiComponent;{class hc extends lt{constructor(e=P.empty){super(e),this.border2=new Ue,this._backColor=N.transparent,this.margin=qe.create(3),this.padding=Ke.create(5),this.altTitleVisible=!0,this.altClientRectangle=ye.empty,this.toolboxCategory=We.Dashboards,this.defaultClientRectangle=new P(0,0,280,280),this.key=K.generateKey(),this.placeOnToolbox=!0}implements(){return hc.ImplementsStiElement||(hc.ImplementsStiElement=super.implements().concat([ie,$e,nt,Qe,Ze,Ce,...rt,...it,...He,...ze,...Ge,l])),hc.ImplementsStiElement}meta(){return this._hash||(this._hash=[...super.meta(),new E(["UseParentStyles","MinSize","MaxSize","Interaction","PrintOn","GrowToHeight","ShiftMode","CanShrink","CanGrow","Printable","Bookmark","Hyperlink","Conditions","GetBookmarkEvent","GetHyperlinkEvent","GetTagEvent","GetToolTipEvent","BeforePrintEvent","AfterPrintEvent","ClickEvent","DoubleEvent","MouseEnterEvent","MouseLeaveEvent","GetDrillDownReportEvent"]),new s("Margin").get(e=>this.margin.saveToJsonObject(3,3,3,3)),new s("Padding").get(e=>this.padding.saveToJsonObject(5,5,5,5)),new n("Border","border2").get(()=>a.Serialize.jBorder2(this.border2)).set(e=>this.border2=a.Deserialize.simpleBorder(e.value)).setXml(e=>this.border2=a.Deserialize.simpleBorder(e.textContent)),new t("BackColor","",N.transparent),new R("AltClientRectangle","",a.Serialize.rectangleD(ye.empty)).get(()=>a.Serialize.rectangleD(this.altClientRectangle)).set(e=>this.altClientRectangle=a.Deserialize.rectangleD(e.value)).setXml(e=>this.altClientRectangle=this.loadRectangleDFromXml(e.textContent)),new u("AltTitleVisible","",!0)])}convert(e,t,r=!1){}fetchAllMeters(){return new le}getMeters(){return new le}get dashboard(){return this.page.as(pe)}get isDefined(){return!0}get isQuerable(){return!0}get isEnabled(){return W.isExpressionSpecified(this,"enabled")?J.parseBoolExpression(this,"enabled",!0):this.enabled}get zoom(){return null!=this.page?this.page.zoom:1}retrieveUsedDataNames2(e){return this.retrieveUsedDataNames()}retrieveUsedDataNames(){return new le}getDictionary(){return null!=this.report?this.report.dictionary:null}getDataSources(e){var e;return Q.fetch(this,null,e,null==(e=this.getDictionary())?void 0:e.fetchDataSources())}clone(e){var e,e,e;let t=super.clone(e);return t.border2=null==(e=this.border2)?void 0:e.clone(),t.margin=null==(e=this.margin)?void 0:e.clone(),t.padding=null==(e=this.padding)?void 0:e.clone(),t}shouldSerializeBorder(){return null==this.border2||!this.border2.isDefault()}get backColor(){return this._backColor}set backColor(e){this._backColor=e}shouldSerializeBackColor(){return!N.transparent.equals(this.backColor)}shouldSerializeMargin(){return!(3==this.margin.left&&3==this.margin.top&&3==this.margin.right&&3==this.margin.bottom)}shouldSerializePadding(){return null==this.padding||5!=this.padding.left||5!=this.padding.top||5!=this.padding.right||5!=this.padding.bottom}get serviceCategory(){return S.get("Permissions","ItemDashboards")}canContainIn(e){return e.is(B.e.StiDashboard)||e.is(st)}get localizedCategory(){return this.serviceCategory}get localizedName(){return S.get("Components","StiDashboard")}get key(){return this.guid}set key(e){this.guid=e}getNestedPages(){return null}}B.e.StiElement=hc}let at=se.Data.Engine.StiDataSorter,ot=se.System.Data.DataColumn,ut=se.Report.Dashboard.StiEmptyCellsAs,ht=se.Report.Dashboard.StiReportParser,O=se.Base.Helpers.StiValueHelper,mt=se.Data.Engine.StiDataGrouper,dt=se.System.Data.DataTable,ct=se.Data.Engine.StiDataTable,gt=se.Report.Helpers.StiStringsTableHelper;{class mc{static getIndicatorDataTable(e,t){let r=gt.loadStringRowsFromCache(t),i=(null==r&&(r=gt.loadStringRowsFromPackedString(e,[this.columnValue,this.columnTarget,this.columnSeries])),new le);if(i.add(new B.T.StiValueIndicatorMeter(null,null,w.get("PropertyMain","Value"))),i.add(new B.T.StiTargetIndicatorMeter(null,null,w.get("PropertyMain","Target"))),i.add(new B.T.StiSeriesIndicatorMeter(null,null,w.get("Chart","Series"))),null==r)return new ct(i,new le);let s=r.groupBy(e=>e[2]).select(e=>[e.sum(e=>this.parseDecimal(e[0],t)),this.sumNullable(e.select(e=>this.parseNullableDecimal(e[1],t)).toList()),this.parseString(e.key,t)]);return new ct(i,s.toList())}static getProgressDataTable(e,t){let r=gt.loadStringRowsFromCache(t),i=(null==r&&(r=gt.loadStringRowsFromPackedString(e,[this.columnValue,this.columnTarget,this.columnSeries])),new le);if(i.add(new B.M.StiValueProgressMeter(null,null,w.get("PropertyMain","Value"))),i.add(new B.M.StiTargetProgressMeter(null,null,w.get("PropertyMain","Target"))),i.add(new B.M.StiSeriesProgressMeter(null,null,w.get("Chart","Series"))),null==r)return new ct(i,new le);let s=r.groupBy(e=>e[2]).select(e=>[e.sum(e=>this.parseDecimal(e[0],t)),this.sumNullable(e.select(e=>this.parseNullableDecimal(e[1],t)).toList()),this.parseString(e.key,t)]);return new ct(i,s.toList())}static getGaugeDataTable(e,t){let r=gt.loadStringRowsFromCache(t),i=(null==r&&(r=gt.loadStringRowsFromPackedString(e,[this.columnValue,this.columnTarget,this.columnSeries])),new le);if(i.add(new B.S.StiValueGaugeMeter(null,null,w.get("PropertyMain","Value"))),i.add(new B.S.StiTargetGaugeMeter(null,null,w.get("PropertyMain","Target"))),i.add(new B.S.StiSeriesGaugeMeter(null,null,w.get("Chart","Series"))),null==r)return new ct(i,new le);let s=r.groupBy(e=>e[2]).select(e=>[e.sum(e=>this.parseDecimal(e[0],t)),this.sumNullable(e.select(e=>this.parseNullableDecimal(e[1],t)).toList()),this.parseString(e.key,t)]);return new ct(i,s.toList())}static getChartDataTable(e,i){var t=i.as(B.H.StiChartElement),s={ref:[]};let r=gt.loadColumnsAndStringRowsFromCache(i,s);null==r&&(r=gt.loadColumnsAndStringRowsFromPackedString(e,s));var n=t.isBubbleChart,l=t.isRange,a=t.isFinancial,o,u;let h=t.manuallyEnteredChartMeter,m=new le,d=new le;for(o of s.ref){var c=d.length;switch(o){case this.columnValue:if(n)d.add(new B.H.StiYChartMeter("Value","T.Value","Y"));else if(l)d.add(new B.H.StiStartValueChartMeter("Value","Sum(T.Value)",w.get("PropertyMain","Values"),h.seriesType));else if(a)d.add(new B.H.StiOpenValueChartMeter("Value","Sum(T.Value)",w.get("PropertyMain","OpenValues"),h.seriesType));else{let e=h.clone().as(B.H.StiValueChartMeter);e.expression="Sum(T.Value)",e.label=w.get("PropertyMain","Values"),e.key="Value",e.showNulls=ut.ConnectPointsWithLine,e.showZeros=ut.ConnectPointsWithLine,d.add(e)}break;case this.columnEndValue:l&&d.add(new B.H.StiEndValueChartMeter("EndValue","Sum(T.EndValue)",w.get("PropertyMain","EndValues")));break;case this.columnCloseValue:a&&d.add(new B.H.StiCloseValueChartMeter("CloseValue","Sum(T.CloseValue)",w.get("PropertyMain","CloseValues")));break;case this.columnLowValue:a&&d.add(new B.H.StiLowValueChartMeter("LowValue","Sum(T.LowValue)",w.get("PropertyMain","LowValues")));break;case this.columnHighValue:a&&d.add(new B.H.StiHighValueChartMeter("HighValue","Sum(T.HighValue)",w.get("PropertyMain","HighValues")));break;case this.columnArgument:n?d.add(new B.H.StiXChartMeter("Argument","T.Argument","X")):d.add(new B.H.StiArgumentChartMeter("Argument","T.Argument",w.get("PropertyMain","Arguments")));break;case this.columnWeight:n&&d.add(new B.H.StiWeightChartMeter("Weight","Sum(T.Weight)",w.get("PropertyMain","Weights")));break;case this.columnSeries:d.add(new B.H.StiSeriesChartMeter("Series","T.Series",w.get("PropertyMain","Series")));break}d.length!=c&&m.add(o)}if(null==r||!r.any())return new ct(d,new le);let g=new dt;g.tableName="T";for(u of r){let t=g.newRow(),r=0;for(var p of s.ref){let e=null;switch(p){case this.columnValue:e=this.parseDecimal(u[r],i);break;case this.columnEndValue:e=this.parseDecimal(u[r],i);break;case this.columnCloseValue:e=this.parseDecimal(u[r],i);break;case this.columnLowValue:e=this.parseDecimal(u[r],i);break;case this.columnHighValue:e=this.parseDecimal(u[r],i);break;case this.columnArgument:e=n?this.parseDecimal(u[r],i):this.parseString(u[r],i);break;case this.columnWeight:e=this.parseDecimal(u[r],i);break;case this.columnSeries:e=this.parseString(u[r],i);break}var S=m.indexOf(p),p;-1!=S&&(g.columns.contains("T."+p)||(p=new ot("T."+p,"string"==typeof e?String:Number),g.columns.add(p)),t.sett(S,e)),r++}g.rows.add(t)}var e=mt.group(i.getDictionary(),g,d.toList());return at.sort(e,t.userSorts,t.report,0)}static sumNullable(e){if(null==e)return null;if(!(e=null==e?void 0:e.where(e=>null!=e)).any())return null;return e.sum()}static parseDecimal(e,t){return null!=e&&0<=e.indexOf("{")?O.tryToNumber(ht.parse2(e,t.report)):O.tryToNumber(e)}static parseNullableDecimal(e,t){return null!=e&&0<=e.indexOf("{")&&(e=ht.parse2(e,t.report)),ne.isNullOrWhiteSpace(e)?null:O.tryToNumber(e)}static parseString(e,t){if(null==e)return"";let r="string"==typeof e?e:null==e?void 0:e.stimulsoft().toString();return null!=r&&0<=r.indexOf("{")?ht.parse2(r,t.report):r}}mc.columnValue="Value",mc.columnEndValue="EndValue",mc.columnTarget="Target",mc.columnCloseValue="CloseValue",mc.columnLowValue="LowValue",mc.columnHighValue="HighValue",mc.columnArgument="Argument",mc.columnWeight="Weight",mc.columnSeries="Series",B.e.StiManuallyEnteredDataParser=mc}let pt=se.Base.Meters.IStiMeasureMeter;{class dc extends B.e.StiMeter{constructor(e,t,r){super(e,t,r)}implements(){return dc.ImplementsStiMeasureMeter||(dc.ImplementsStiMeasureMeter=super.implements().concat([pt])),dc.ImplementsStiMeasureMeter}}B.e.StiMeasureMeter=dc}let St=se.Report.Dashboard.StiTextSizeMode,wt=se.Base.Meta.StiFontMeta,ft=se.Report.Dashboard.ImplementsIStiTitle,Ct=se.Report.Dashboard.IStiTitle,bt=se.System.ICloneable,L=se.System.Drawing.FontStyle,z=se.System.Drawing.Font,ae=se.Base.Drawing.StiHorAlignment;{class An{constructor(e,t,r,i,s,n,l){this.horAlignment=ae.Left,this.font=new z("Arial",11),this.backColor=N.transparent,this.foreColor=N.transparent,this.text="",this.visible=!0,this.sizeMode=St.Fit,this.text=e,null!=t&&(this.foreColor=t),null!=r&&(this.backColor=r),null!=i&&(this.font=i),null!=s&&(this.horAlignment=s),null!=n&&(this.visible=n),null!=l&&(this.sizeMode=l)}implements(){return An.ImplementsStiTitle||(An.ImplementsStiTitle=[bt,l,Ct,...ft]),An.ImplementsStiTitle}meta(){return this._hash||(this._hash=[new R("Text"),new t("ForeColor","",N.transparent),new t("BackColor","",N.transparent),new u("Visible","",!0),new wt("Font","","Arial",11),new i("HorAlignment","",ae,ae.Left),new i("SizeMode","",St,St.Fit)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}static createFromJsonObject(e){let t=new An;return t.loadFromJsonObject(e),t}static createFromXml(e){let t=new An;return t.loadFromXml(e),t}clone(){return this.stimulsoft().memberwiseClone()}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&11==this.font.sizeInPoints&&this.font.style==L.Regular)}shouldSerializeBackColor(){return!N.transparent.equals(this.backColor)}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}}B.e.StiTitle=An}let yt=se.Report.Helpers.StiFontIcons,vt=se.Base.Design.IStiDefault,xt=se.Report.Dashboard.IStiButtonElementIconSet;{class It{constructor(e,t){this.icon=null,this.checkedIcon=null,this.uncheckedIcon=null,null!=e&&(this.checkedIcon=e),null!=t&&(this.uncheckedIcon=t)}implements(){return[xt,vt,bt]}meta(){return this._hash||(this._hash=[new i("Icon","",yt).check(()=>null!=this.icon),new i("CheckedIcon","",yt).check(()=>null!=this.checkedIcon),new i("UncheckedIcon","",yt).check(()=>null!=this.uncheckedIcon)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}static createFromJsonObject(e){let t=new It;return t.loadFromJsonObject(e),t}static createFromXml(e){let t=new It;return t.loadFromXml(e),t}clone(){return this.stimulsoft().memberwiseClone()}isDefault(){return null==this.icon&&null==this.checkedIcon&&null==this.uncheckedIcon}}B.E.StiButtonElementIconSet=It}let Ft=se.Base.Meta.StiEventMeta,Tt=se.Report.Events.StiCheckedChangedEvent,Mt=se.Report.Events.StiClickEvent,Dt=se.Base.Meta.StiBrushMeta,It=B.E.StiButtonElementIconSet,At=se.Report.Dashboard.StiIconAlignment,Rt=se.Base.StiAlignValue,Et=se.Report.Design.StiCopyStyleExtHub,kt=se.Base.Drawing.StiStyleBrush,Lt=se.Base.Drawing.StiVertAlignment,oe=se.Base.Drawing.StiBorderSides,Vt=se.Base.Drawing.StiTextHorAlignment,Bt=se.Report.Components.TextFormats.StiGeneralFormatService,Nt=se.Report.Dashboard.StiButtonType,Pt=se.System.StiNumber,Ot=se.Base.Drawing.StiButtonShapeType,zt=se.Report.Dashboard.StiButtonStretch,Ht=se.Report.Dashboard.ImplementsIStiButtonElement,Xt=se.Report.Design.IStiCopyStyleExt,Gt=se.Report.Components.IStiWordWrap,jt=se.Report.Components.IStiTextBrush,Jt=se.Report.Dashboard.IStiButtonElement,Wt=se.Report.Dashboard.ImplementsIStiFixedHeightElement,Ut=se.Report.Components.ImplementsIStiFont,Kt=se.Report.Components.ImplementsIStiVertAlignment,qt=se.Report.Components.ImplementsIStiTextHorAlignment,Yt=se.Report.Components.IStiBrush,Zt=se.Report.Dashboard.IStiFixedHeightElement,Qt=se.Report.Components.IStiFont,_t=se.Report.Components.IStiVertAlignment,$t=se.Report.Components.IStiTextHorAlignment;{let t=se.Base.Drawing.SizeD,r=se.Base.Drawing.RectangleD;class Th extends B.e.StiElement{constructor(e=P.empty){super(e),this.checkedValue=!1,this.shapeType=Ot.Rectangle,this._stretch=zt.StretchXY,this.type=Nt.Button,this.shadow=new Ne,this._style=o.Auto,this._customStyleName="",this.userFilters=new le,this.textFormat=new Bt,this.font=new z("Arial",10),this.cornerRadius=new h,this.horAlignment=Vt.Center,this.vertAlignment=Lt.Center,this.wordWrap=!0,this.brush=new kt,this.textBrush=new kt,this.defaultClientRectangle=new r(0,0,140,40),this.helpUrl="user-manual/dashboards_data_filtering_button.htm",this.text="Button",this.group="",this.iconAlignment=At.Left,this.iconBrush=new kt,this.iconSet=new It,this.visualStates=new B.E.StiButtonVisualStates,this.border2.side=oe.All,this.border2.size=2}implements(){return Th.ImplementsStiButtonElement||(Th.ImplementsStiButtonElement=super.implements().concat([Jt,Xt,$t,_t,Gt,Qt,Zt,Yt,jt,l,...Ht,...qt,...Kt,...Ut,...Wt])),Th.ImplementsStiButtonElement}clone(e){var e,e,e,e,e,e,e;let t=super.clone(e);return t.brush=null==(e=this.brush)?void 0:e.clone(),t.textBrush=null==(e=this.textBrush)?void 0:e.clone(),t.iconBrush=null==(e=this.iconBrush)?void 0:e.clone(),t.iconSet=null==(e=this.iconSet)?void 0:e.clone(),t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.font=null==(e=this.font)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t.visualStates=this.visualStates.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new R("Text","","Button"),new i("Style","",o,o.Auto),new i("Type","",Nt,Nt.Button),new i("ShapeType","",Ot,Ot.Rectangle),new i("Stretch","",zt,zt.StretchXY),new n("CustomStyleName"),new n("Group"),new i("HorAlignment","",Vt,Vt.Center),new i("VertAlignment","",Lt,Lt.Center),new i("IconAlignment","",At,At.Left),new u("WordWrap","",!0),new n("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=h.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=h.tryParse(e.textContent)),new n("Shadow").get(()=>a.Serialize.jShadow(this.shadow)).set(e=>this.shadow=a.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ne.loadFromXml(e.textContent)),new Dt("Brush"),new Dt("TextBrush"),new Dt("IconBrush"),new wt("Font","","Arial",10),new u("Checked"),new s("IconSet").check(()=>null!=this.iconSet&&!this.iconSet.isDefault()).get(()=>this.iconSet.saveToJsonObject(Me.Report)).set(e=>this.iconSet=It.createFromJsonObject(e.value)).setXml(e=>this.iconSet=It.createFromXml(e)),new s("VisualStates").check(()=>null!=this.visualStates).get(()=>this.visualStates.saveToJsonObject(Me.Report)).set(e=>this.visualStates=B.E.StiButtonVisualStates.createFromJsonObject(e.value)).setXml(e=>this.visualStates=B.E.StiButtonVisualStates.createFromXml(e)),new Ft("ClickEvent",Mt),new Ft("CheckedChangedEvent",Tt)])}get componentId(){return Z.StiButtonElement}get isFixedHeight(){return this.stretch==zt.StretchX}get checked(){return this.checkedValue}set checked(e){this.checkedValue!=e&&(this.checkedValue=e)}get stretch(){return this._stretch}set stretch(e){var e;this._stretch!=e&&(this._stretch=e)==zt.StretchX&&this.isDesigning&&null!=(e=this.getFixedHeight())&&(this.height=Pt.getValueOrDefault(e))}getIconSet(){return this.iconSet}getVisualStates(){return this.visualStates}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault()}get style(){return this._style}set style(e){this._style!=e&&(this._style=e)!=o.Custom&&(this.customStyleName="")}get customStyleName(){return this._customStyleName}set customStyleName(e){this._customStyleName!=e&&(this._customStyleName=e,ne.isNullOrWhiteSpace(e)||(this._style=o.Custom))}convertFrom(e){}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&10==this.font.sizeInPoints&&this.font.style==L.Regular)}getParentKey(){return""}setParentKey(e){}applyDefaultFilters(){return se.tsfb(this,void 0,void 0,function*(){})}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}getFonts(){let e=super.getFonts().stimulsoft().toList();return e.add(new z(this.font.name,this.font.size,this.font.style,this.font.unit)),e.addRange(this.visualStates.getFonts()),e.distinct().cast().toList()}shouldSerializeBrush(){return!this.brush.is(kt)}shouldSerializeTextBrush(){return!this.textBrush.is(kt)}get backColor(){return q.toColor(this.brush)}set backColor(e){this.brush=new F(e)}get foreColor(){return q.toColor(this.textBrush)}set foreColor(e){this.textBrush=new F(e)}invokeSetCopyStyle(){null!=Et.visualStateDefault&&this.loadFromJsonObject(Et.visualStateDefault),this.visualStates.invokeSetCopyStyle()}invokeGetCopyStyle(){Et.visualStateDefault=this.saveToJsonObject(Me.Report),this.visualStates.invokeGetCopyStyle()}get toolboxPosition(){return je.ButtonElement}get localizedName(){return w.get("Components","StiButton")}createNew(){return new Th}getFixedHeight(){var e,e=null==(e=this.report)?void 0:e.getCurrentPage();if(null==e)return null;return Rt.alignToMaxGrid(this.defaultClientRectangle.height,e.gridSize,!0)}getEvents(){let e=new le;return null!=this.clickEvent&&e.add(this.clickEvent),null!=this.checkedChangedEvent&&e.add(this.checkedChangedEvent),e}get visualStates(){return this._visualStates}set visualStates(e){e!=this._visualStates&&null!=(this._visualStates=e)&&(e.parent=this)}shouldSerializeVisualStates(){return null==this.visualStates||!this.visualStates.isDefault()}get isChecked(){return W.isExpressionSpecified(this,"checked")?J.parseBoolExpression(this,"checked",!0):this.checked}getMinSize(){if(!this.isFixedHeight)return super.getMinSize();var e=this.getFixedHeight();if(null==e)return t.empty;return new t(0,Pt.getValueOrDefault(e))}setMinSize(e){this.isFixedHeight||super.setMinSize(e)}getMaxSize(){if(!this.isFixedHeight)return super.getMaxSize();var e=this.getFixedHeight();if(null==e)return t.empty;return new t(0,Pt.getValueOrDefault(e))}setMaxSize(e){this.isFixedHeight||super.setMaxSize(e)}shouldSerializeIconSet(){return null==this.iconSet||!this.iconSet.isDefault()}shouldSerializeIconBrush(){return!this.iconBrush.is(kt)}invokeCheckedChanged(e,t){}get checkedChangedEvent(){return new Tt(this)}set checkedChangedEvent(e){null!=e&&e.set(this,e.script)}}Th.eventCheckedChanged={},B.E.StiButtonElement=Th}let er=se.Base.Drawing.StiDefaultBrush,tr=se.Report.Dashboard.IStiButtonVisualState;{class cc{constructor(){this.font=null,this.brush=new er,this.textBrush=new er,this.border=null,this.iconSet=new B.E.StiButtonElementIconSet,this.iconBrush=new er}implements(){return[tr,bt,vt]}meta(){return this._hash||(this._hash=[new Dt("Brush").check(()=>null!=this.brush),new Dt("TextBrush").check(()=>null!=this.textBrush),new Dt("IconBrush").check(()=>null!=this.iconBrush),new n("Font").check(()=>null!=this.font).get(()=>a.Serialize.font(this.font)).set(e=>this.font=a.Deserialize.font(e.value,this.font)).setXml(e=>this.font=se.System.Convert.toFont(e.textContent)),new n("Border").check(()=>null!=this.border).get(()=>a.Serialize.jBorder2(this.border)).set(e=>this.border=a.Deserialize.simpleBorder(e.value)).setXml(e=>this.border=a.Deserialize.simpleBorder(e.textContent)),new s("IconSet").check(()=>null!=this.iconSet&&!this.iconSet.isDefault()).get(()=>this.iconSet.saveToJsonObject(Me.Report)).set(e=>this.iconSet=B.E.StiButtonElementIconSet.createFromJsonObject(e.value)).setXml(e=>this.iconSet=B.E.StiButtonElementIconSet.createFromXml(e))])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}static createFromJsonObject(e){let t=new cc;return t.loadFromJsonObject(e),t}static createFromXml(e){let t=new cc;return t.loadFromXml(e),t}clone(){var e,e,e,e,e,e;let t=this.stimulsoft().memberwiseClone();return t.border=null==(e=this.border)?void 0:e.clone(),t.brush=null==(e=this.brush)?void 0:e.clone(),t.textBrush=null==(e=this.textBrush)?void 0:e.clone(),t.iconBrush=null==(e=this.iconBrush)?void 0:e.clone(),t.font=null==(e=this.font)?void 0:e.clone(),t.iconSet=null==(e=this.iconSet)?void 0:e.clone(),t}isDefault(){return!(this.shouldSerializeBrush()||this.shouldSerializeTextBrush()||this.shouldSerializeIconBrush()||this.shouldSerializeBorder()||this.shouldSerializeIconSet()||this.shouldSerializeFont())}shouldSerializeFont(){return null!=this.font}shouldSerializeBrush(){return!this.brush.is(er)}shouldSerializeTextBrush(){return!this.textBrush.is(er)}shouldSerializeBorder(){return null!=this.border}shouldSerializeIconSet(){return null==this.iconSet||!this.iconSet.isDefault()}getIconSet(){return this.iconSet}shouldSerializeIconBrush(){return!this.iconBrush.is(er)}}B.E.StiButtonVisualState=cc}let rr=se.Base.IStiGetFonts,ir=se.Report.Dashboard.IStiButtonVisualStates;{class gc{constructor(){this.hover=new B.E.StiButtonVisualState,this.pressed=new B.E.StiButtonVisualState,this.checked=new B.E.StiButtonVisualState}implements(){return[ir,bt,rr,Xt,vt]}meta(){return this._hash||(this._hash=[new s("Hover").check(()=>null!=this.hover).get(()=>this.hover.saveToJsonObject(Me.Report)).set(e=>this.hover=B.E.StiButtonVisualState.createFromJsonObject(e.value)).setXml(e=>this.hover=B.E.StiButtonVisualState.createFromXml(e)),new s("Pressed").check(()=>null!=this.pressed).get(()=>this.pressed.saveToJsonObject(Me.Report)).set(e=>this.pressed=B.E.StiButtonVisualState.createFromJsonObject(e.value)).setXml(e=>this.pressed=B.E.StiButtonVisualState.createFromXml(e)),new s("Checked").check(()=>null!=this.checked).get(()=>this.checked.saveToJsonObject(Me.Report)).set(e=>this.checked=B.E.StiButtonVisualState.createFromJsonObject(e.value)).setXml(e=>this.checked=B.E.StiButtonVisualState.createFromXml(e))])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}static createFromJsonObject(e){let t=new gc;return t.loadFromJsonObject(e),t}static createFromXml(e){let t=new gc;return t.loadFromXml(e),t}clone(){let e=this.stimulsoft().memberwiseClone();return e.hover=this.hover.clone(),e.pressed=this.pressed.clone(),e.checked=this.checked.clone(),e}isDefault(){return!this.shouldSerializeHover()&&!this.shouldSerializePressed()&&!this.shouldSerializeChecked()}getFonts(){let e=new le;return e.add(this.hover.font),e.add(this.pressed.font),e.add(this.checked.font),e.distinct().toList()}invokeSetCopyStyle(){null!=Et.visualStateHover&&(this.hover=new B.E.StiButtonVisualState,this.hover.loadFromJsonObject(Et.visualStateHover)),null!=Et.visualStatePressed&&(this.pressed=new B.E.StiButtonVisualState,this.pressed.loadFromJsonObject(Et.visualStatePressed)),null!=Et.visualStateChecked&&(this.checked=new B.E.StiButtonVisualState,this.checked.loadFromJsonObject(Et.visualStateDisabled))}invokeGetCopyStyle(){Et.visualStateHover=this.hover.saveToJsonObject(Me.Report),Et.visualStatePressed=this.pressed.saveToJsonObject(Me.Report),Et.visualStateChecked=this.checked.saveToJsonObject(Me.Report)}getHoverState(){return this.hover}getPressedState(){return this.pressed}getCheckedState(){return this.checked}get hover(){return this._hover}set hover(e){this._hover!=e&&null!=(this._hover=e)&&(e.parent=this.parent)}shouldSerializeHover(){return null==this.hover||!this.hover.isDefault()}get pressed(){return this._pressed}set pressed(e){this._pressed!=e&&null!=(this._pressed=e)&&(e.parent=this.parent)}shouldSerializePressed(){return null==this.pressed||!this.pressed.isDefault()}get checked(){return this._checked}set checked(e){this._checked!=e&&null!=(this._checked=e)&&(e.parent=this.parent)}shouldSerializeChecked(){return null==this.checked||!this.checked.isDefault()}}B.E.StiButtonVisualStates=gc}let sr=se.Base.Meters.IStiCardsColumn,nr=se.Base.Drawing.StiCardsColumnVisibility,lr=se.Report.Components.ImplementsIStiForeColor,ar=se.Report.Components.ImplementsIStiHorAlignment,or=se.Report.Components.TextFormats.StiFormatService,ur=se.Report.Components.IStiForeColor,hr=se.Report.Components.IStiTextFormat,mr=se.Report.Components.IStiHorAlignment;{class cr extends B.e.StiMeter{constructor(e,t,r,i,s,n,l,a,o,u,h){super(e,t,r),this.horAlignment=ae.Center,this.vertAlignment=Lt.Center,this.textFormat=new Bt,this.font=new z("Arial",10),this.foreColor=N.transparent,this.wrapLine=!0,this.height=0,this.visibility=nr.True,this.visibilityExpression=null,null!=i&&(this.horAlignment=i),null!=s&&(this.vertAlignment=s),null!=l&&(this.textFormat=l),null!=a&&(this.visibility=a),null!=o&&(this.visibilityExpression=o),null!=u&&(this.foreColor=u),null!=n&&(this.height=n),null!=h&&(this.wrapLine=h)}implements(){return cr.ImplementsStiCardsColumn||(cr.ImplementsStiCardsColumn=super.implements().concat([sr,mr,_t,ur,hr,Qt,...ar,...lr,...Ut])),cr.ImplementsStiCardsColumn}meta(){return this._hash||(this._hash=[...super.meta(),new i("HorAlignment","",ae,ae.Center),new i("VertAlignment","",Lt,Lt.Center),new A("Height",""),new u("WrapLine","",!0),new s("TextFormat").check(()=>!(this.textFormat.is(Bt)||null==this.textFormat)).set(e=>this.textFormat=or.createFromJsonObject(e.value)).setXml(e=>{var e=or.loadFormatFromXml(e);null!=e&&(this.textFormat=e)}),new t("ForeColor","",N.transparent),new i("Visibility","",nr,nr.True),new wt("Font","","Arial",10),new n("VisibilityExpression").check(()=>null!=this.visibilityExpression)])}clone(){let e=super.clone();return e.textFormat=this.textFormat.clone(),e}shouldSerializeTextFormat(){return!this.textFormat.is(Bt)}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}isDefault(){return super.isDefault()&&this.visibility==nr.True&&null==this.visibilityExpression&&this.horAlignment==ae.Left&&!this.shouldSerializeTextFormat()&&!this.shouldSerializeForeColor()}getUniqueCode(){let e=super.getUniqueCode();return e=397*(e=397*(e=397*(e=397*(e=397*e^this.horAlignment)^this.vertAlignment)^(null!=this.textFormat?this.textFormat.stimulsoft().getHashCode():0))^this.visibility.stimulsoft().getHashCode())^this.height.stimulsoft().getHashCode(),null!=this.visibilityExpression&&(e=397*e^this.visibilityExpression.stimulsoft().getHashCode()),Math.abs(e)}}B.F.StiCardsColumn=cr}let dr=se.Base.Meters.IStiMeasureCardsColumn,cr=B.F.StiCardsColumn,gr=se.Base.Meters.IStiMeasureColumn;{class pr extends cr{constructor(e,t,r,i,s,n,l,a,o,u,h){super(e,t,r,i,s,n,l,a,o,u,h),this.ident=B.e.StiMeterIdent.MeasureCardsColumn}implements(){return pr.ImplementsStiMeasureCardsColumn||(pr.ImplementsStiMeasureCardsColumn=super.implements().concat([pt,gr,dr])),pr.ImplementsStiMeasureCardsColumn}get localizedName(){return S.get("Dashboard","Measure")}}B.F.StiMeasureCardsColumn=pr}let pr=B.F.StiMeasureCardsColumn,Sr=se.Base.Drawing.StiColor,wr=se.Base.Meters.IStiBubbleColumn;{class bi extends pr{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d,c){super(e,t,r,i,s,n,l,a,o,u,c),this.ident=B.e.StiMeterIdent.BubbleCardsColumn,this.allowCustomColors=!1,this.positiveColor=Sr.get("537eb6"),this.negativeColor=Sr.get("ff0000"),this.horAlignment=ae.Center,null!=h&&(this.allowCustomColors=h),null!=m&&(this.positiveColor=m),null!=d&&(this.negativeColor=d)}implements(){return bi.ImplementsStiBubbleCardsColumn||(bi.ImplementsStiBubbleCardsColumn=super.implements().concat([wr,l])),bi.ImplementsStiBubbleCardsColumn}meta(){return this._hash||(this._hash=[...super.meta(),new i("HorAlignment","",ae,ae.Center),new u("AllowCustomColors"),new t("PositiveColor","",Sr.get("537eb6")),new t("NegativeColor","",Sr.get("ff0000"))])}getUniqueCode(){var e,e=397*(e=super.getUniqueCode())^this.horAlignment.stimulsoft().getHashCode();return Math.abs(e)}isDefault(){return super.isDefault()&&this.horAlignment==ae.Center&&!this.allowCustomColors&&!this.shouldSerializePositiveColor()&&!this.shouldSerializeNegativeColor()}shouldSerializePositiveColor(){return!Sr.get("537eb6").equals(this.positiveColor)}shouldSerializeNegativeColor(){return!Sr.get("ff0000").equals(this.negativeColor)}get localizedName(){return S.get("Chart","Bubble")}}B.F.StiBubbleCardsColumn=bi}B.F.StiCardsColumnVisibilityHelper=class{static getVisible(e,t){if(e.visibility==nr.True)return!0;if(e.visibility==nr.False)return!1;if(ne.isNullOrWhiteSpace(e.visibilityExpression))return!1;var e=ht.parse2(e.visibilityExpression,t);return O.tryToBool(e)}};let fr=se.Base.Meters.IStiDimensionCardsColumn;{class Fi extends cr{constructor(e,t,r,i,s,n,l,a,o,u,h){super(e,t,r,i,s,n,l,a,o,u,h),this.ident=B.e.StiMeterIdent.DimensionCardsColumn}implements(){return Fi.ImplementsStiDimensionCardsColumn||(Fi.ImplementsStiDimensionCardsColumn=super.implements().concat([Ie,fr])),Fi.ImplementsStiDimensionCardsColumn}get localizedName(){return S.get("Dashboard","Dimension")}}B.F.StiDimensionCardsColumn=Fi}let Cr=se.Base.StiActivator,br=(B.G.StiMeterLoader=class{static loadFromJson2(e){let t=new le;return e.forEach(e=>t.add(this.loadFromJson(e))),t.where(e=>null!=e)}static loadFromJson(t){let r=t.properties().firstOrDefault(e=>"Ident"==e.name);if(null!=r){var i=r.value.toString();let e=B.G.StiMeterCreator.neww(i);if(null!=e)return e.loadFromJsonObject(t),e}return null}static loadFromXml(t){var e;if(null!=t.attributes.getNamedItem("type")){var r=t.attributes.getNamedItem("type").value;if(!ne.isNullOrEmpty(r)){let e=Cr.createObject2(r);if(null!=e)return e.loadFromXml(t),e}}return null}},se.Base.Meters.IStiArgumentMeter);{class bs extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.ArgumentChartMeter}implements(){return bs.ImplementsStiArgumentChartMeter||(bs.ImplementsStiArgumentChartMeter=super.implements().concat([br])),bs.ImplementsStiArgumentChartMeter}get localizedName(){return S.get("PropertyMain","Argument")}}B.H.StiArgumentChartMeter=bs}let yr=se.Base.Meters.IStiValueMeter;{class ki extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.KeyTreeViewBoxMeter}implements(){return ki.ImplementsStiKeyTreeViewBoxMeter||(ki.ImplementsStiKeyTreeViewBoxMeter=super.implements().concat([yr])),ki.ImplementsStiKeyTreeViewBoxMeter}get localizedName(){return S.get("PropertyMain","Key")}}B.I.StiKeyTreeViewBoxMeter=ki}{class Li extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.KeyTreeViewMeter}implements(){return Li.ImplementsStiKeyTreeViewMeter||(Li.ImplementsStiKeyTreeViewMeter=super.implements().concat([yr])),Li.ImplementsStiKeyTreeViewMeter}get localizedName(){return S.get("PropertyMain","Key")}}B.J.StiKeyTreeViewMeter=Li}B.x.StiDashboardInteractionLoader=class{static loadInteractionFromJsonObject(e){var t=e.properties().firstOrDefault(e=>"Ident"==e.name).value.toString();let r=B.x.StiDashboardInteractionCreator.new2(t);return r.loadFromJsonObject(e),r}static loadInteractionFromXml(t){var e;if(null!=t.attributes.getNamedItem("type")){var r=t.attributes.getNamedItem("type").value;if(!ne.isNullOrEmpty(r)){let e=Cr.createObject2(r);if(null!=e)return e.loadFromXml(t),e}}return null}};let vr=se.Report.Dashboard.IStiDashboardInteraction,xr=se.Report.Dashboard.StiInteractionOnHover,Fr=se.Report.Dashboard.StiInteractionOnClick,Tr=se.Report.Dashboard.StiInteractionOpenHyperlinkDestination,Mr=se.Report.Dashboard.StiInteractionIdent,Dr=se.Report.Dashboard.StiAvailableInteractionOnClick,Ir=se.Report.Dashboard.StiAvailableInteractionOnHover,Ar=se.Report.Dashboard.StiAvailableInteractionOnDataManipulation;{class pc{constructor(e,t,r,i,s,n,l){this.availableOnClick=Dr.All,this.availableOnHover=Ir.All,this.availableOnDataManipulation=Ar.None,this.onHover=xr.ShowToolTip,this.onClick=Fr.ApplyFilter,this.hyperlinkDestination=Tr.NewTab,this.toolTip="",this.hyperlink="",this.drillDownPageKey="",this.drillDownParameters=new le,null!=e&&(this.onHover=e),null!=t&&(this.onClick=t),null!=r&&(this.hyperlinkDestination=r),null!=i&&(this.toolTip=i),null!=s&&(this.hyperlink=s),null!=n&&(this.drillDownPageKey=n),null!=l&&(this.drillDownParameters=l)}implements(){return pc.ImplementsStiDashboardInteraction||(pc.ImplementsStiDashboardInteraction=[vr,l]),pc.ImplementsStiDashboardInteraction}is(e){if(e instanceof se.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}clone(e=!0,t=!0){return this.stimulsoft().memberwiseClone()}meta(){return this._hash||(this._hash=[new i("Ident","",Mr),new i("OnHover","",xr),new i("OnClick","",Fr),new i("HyperlinkDestination","",Tr),new n("ToolTip"),new n("DrillDownPageKey"),new n("Hyperlink"),new s("DrillDownParameters").get(e=>a.Serialize.objectArray(this.drillDownParameters,e)).set(e=>this.drillDownParameters.addRange(e.value.properties().select(e=>B.g.StiDashboardDrillDownParameter.loadFromJson(e.value)))).setXml(e=>this.drillDownParameters.addRange(e.childNodes.select(e=>B.g.StiDashboardDrillDownParameter.loadFromXml(e))))])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}isDefault(){return this.onHover==xr.ShowToolTip&&this.onClick==Fr.ApplyFilter&&this.hyperlinkDestination==Tr.NewTab&&ne.isNullOrEmpty(this.hyperlink)&&ne.isNullOrEmpty(this.drillDownPageKey)&&null!=this.drillDownParameters&&0==this.drillDownParameters.length&&ne.isNullOrEmpty(this.toolTip)}getDrillDownParameters(){return this.drillDownParameters.cast().toList()}setDrillDownParameters(e){this.drillDownParameters=new le,null!=e&&e.stimulsoft().toList().forEach(e=>{let t=new B.g.StiDashboardDrillDownParameter;t.name=e["name"],t.expression=e["expression"],this.drillDownParameters.add(t)})}shouldSerializeOnHover(){return this.onHover!=xr.ShowToolTip}shouldSerializeOnClick(){return this.onClick!=Fr.ApplyFilter}}B.g.StiDashboardInteraction=pc}B.g.StiTableColumnDashboardInteraction=class extends B.g.StiDashboardInteraction{constructor(e,t,r,i,s,n,l){super(e,t,r,i,s,n,l),this.ident=Mr.TableColumn,this.availableOnClick=Dr.ApplyFilter|Dr.ShowDashboard,this.onHover=xr.None,this.onClick=Fr.None}isDefault(){return this.onHover==xr.None&&this.onClick==Fr.None&&this.hyperlinkDestination==Tr.NewTab&&ne.isNullOrEmpty(this.hyperlink)&&ne.isNullOrEmpty(this.drillDownPageKey)&&null!=this.drillDownParameters&&0==this.drillDownParameters.length&&ne.isNullOrEmpty(this.toolTip)}};let Rr=se.Base.Drawing.StiTableColumnVisibility,Er=se.Data.Engine.IStiDataFormat,kr=se.Report.Components.TextFormats.StiTimeFormatService,Lr=se.Report.Components.TextFormats.StiDateFormatService,Vr=se.Report.Components.TextFormats.StiNumberFormatService,Br=se.Report.Components.TextFormats.StiCurrencyFormatService,Nr=se.Report.Components.TextFormats.StiPercentageFormatService,Pr=se.Report.Components.TextFormats.StiBooleanFormatService,Or=se.Data.Engine.StiDataFormatKind,zr=se.Base.StiSummaryColumnType,Hr=se.Report.Dashboard.IStiElementInteraction,Xr=B.x.StiDashboardInteractionLoader,Gr=B.g.StiTableColumnDashboardInteraction,jr=se.Report.Components.ImplementsIStiTextFormat,Jr=se.Base.Meters.IStiTableColumn;{class ns extends B.e.StiMeter{constructor(e,t,r,i,s,n,l,a,o,u,h,m){super(e,t,r),this.horAlignment=ae.Left,this.textFormat=new Bt,this.foreColor=N.transparent,this.dashboardInteraction=new Gr,this.visibility=Rr.True,this.visibilityExpression=null,this.showTotalSummary=!1,this.summaryType=zr.Sum,this.summaryAlignment=ae.Right,null!=i&&(this.horAlignment=i),null!=s&&(this.textFormat=s),null!=n&&(this.visibility=n),null!=l&&(this.visibilityExpression=l),null!=o&&(this.showTotalSummary=o),null!=h&&(this.summaryAlignment=h),null!=u&&(this.summaryType=u),null!=a&&(this.foreColor=a),null!=m&&(this.dashboardInteraction=m)}implements(){return ns.ImplementsStiTableColumn||(ns.ImplementsStiTableColumn=super.implements().concat([mr,hr,Jr,Er,ur,...ar,...jr,...lr,l,Hr])),ns.ImplementsStiTableColumn}meta(){return this._hash||(this._hash=[...super.meta(),new i("HorAlignment","",ae,ae.Left),new i("SummaryAlignment","",ae,ae.Right),new s("TextFormat").check(()=>!(this.textFormat.is(Bt)||null==this.textFormat)).set(e=>this.textFormat=or.createFromJsonObject(e.value)).setXml(e=>{var e=or.loadFormatFromXml(e);null!=e&&(this.textFormat=e)}),new t("ForeColor","",N.transparent),new u("ShowTotalSummary"),new i("SummaryType","",zr,zr.Sum),new u("Visible","",!0).check(()=>!1),new i("Visibility","",Rr,Rr.True),new n("VisibilityExpression").check(()=>null!=this.visibilityExpression),new s("DashboardInteraction").check(()=>null!=this.dashboardInteraction.as(Gr)).set(e=>{var e,e=null==(e=Xr.loadInteractionFromJsonObject(e.value))?void 0:e.as(Gr);null!=e&&(this.dashboardInteraction=e)}).setXml(e=>{var e,e=null==(e=Xr.loadInteractionFromXml(e))?void 0:e.as(Gr);null!=e&&(this.dashboardInteraction=e)})])}clone(){let e=super.clone();return e.textFormat=this.textFormat.clone(),e.dashboardInteraction=this.dashboardInteraction.clone(),e}shouldSerializeTextFormat(){return!this.textFormat.is(Bt)}getDataFormat(){if(this.textFormat.is(Pr))return Or.Boolean;if(this.textFormat.is(Nr))return Or.Percentage;if(this.textFormat.is(Br))return Or.Currency;if(this.textFormat.is(Vr))return Or.Number;if(this.textFormat.is(Lr))return Or.Date;if(this.textFormat.is(kr))return Or.Time;return Or.General}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}shouldSerializeDashboardInteraction(){return null==this.dashboardInteraction||!this.dashboardInteraction.isDefault()}isDefault(){return super.isDefault()&&this.visibility==Rr.True&&null==this.visibilityExpression&&!this.showTotalSummary&&this.summaryType==zr.Sum&&this.horAlignment==ae.Left&&this.summaryAlignment==ae.Right&&!this.shouldSerializeTextFormat()&&!this.shouldSerializeForeColor()&&!this.shouldSerializeDashboardInteraction()}getUniqueCode(){let e=super.getUniqueCode();return e=397*(e=397*(e=397*(e=397*e^this.horAlignment)^this.summaryAlignment)^(null!=this.textFormat?this.textFormat.stimulsoft().getHashCode():0))^this.visibility.stimulsoft().getHashCode(),null!=this.visibilityExpression&&(e=397*e^this.visibilityExpression.stimulsoft().getHashCode()),Math.abs(e)}get visible(){return this.visibility==Rr.True}set visible(e){this.visibility=e?Rr.True:Rr.False}}B.K.StiTableColumn=ns}{class Xi extends B.K.StiTableColumn{constructor(e,t,r,i,s,n,l,a,o,u,h,m){super(e,t,r,i,s,n,l,a,o,u,h,m),this.ident=B.e.StiMeterIdent.MeasureColumn}implements(){return Xi.ImplementsStiMeasureColumn||(Xi.ImplementsStiMeasureColumn=super.implements().concat([pt,gr])),Xi.ImplementsStiMeasureColumn}get localizedName(){return S.get("Dashboard","Indicator")}}B.K.StiMeasureColumn=Xi}let Wr=se.Base.Meters.IStiIndicatorColumn;{class Vi extends B.K.StiMeasureColumn{constructor(e,t,r,i,s,n,l,a,o,u,h){super(e,t,r,i,s,n,l,a,o,u,h),this.ident=B.e.StiMeterIdent.IndicatorColumn}implements(){return Vi.ImplementsStiIndicatorColumn||(Vi.ImplementsStiIndicatorColumn=super.implements().concat([Wr])),Vi.ImplementsStiIndicatorColumn}get localizedName(){return S.get("Dashboard","Dimension")}}B.K.StiIndicatorColumn=Vi}let Ur=se.Base.Meters.IStiColorScaleColumn;{class Bi extends B.K.StiMeasureColumn{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d){super(e,t,r,i,s,n,l,a,o,u,h),this.ident=B.e.StiMeterIdent.ColorScaleColumn,this.minimumColor=N.red,this.maximumColor=N.green,null!=m&&(this.minimumColor=m),null!=d&&(this.maximumColor=d)}implements(){return Bi.ImplementsStiColorScaleColumn||(Bi.ImplementsStiColorScaleColumn=super.implements().concat([Ur,l])),Bi.ImplementsStiColorScaleColumn}meta(){return this._hash||(this._hash=[...super.meta(),new t("MinimumColor","",N.red),new t("MaximumColor","",N.green)])}getUniqueCode(){var e,e;return e=397*(e=397*(e=super.getUniqueCode())^this.minimumColor.stimulsoft().getHashCode())^this.maximumColor.stimulsoft().getHashCode(),Math.abs(e)}isDefault(){return super.isDefault()&&!this.shouldSerializeMinimumColor()&&!this.shouldSerializeMaximumColor()}shouldSerializeMinimumColor(){return!N.red.equals(this.minimumColor)}shouldSerializeMaximumColor(){return!N.green.equals(this.maximumColor)}get localizedName(){return S.get("Dashboard","ColorScale")}}B.K.StiColorScaleColumn=Bi}let Kr=se.Base.Meters.IStiDataBarsColumn;{class Ni extends B.K.StiMeasureColumn{constructor(e,t,r,i,s,n,l,a,o,u,h){super(e,t,r,i,s,n,l,a,o,u,h),this.ident=B.e.StiMeterIdent.DataBarsColumn}implements(){return Ni.ImplementsStiDataBarsColumn||(Ni.ImplementsStiDataBarsColumn=super.implements().concat([Kr,l])),Ni.ImplementsStiDataBarsColumn}meta(){return this._hash||(this._hash=[...super.meta(),new i("HorAlignment","",ae,ae.Center)])}getUniqueCode(){var e,e=397*(e=super.getUniqueCode())^this.horAlignment;return Math.abs(e)}get localizedName(){return S.get("Dashboard","DataBars")}}B.K.StiDataBarsColumn=Ni}let qr=se.Base.Meters.IStiSparklinesColumn;{class Pi extends B.K.StiMeasureColumn{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d,c,g,p,S){super(e,t,r,i,s,o,u,h,m,d,c),this.type=B.K.StiSparklinesType.Area,this.showHighLowPoints=!1,this.showFirstLastPoints=!0,this.allowCustomColors=!1,this.positiveColor=Sr.get("537eb6"),this.negativeColor=Sr.get("ff0000"),this.ident=B.e.StiMeterIdent.SparklinesColumn,null!=n&&(this.type=n),null!=l&&(this.showHighLowPoints=l),null!=a&&(this.showFirstLastPoints=a),null!=g&&(this.allowCustomColors=g),null!=p&&(this.positiveColor=p),null!=S&&(this.negativeColor=S)}implements(){return Pi.ImplementsStiSparklinesColumn||(Pi.ImplementsStiSparklinesColumn=super.implements().concat([qr,l])),Pi.ImplementsStiSparklinesColumn}meta(){return this._hash||(this._hash=[...super.meta(),new i("Type","",B.K.StiSparklinesType,B.K.StiSparklinesType.Area),new u("ShowHighLowPoints"),new u("ShowFirstLastPoints","",!0),new u("AllowCustomColors"),new t("PositiveColor","",Sr.get("537eb6")),new t("NegativeColor","",Sr.get("ff0000"))])}shouldSerializePositiveColor(){return!this.positiveColor.equals(Sr.get("537eb6"))}shouldSerializeNegativeColor(){return!this.positiveColor.equals(Sr.get("ff0000"))}getUniqueCode(){var e,e;return e=397*(e=397*(e=397*(e=397*(e=397*(e=super.getUniqueCode())^this.showHighLowPoints.stimulsoft().getHashCode())^this.showFirstLastPoints.stimulsoft().getHashCode())^this.allowCustomColors.stimulsoft().getHashCode())^this.positiveColor.stimulsoft().getHashCode())^this.negativeColor.stimulsoft().getHashCode(),Math.abs(e)}isDefault(){return super.isDefault()&&this.type==B.K.StiSparklinesType.Area&&!this.showHighLowPoints&&this.showFirstLastPoints&&!this.allowCustomColors&&!this.shouldSerializePositiveColor()&&!this.shouldSerializeNegativeColor()}get localizedName(){return S.get("Dashboard","Sparklines")}}B.K.StiSparklinesColumn=Pi}{class Mi extends B.K.StiMeasureColumn{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d,c){super(e,t,r,i,s,n,l,a,o,u,h),this.ident=B.e.StiMeterIdent.BubbleColumn,this.allowCustomColors=!1,this.positiveColor=Sr.get("537eb6"),this.negativeColor=Sr.get("ff0000"),this.horAlignment=ae.Center,null!=m&&(this.allowCustomColors=m),null!=d&&(this.positiveColor=d),null!=c&&(this.negativeColor=c)}implements(){return Mi.ImplementsStiBubbleColumn||(Mi.ImplementsStiBubbleColumn=super.implements().concat([wr,l])),Mi.ImplementsStiBubbleColumn}meta(){return this._hash||(this._hash=[...super.meta(),new i("HorAlignment","",ae,ae.Center),new u("AllowCustomColors"),new t("PositiveColor","",Sr.get("537eb6")),new t("NegativeColor","",Sr.get("ff0000"))])}getUniqueCode(){var e,e=397*(e=super.getUniqueCode())^this.horAlignment.stimulsoft().getHashCode();return Math.abs(e)}isDefault(){return super.isDefault()&&this.horAlignment==ae.Center&&!this.allowCustomColors&&!this.shouldSerializePositiveColor()&&!this.shouldSerializeNegativeColor()}shouldSerializePositiveColor(){return!Sr.get("537eb6").equals(this.positiveColor)}shouldSerializeNegativeColor(){return!Sr.get("ff0000").equals(this.negativeColor)}get localizedName(){return S.get("Chart","Bubble")}}B.K.StiBubbleColumn=Mi}let Yr=se.System.Globalization.CultureInfo,Zr=(B.h.StiCultureHelper=class{static set(e){if(ne.isNullOrWhiteSpace(e.culture))return null;var t=Yr.currentCulture;try{ne.isNullOrEmpty(e.culture)||null==Yr.cultures[e.culture]||(Yr.currentCulture=Yr.cultures[e.culture])}catch(e){}return t}static restore(e){if(null==e)return;Yr.currentCulture=e}},se.Data.Functions.StiExtValueConverter),Qr=B.h.StiCultureHelper,_r=se.Report.Dictionary.StiDataColumn,$r=se.Data.Helpers.StiMoneyNameHelper;{class zi{static get defaultGeneralFormat(){return null==this._defaultGeneralFormat&&(this._defaultGeneralFormat=new Bt),this._defaultGeneralFormat}static get defaultCurrencyFormat(){return null==this._defaultCurrencyFormat&&(this._defaultCurrencyFormat=new Br),this._defaultCurrencyFormat}static get defaultPercentageFormat(){return null==this._defaultPercentageFormat&&(this._defaultPercentageFormat=new Nr(1,1,null,null,0,null,100,null,null,null,null,se.Report.Components.StiTextFormatState.DecimalDigits|se.Report.Components.StiTextFormatState.GroupSize|se.Report.Components.StiTextFormatState.PositivePattern|se.Report.Components.StiTextFormatState.NegativePattern)),this._defaultPercentageFormat}static get defaultNumberFormat(){return null==this._defaultNumberFormat&&(this._defaultNumberFormat=new Vr),this._defaultNumberFormat}static get defaultIntegerFormat(){return null==this._defaultIntegerFormat&&(this._defaultIntegerFormat=new Vr(null,null,null,0,null,null,!1,!1)),this._defaultIntegerFormat}static get defaultDateFormat(){return null==this._defaultDateFormat&&(this._defaultDateFormat=new Lr),this._defaultDateFormat}static get defaultBooleanFormat(){return null==this._defaultBooleanFormat&&(this._defaultBooleanFormat=new Pr),this._defaultBooleanFormat}static formatBasedOnColumnType(e,t,r){return zi.formatBasedOnColumnType2(e,t.textFormat,t,r)}static formatBasedOnColumnType2(e,t,r,i){var s,n;this.storedCulture=Qr.set(e.report);try{if(null==i)return"";if(null==r)return i.toString();if(Zr.isEligable(i,null==(s=null==e?void 0:e.report)?void 0:s.culture))return Zr.convert(i,null==(n=null==e?void 0:e.report)?void 0:n.culture);if(null==t||t.is(Bt)){var l=xe.getType(i);if(xe.isDateType(l))return this.defaultDateFormat.format(i);if((xe.isNumericType(l)||xe.isIntegerType(l))&&$r.isMoneyName(r.label))return this.defaultCurrencyFormat.format(i);if(xe.isIntegerType(l))return this.defaultIntegerFormat.format(i);if(xe.isNumericType(l))return this.defaultNumberFormat.format(i);if(l==Boolean)return this.defaultBooleanFormat.format(i)}return t.format(i)}catch(e){return i.toString()}finally{B.h.StiCultureHelper.restore(this.storedCulture)}}static format(e,t,r){this.storedCulture=Qr.set(e);try{if(null==r)return"";return null!=t?t.format(r):r.toString()}catch(e){return r.toString()}finally{B.h.StiCultureHelper.restore(this.storedCulture)}}static formatAsPercentage(e,t){this.storedCulture=Qr.set(e);try{if(null==t)return"";return this.defaultPercentageFormat.format(t)}catch(e){return t.toString()}finally{B.h.StiCultureHelper.restore(this.storedCulture)}}static formatAsPercentage2(e,t,r){this.storedCulture=Qr.set(e);try{if(null==r)return"";if(null==t||t.is(Bt))return this.defaultPercentageFormat.format(r);return t.format(r)}catch(e){return r.toString()}finally{B.h.StiCultureHelper.restore(this.storedCulture)}}static getDefaultFormatForColumn(e){var t=B.h.StiMeterHelper.toDataType(e);if(null==t)return this.defaultGeneralFormat;if(xe.isNumericType(t)){if($r.isMoneyName(e.as(_r).nameInSource))return this.defaultCurrencyFormat;if(xe.isIntegerType(t))return this.defaultIntegerFormat;return this.defaultNumberFormat}if(xe.isDateType(t))return this.defaultDateFormat;if(t==Boolean)return this.defaultBooleanFormat;return this.defaultGeneralFormat}}B.h.StiTextFormatHelper=zi}let ei=se.Report.Dashboard.StiTableColumnSize,ti=se.Report.Dashboard.IStiTableColumnSize,ri=se.Base.Meters.IStiDimensionColumn;{class Hi extends B.K.StiTableColumn{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d,c,g){super(e,t,r,i,s,n,l,o,m,d,c),this.ident=B.e.StiMeterIdent.DimensionColumn,this.showHyperlink=!1,this.hyperlinkPattern="",this.size=new ei,null!=u&&(this.showHyperlink=u),null!=h&&(this.hyperlinkPattern=h),null!=g&&(this.size=g)}implements(){return Hi.ImplementsStiDimensionColumn||(Hi.ImplementsStiDimensionColumn=super.implements().concat([Ie,ri,ti])),Hi.ImplementsStiDimensionColumn}meta(){return this._hash||(this._hash=[...super.meta(),new u("ShowHyperlink"),new n("HyperlinkPattern"),new s("Size").check(()=>null!=this.size).set(e=>this.size=ei.createFromJsonObject(e.value)).setXml(e=>this.size=ei.createFromXml(e))])}clone(){var e;let t=super.clone();return t.size=null==(e=this.size)?void 0:e.clone(),t}get localizedName(){return S.get("Dashboard","Dimension")}shouldSerializeSize(){return null==this.size||!this.size.isDefault()}checkRules(){var e;null!=(e=this.size)&&e.checkRules()}isDefault(){return super.isDefault()&&!this.showHyperlink&&ne.isNullOrEmpty(this.hyperlinkPattern)&&null!=this.size&&this.size.isDefault()}}B.K.StiDimensionColumn=Hi}let ii=se.Base.Meters.IStiColorMapMeter;{class Gi extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.ColorMapMeter}implements(){return Gi.ImplementsStiColorMapMeter||(Gi.ImplementsStiColorMapMeter=super.implements().concat([ii])),Gi.ImplementsStiColorMapMeter}get localizedName(){return S.get("PropertyMain","Color")}}B.L.StiColorMapMeter=Gi}let si=se.Base.Meters.IStiValueMapMeter;{class ji extends B.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.ValueMapMeter}implements(){return ji.ImplementsStiValueMapMeter||(ji.ImplementsStiValueMapMeter=super.implements().concat([si])),ji.ImplementsStiValueMapMeter}get localizedName(){return S.get("PropertyMain","Value")}}B.L.StiValueMapMeter=ji}let ni=se.Base.Meters.IStiGroupMapMeter;{class Ji extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.GroupMapMeter}implements(){return Ji.ImplementsStiGroupMapMeter||(Ji.ImplementsStiGroupMapMeter=super.implements().concat([ni])),Ji.ImplementsStiGroupMapMeter}get localizedName(){return S.get("PropertyMain","Group")}}B.L.StiGroupMapMeter=Ji}let li=se.Base.Meters.IStiNameMapMeter;{class Wi extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.NameMapMeter}implements(){return Wi.ImplementsStiNameMapMeter||(Wi.ImplementsStiNameMapMeter=super.implements().concat([li])),Wi.ImplementsStiNameMapMeter}get localizedName(){return S.get("PropertyMain","Name")}}B.L.StiNameMapMeter=Wi}let ai=se.Base.Meters.IStiKeyMapMeter;{class Ui extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.KeyMapMeter}implements(){return Ui.ImplementsStiKeyMapMeter||(Ui.ImplementsStiKeyMapMeter=super.implements().concat([ai])),Ui.ImplementsStiKeyMapMeter}get localizedName(){return S.get("PropertyMain","Key")}}B.L.StiKeyMapMeter=Ui}{class Ki extends B.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.ValueProgressMeter}implements(){return Ki.ImplementsStiValueProgressMeter||(Ki.ImplementsStiValueProgressMeter=super.implements().concat([yr])),Ki.ImplementsStiValueProgressMeter}get localizedName(){return S.get("PropertyMain","Value")}}B.M.StiValueProgressMeter=Ki}{class qi extends B.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.TargetProgressMeter}implements(){return qi.ImplementsStiValueProgressMeter||(qi.ImplementsStiValueProgressMeter=super.implements().concat([yr])),qi.ImplementsStiValueProgressMeter}get localizedName(){return S.get("PropertyMain","Target")}}B.M.StiTargetProgressMeter=qi}{class Yi extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.SeriesProgressMeter}implements(){return Yi.ImplementsStiSeriesProgressMeter||(Yi.ImplementsStiSeriesProgressMeter=super.implements().concat([yr])),Yi.ImplementsStiSeriesProgressMeter}get localizedName(){return S.get("PropertyMain","Series")}}B.M.StiSeriesProgressMeter=Yi}let oi=se.Report.Dashboard.IStiMeterRules,ui=se.Report.Dashboard.ImplementsIStiTableColumnSize,hi=se.Base.Meters.IStiPivotColumn,mi=se.Data.Engine.IStiDataTopN,di=se.Data.Engine.StiDataTopN;{class Zi extends B.e.StiMeter{constructor(e,t,r,i,s,n,l,a,o){super(e,t,r),this.horAlignment=ae.Center,this.showTotal=!0,this.totalLabel="",this.textFormat=new Bt,this.size=new ei,this.topN=new di,this.ident=B.e.StiMeterIdent.PivotColumn,null!=i&&(this.horAlignment=i),null!=s&&(this.textFormat=s),null!=n&&(this.topN=n),null!=o&&(this.size=o),null!=l&&(this.showTotal=l),null!=a&&(this.totalLabel=a)}implements(){return Zi.ImplementsStiPivotColumn||(Zi.ImplementsStiPivotColumn=super.implements().concat([Ie,mr,hr,ti,hi,mi,oi,...ar,...jr,...ui,l])),Zi.ImplementsStiPivotColumn}clone(){var e;let t=super.clone();return t.textFormat=this.textFormat.clone(),t.topN=this.topN.clone(),t.size=null==(e=this.size)?void 0:e.clone(),t.horAlignment=this.horAlignment,t.showTotal=this.showTotal,t.totalLabel=this.totalLabel,t}meta(){return this._hash||(this._hash=[...super.meta(),new i("HorAlignment","",ae,ae.Center),new u("ShowTotal","",!0),new n("TotalLabel"),new s("TextFormat").check(()=>!(this.textFormat.is(Bt)||null==this.textFormat)).set(e=>this.textFormat=or.createFromJsonObject(e.value)).setXml(e=>this.textFormat=or.loadFormatFromXml(e)),new s("TopN").check(()=>null!=this.topN).set(e=>this.topN=di.createFromJsonObject(e.value)).setXml(e=>this.topN=di.createFromXml(e)),new s("Size").check(()=>null!=this.size).set(e=>this.size=ei.createFromJsonObject(e.value)).setXml(e=>this.size=ei.createFromXml(e))])}checkRules(){var e;null!=(e=this.size)&&e.checkRules()}shouldSerializeTextFormat(){return!this.textFormat.is(Bt)}shouldSerializeSize(){return null==this.size||!this.size.isDefault()}getUniqueCode(){var e,e;return e=397*(e=397*(e=397*(e=397*(e=397*(e=397*(e=super.getUniqueCode())^this.horAlignment)^(null!=this.textFormat?this.textFormat.stimulsoft().getHashCode():0))^(null!=this.topN?this.topN.stimulsoft().getHashCode():0))^(null!=this.size?this.size.stimulsoft().getHashCode():0))^(null!=this.showTotal?this.showTotal.stimulsoft().getHashCode():0))^(null!=this.totalLabel?this.totalLabel.stimulsoft().getHashCode():0),Math.abs(e)}get localizedName(){return S.get("Components","StiPivotColumn")}}B.N.StiPivotColumn=Zi}let ci=se.Base.Meters.IStiPivotRow;{class Qi extends B.e.StiMeter{constructor(e,t,r,i,s,n,l,a,o){super(e,t,r),this.horAlignment=ae.Center,this.showTotal=!0,this.totalLabel="",this.textFormat=new Bt,this.size=new ei,this.topN=new di,this.ident=B.e.StiMeterIdent.PivotRow,null!=i&&(this.horAlignment=i),null!=s&&(this.textFormat=s),null!=n&&(this.topN=n),null!=o&&(this.size=o),null!=l&&(this.showTotal=l),null!=a&&(this.totalLabel=a)}implements(){return Qi.ImplementsStiPivotRow||(Qi.ImplementsStiPivotRow=super.implements().concat([Ie,mr,hr,ti,ci,mi,oi,...ar,...jr,...ui,l])),Qi.ImplementsStiPivotRow}clone(){var e;let t=super.clone();return t.textFormat=this.textFormat.clone(),t.topN=this.topN.clone(),t.size=null==(e=this.size)?void 0:e.clone(),t.horAlignment=this.horAlignment,t.showTotal=this.showTotal,t.totalLabel=this.totalLabel,t}meta(){return this._hash||(this._hash=[...super.meta(),new i("HorAlignment","",ae,ae.Center),new u("ShowTotal","",!0),new n("TotalLabel"),new s("TextFormat").check(()=>!(this.textFormat.is(Bt)||null==this.textFormat)).set(e=>this.textFormat=or.createFromJsonObject(e.value)).setXml(e=>this.textFormat=or.loadFormatFromXml(e)),new s("TopN").check(()=>null!=this.topN).set(e=>this.topN=di.createFromJsonObject(e.value)).setXml(e=>this.topN=di.createFromXml(e)),new s("Size").check(()=>null!=this.size).set(e=>this.size=ei.createFromJsonObject(e.value)).setXml(e=>this.size=ei.createFromXml(e))])}checkRules(){var e;null!=(e=this.size)&&e.checkRules()}shouldSerializeTextFormat(){return!this.textFormat.is(Bt)}shouldSerializeSize(){return null==this.size||!this.size.isDefault()}getUniqueCode(){var e,e;return e=397*(e=397*(e=397*(e=397*(e=397*(e=397*(e=super.getUniqueCode())^this.horAlignment)^(null!=this.textFormat?this.textFormat.stimulsoft().getHashCode():0))^(null!=this.topN?this.topN.stimulsoft().getHashCode():0))^(null!=this.size?this.size.stimulsoft().getHashCode():0))^(null!=this.showTotal?this.showTotal.stimulsoft().getHashCode():0))^(null!=this.totalLabel?this.totalLabel.stimulsoft().getHashCode():0),Math.abs(e)}get localizedName(){return S.get("Components","StiPivotRow")}}B.N.StiPivotRow=Qi}let gi=se.Base.Meters.IStiPivotSummary;{class _i extends B.e.StiMeasureMeter{constructor(e,t,r,i,s,n){super(e,t,r),this.horAlignment=ae.Center,this.textFormat=new Bt,this.size=new ei,this.ident=B.e.StiMeterIdent.PivotSummary,null!=i&&(this.horAlignment=i),null!=s&&(this.textFormat=s),null!=n&&(this.size=n)}implements(){return _i.ImplementsStiPivotSummary||(_i.ImplementsStiPivotSummary=super.implements().concat([mr,hr,ti,gi,oi,...ar,...jr,...ui,l])),_i.ImplementsStiPivotSummary}clone(){var e;let t=super.clone();return t.textFormat=this.textFormat.clone(),t.size=null==(e=this.size)?void 0:e.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new i("HorAlignment","",ae,ae.Center),new s("TextFormat").check(()=>!(this.textFormat.is(Bt)||null==this.textFormat)).set(e=>this.textFormat=or.createFromJsonObject(e.value)).setXml(e=>this.textFormat=or.loadFormatFromXml(e)),new s("Size").check(()=>null!=this.size).set(e=>this.size=ei.createFromJsonObject(e.value)).setXml(e=>this.size=ei.createFromXml(e))])}checkRules(){var e;null!=(e=this.size)&&e.checkRules()}shouldSerializeTextFormat(){return!this.textFormat.is(Bt)}shouldSerializeSize(){return null==this.size||!this.size.isDefault()}getUniqueCode(){var e,e;return e=397*(e=397*(e=397*(e=super.getUniqueCode())^this.horAlignment)^(null!=this.textFormat?this.textFormat.stimulsoft().getHashCode():0))^(null!=this.size?this.size.stimulsoft().getHashCode():0),Math.abs(e)}get localizedName(){return S.get("Components","StiPivotSummary")}}B.N.StiPivotSummary=_i}B.O.StiLatitudeMapMeter=class extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.LatitudeMapMeter}get localizedName(){return S.get("PropertyMain","Latitude")}},B.O.StiLongitudeMapMeter=class extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.LongitudeMapMeter}get localizedName(){return S.get("PropertyMain","Longitude")}};{class ts extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.KeyListBoxMeter}implements(){return ts.ImplementsStiKeyListBoxMeter||(ts.ImplementsStiKeyListBoxMeter=super.implements().concat([yr])),ts.ImplementsStiKeyListBoxMeter}get localizedName(){return S.get("PropertyMain","Key")}}B.P.StiKeyListBoxMeter=ts}{class rs extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.NameListBoxMeter}implements(){return rs.ImplementsStiNameListBoxMeter||(rs.ImplementsStiNameListBoxMeter=super.implements().concat([br])),rs.ImplementsStiNameListBoxMeter}get localizedName(){return S.get("PropertyMain","Name")}}B.P.StiNameListBoxMeter=rs}{class is extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.ValueDatePickerMeter}implements(){return is.ImplementsStiValueDatePickerMeter||(is.ImplementsStiValueDatePickerMeter=super.implements().concat([yr])),is.ImplementsStiValueDatePickerMeter}get localizedName(){return S.get("PropertyMain","Value")}}B.Q.StiValueDatePickerMeter=is}B.H.StiEndValueChartMeter=class extends B.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.EndValueChartMeter}get localizedName(){return S.get("PropertyMain","ValueEnd")}};{class ls extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.NameComboBoxMeter}implements(){return ls.ImplementsStiNameComboBoxMeter||(ls.ImplementsStiNameComboBoxMeter=super.implements().concat([br])),ls.ImplementsStiNameComboBoxMeter}get localizedName(){return S.get("PropertyMain","Name")}}B.R.StiNameComboBoxMeter=ls}{class as extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.KeyComboBoxMeter}implements(){return as.ImplementsStiKeyComboBoxMeter||(as.ImplementsStiKeyComboBoxMeter=super.implements().concat([yr])),as.ImplementsStiKeyComboBoxMeter}get localizedName(){return S.get("PropertyMain","Key")}}B.R.StiKeyComboBoxMeter=as}let pi=se.Base.Meters.IStiSeriesMeter;{class os extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.SeriesGaugeMeter}implements(){return os.ImplementsStiSeriesGaugeMeter||(os.ImplementsStiSeriesGaugeMeter=super.implements().concat([pi])),os.ImplementsStiSeriesGaugeMeter}get localizedName(){return S.get("PropertyMain","Series")}}B.S.StiSeriesGaugeMeter=os}{class us extends B.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.ValueGaugeMeter}implements(){return us.ImplementsStiValueGaugeMeter||(us.ImplementsStiValueGaugeMeter=super.implements().concat([yr])),us.ImplementsStiValueGaugeMeter}get localizedName(){return S.get("PropertyMain","Value")}}B.S.StiValueGaugeMeter=us}let Si=se.Base.Meters.IStiTargetMeter;{class hs extends B.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.TargetGaugeMeter}implements(){return hs.ImplementsStiTargetGaugeMeter||(hs.ImplementsStiTargetGaugeMeter=super.implements().concat([Si])),hs.ImplementsStiTargetGaugeMeter}get localizedName(){return S.get("PropertyMain","Target")}}B.S.StiTargetGaugeMeter=hs}{class ms extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.SeriesIndicatorMeter}implements(){return ms.ImplementsStiSeriesIndicatorMeter||(ms.ImplementsStiSeriesIndicatorMeter=super.implements().concat([pi])),ms.ImplementsStiSeriesIndicatorMeter}get localizedName(){return S.get("PropertyMain","Series")}}B.T.StiSeriesIndicatorMeter=ms}{class ds extends B.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.ValueIndicatorMeter}implements(){return ds.ImplementsStiValueIndicatorMeter||(ds.ImplementsStiValueIndicatorMeter=super.implements().concat([yr])),ds.ImplementsStiValueIndicatorMeter}get localizedName(){return S.get("PropertyMain","Value")}}B.T.StiValueIndicatorMeter=ds}{class cs extends B.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.TargetIndicatorMeter}implements(){return cs.ImplementsStiTargetIndicatorMeter||(cs.ImplementsStiTargetIndicatorMeter=super.implements().concat([Si])),cs.ImplementsStiTargetIndicatorMeter}get localizedName(){return S.get("PropertyMain","Target")}}B.T.StiTargetIndicatorMeter=cs}B.H.StiWeightChartMeter=class extends B.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.WeightChartMeter}get localizedName(){return S.get("PropertyMain","Weight")}};let m=se.Report.Dashboard.StiChartSeriesType,wi=se.Base.Drawing.StiPenStyle,fi=se.Report.Chart.StiSeriesYAxis;{class ys extends B.e.StiMeasureMeter{constructor(e,t,r,i,s,n,l,a,o){super(e,t,r),this.seriesType=m.ClusteredColumn,this.yAxis=fi.LeftYAxis,this.lineStyle=wi.Solid,this.lineWidth=2,this.showZeros=ut.Zero,this.showNulls=ut.Zero,this.ident=B.e.StiMeterIdent.ValueChartMeter,null!=i&&(this.seriesType=i),null!=s&&(this.yAxis=s),null!=n&&(this.lineStyle=n),null!=l&&(this.lineWidth=l),null!=o&&(this.showNulls=o),null!=a&&(this.showZeros=a)}implements(){return ys.ImplementsStiValueChartMeter||(ys.ImplementsStiValueChartMeter=super.implements().concat([yr,l])),ys.ImplementsStiValueChartMeter}meta(){return this._hash||(this._hash=[...super.meta(),new i("SeriesType","",m,m.ClusteredColumn),new i("YAxis","",fi,fi.LeftYAxis),new i("LineStyle","",wi,wi.Solid),new A("LineWidth","",2),new i("ShowZeros","",ut,ut.Zero),new i("ShowNulls","",ut,ut.Zero)])}getUniqueCode(){var e,e;return e=397*(e=397*(e=397*(e=397*(e=397*(e=397*(e=super.getUniqueCode())^this.seriesType)^this.yAxis)^this.lineStyle)^this.lineWidth)^this.showNulls)^this.showZeros,Math.abs(e)}get localizedName(){return S.get("PropertyMain","Value")}}B.H.StiValueChartMeter=ys}B.H.StiOpenValueChartMeter=class extends B.H.StiValueChartMeter{constructor(e,t,r,i){super(e,t,r,i),this.ident=B.e.StiMeterIdent.OpenValueChartMeter,this.seriesType=m.Candlestick,null!=i&&(this.seriesType=i)}get localizedName(){return S.get("PropertyMain","ValueOpen")}},B.H.StiCloseValueChartMeter=class extends B.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.CloseValueChartMeter}get localizedName(){return S.get("PropertyMain","ValueClose")}},B.H.StiLowValueChartMeter=class extends B.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.LowValueChartMeter}get localizedName(){return S.get("PropertyMain","ValueLow")}},B.H.StiHighValueChartMeter=class extends B.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.HighValueChartMeter}get localizedName(){return S.get("PropertyMain","ValueHigh")}};{class vs extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.SeriesChartMeter}implements(){return vs.ImplementsStiSeriesChartMeter||(vs.ImplementsStiSeriesChartMeter=super.implements().concat([pi])),vs.ImplementsStiSeriesChartMeter}get localizedName(){return S.get("PropertyMain","Series")}}B.H.StiSeriesChartMeter=vs}B.O.StiLocationMapMeter=class extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.LocationMapMeter}get localizedName(){return S.get("PropertyMain","Location")}},B.O.StiLocationColorMapMeter=class extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.LocationColorMapMeter}get localizedName(){return S.get("PropertyMain","Group")}},B.O.StiLocationValueMapMeter=class extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.LocationValueMapMeter}get localizedName(){return S.get("PropertyMain","Value")}},B.O.StiLocationArgumentMapMeter=class extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.LocationArgumentMapMeter}get localizedName(){return S.get("PropertyMain","Argument")}};{class Ci extends B.F.StiMeasureCardsColumn{constructor(e,t,r,i,s,n,l,a,o,u,h){super(e,t,r,i,s,n,l,a,o,u,h),this.ident=B.e.StiMeterIdent.IndicatorCardsColumn}implements(){return Ci.ImplementsStiIndicatorCardsColumn||(Ci.ImplementsStiIndicatorCardsColumn=super.implements().concat([Wr])),Ci.ImplementsStiIndicatorCardsColumn}get localizedName(){return S.get("Dashboard","Dimension")}}B.F.StiIndicatorCardsColumn=Ci}{class yi extends B.F.StiMeasureCardsColumn{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d){super(e,t,r,i,s,n,l,a,o,u,d),this.ident=B.e.StiMeterIdent.ColorScaleCardsColumn,this.minimumColor=N.red,this.maximumColor=N.green,null!=h&&(this.minimumColor=h),null!=m&&(this.maximumColor=m)}implements(){return yi.ImplementsStiColorScaleCardsColumn||(yi.ImplementsStiColorScaleCardsColumn=super.implements().concat([Ur,l])),yi.ImplementsStiColorScaleCardsColumn}meta(){return this._hash||(this._hash=[...super.meta(),new t("MinimumColor","",N.red),new t("MaximumColor","",N.green)])}getUniqueCode(){var e,e;return e=397*(e=397*(e=super.getUniqueCode())^this.minimumColor.stimulsoft().getHashCode())^this.maximumColor.stimulsoft().getHashCode(),Math.abs(e)}isDefault(){return super.isDefault()&&!this.shouldSerializeMinimumColor()&&!this.shouldSerializeMaximumColor()}shouldSerializeMinimumColor(){return!N.red.equals(this.minimumColor)}shouldSerializeMaximumColor(){return!N.green.equals(this.maximumColor)}get localizedName(){return S.get("Dashboard","ColorScale")}}B.F.StiColorScaleCardsColumn=yi}{class vi extends B.F.StiMeasureCardsColumn{constructor(e,t,r,i,s,n,l,a,o,u,h){super(e,t,r,i,s,n,l,a,o,u,h),this.ident=B.e.StiMeterIdent.DataBarsCardsColumn}implements(){return vi.ImplementsStiDataBarsCardsColumnn||(vi.ImplementsStiDataBarsCardsColumnn=super.implements().concat([Kr,l])),vi.ImplementsStiDataBarsCardsColumnn}get localizedName(){return S.get("Dashboard","DataBars")}}B.F.StiDataBarsCardsColumn=vi}{class xi extends B.F.StiMeasureCardsColumn{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d,c,g,p,S){super(e,t,r,i,s,n,l,h,m,d,S),this.type=B.K.StiSparklinesType.Area,this.showHighLowPoints=!1,this.showFirstLastPoints=!0,this.allowCustomColors=!1,this.positiveColor=Sr.get("537eb6"),this.negativeColor=Sr.get("ff0000"),this.height=0,this.ident=B.e.StiMeterIdent.SparklinesCardsColumn,null!=a&&(this.type=a),null!=o&&(this.showHighLowPoints=o),null!=u&&(this.showFirstLastPoints=u),null!=c&&(this.allowCustomColors=c),null!=g&&(this.positiveColor=g),null!=p&&(this.negativeColor=p)}implements(){return xi.ImplementsStiSparklinesCardsColumn||(xi.ImplementsStiSparklinesCardsColumn=super.implements().concat([qr,l])),xi.ImplementsStiSparklinesCardsColumn}meta(){return this._hash||(this._hash=[...super.meta(),new i("Type","",B.K.StiSparklinesType,B.K.StiSparklinesType.Area),new u("ShowHighLowPoints"),new u("ShowFirstLastPoints","",!0),new u("AllowCustomColors"),new A("Height"),new t("PositiveColor","",Sr.get("537eb6")),new t("NegativeColor","",Sr.get("ff0000"))])}shouldSerializePositiveColor(){return!this.positiveColor.equals(Sr.get("537eb6"))}shouldSerializeNegativeColor(){return!this.positiveColor.equals(Sr.get("ff0000"))}getUniqueCode(){var e,e;return e=397*(e=397*(e=397*(e=397*(e=397*(e=super.getUniqueCode())^this.showHighLowPoints.stimulsoft().getHashCode())^this.showFirstLastPoints.stimulsoft().getHashCode())^this.allowCustomColors.stimulsoft().getHashCode())^this.positiveColor.stimulsoft().getHashCode())^this.negativeColor.stimulsoft().getHashCode(),Math.abs(e)}isDefault(){return super.isDefault()&&this.type==B.K.StiSparklinesType.Area&&!this.showHighLowPoints&&this.showFirstLastPoints&&!this.allowCustomColors&&!this.shouldSerializePositiveColor()&&!this.shouldSerializeNegativeColor()}get localizedName(){return S.get("Dashboard","Sparklines")}}B.F.StiSparklinesCardsColumn=xi}let Ci=B.F.StiIndicatorCardsColumn,bi=B.F.StiBubbleCardsColumn,yi=B.F.StiColorScaleCardsColumn,vi=B.F.StiDataBarsCardsColumn,xi=B.F.StiSparklinesCardsColumn,Fi=B.F.StiDimensionCardsColumn,Ti=se.Report.Dictionary.StiDataColumnExt,Mi=B.K.StiBubbleColumn,Di=B.O.StiLocationArgumentMapMeter,Ii=B.O.StiLocationMapMeter,Ai=B.O.StiLocationColorMapMeter,Ri=B.O.StiLocationValueMapMeter,Ei=se.Data.Engine.StiDataFilterCondition,ki=B.I.StiKeyTreeViewBoxMeter,Li=B.J.StiKeyTreeViewMeter,Vi=B.K.StiIndicatorColumn,Bi=B.K.StiColorScaleColumn,Ni=B.K.StiDataBarsColumn,Pi=B.K.StiSparklinesColumn,Oi=se.Data.Functions.Funcs,zi=B.h.StiTextFormatHelper,Hi=B.K.StiDimensionColumn,Xi=B.K.StiMeasureColumn,Gi=B.L.StiColorMapMeter,ji=B.L.StiValueMapMeter,Ji=B.L.StiGroupMapMeter,Wi=B.L.StiNameMapMeter,Ui=B.L.StiKeyMapMeter,Ki=B.M.StiValueProgressMeter,qi=B.M.StiTargetProgressMeter,Yi=B.M.StiSeriesProgressMeter,Zi=B.N.StiPivotColumn,Qi=B.N.StiPivotRow,_i=B.N.StiPivotSummary,$i=B.O.StiLatitudeMapMeter,es=B.O.StiLongitudeMapMeter,ts=B.P.StiKeyListBoxMeter,rs=B.P.StiNameListBoxMeter,is=B.Q.StiValueDatePickerMeter,ss=se.Data.Engine.StiDataExpressionHelper,ns=B.K.StiTableColumn,C=se.System.DateTime,f=se.Data.Engine.StiDataFilterRule,ls=B.R.StiNameComboBoxMeter,as=B.R.StiKeyComboBoxMeter,os=B.S.StiSeriesGaugeMeter,us=B.S.StiValueGaugeMeter,hs=B.S.StiTargetGaugeMeter,ms=B.T.StiSeriesIndicatorMeter,ds=B.T.StiValueIndicatorMeter,cs=B.T.StiTargetIndicatorMeter,gs=se.Data.Helpers.StiExpressionHelper,ps=B.H.StiWeightChartMeter,Ss=B.H.StiOpenValueChartMeter,ws=B.H.StiCloseValueChartMeter,fs=B.H.StiLowValueChartMeter,Cs=B.H.StiHighValueChartMeter,bs=B.H.StiArgumentChartMeter,ys=B.H.StiValueChartMeter,vs=B.H.StiSeriesChartMeter,xs=B.H.StiEndValueChartMeter,Fs=se.Base.IStiAppAlias,Ts=se.Report.Dictionary.StiVariable;{class Sc{static getValue(e){if(e.is(ys))return e;let t=new ys;return t.expression=d.toTotalExpression(e),t.label=e.label,t}static getGanttStartValue(e){let t=new ys;return t.expression=d.toExpression(e),t.label=d.toAlias(e),t.seriesType=m.Gantt,t}static getGanttEndValue(e){let t=new xs;return t.expression=d.toExpression(e),t.label=d.toAlias(e),t}static getEndValue(e){if(e.is2(xs))return e;let t=new xs;return t.expression=d.toTotalExpression(e),t.label=e.label,t}static getOpenValue(e){if(e.is(Ss))return e;let t=new Ss;return t.expression=d.toTotalExpression(e),t.label=e.label,t}static getCloseValue(e){if(e.is2(ws))return e;let t=new ws;return t.expression=d.toTotalExpression(e),t.label=e.label,t}static getLowValue(e){if(e.is2(fs))return e;let t=new fs;return t.expression=d.toTotalExpression(e),t.label=e.label,t}static getHighValue(e){if(e.is2(Cs))return e;let t=new Cs;return t.expression=d.toTotalExpression(e),t.label=e.label,t}static getValue2(e,t){let r=new ys;return r.expression=d.toTotalExpression2(e),r.seriesType=null!=t.values&&0<t.values.length?t.values.firstOrDefault().seriesType:m.ClusteredColumn,r.label=d.toAlias(e),r}static getEndValue2(e){let t=new xs;return t.expression=d.toTotalExpression2(e),t.label=d.toAlias(e),t}static getCloseValue2(e){let t=new ws;return t.expression=d.toTotalExpression2(e),t.label=d.toAlias(e),t}static getLowValue2(e){let t=new fs;return t.expression=d.toTotalExpression2(e),t.label=d.toAlias(e),t}static getHighValue2(e){let t=new Cs;return t.expression=d.toTotalExpression2(e),t.label=d.toAlias(e),t}static getWeight(e){if(e.is2(ps))return e;let t=new ps;return t.expression=d.toTotalExpression(e),t.label=e.label,t}static getWeight2(e){let t=new ps;return t.expression=d.toTotalExpression2(e),t.label=d.toAlias(e),t}static getArgument(e){if(e.is2(bs))return e;let t=new bs;return t.expression=gs.removeFunction(e.expression),t.label=e.label,t}static getArgument2(e){let t=new bs;return t.expression=d.toExpression(e),t.label=d.toAlias(e),t}static getX2(e){let t=new bs;return t.expression=d.toExpression(e),t.label=d.toAlias(e),t}static getX(e){if(e.is2(bs))return e;let t=new bs;return t.expression=gs.removeFunction(e.expression),t.label=e.label,t}static getY2(e){let t=new ys;return t.expression=d.toExpression(e),t.label=d.toAlias(e),t}static getY(e){if(e.is(ys))return e;let t=new ys;return t.expression=gs.removeFunction(e.expression),t.label=e.label,t}static getSeries(e){if(e.is2(vs))return e;let t=new vs;return t.expression=gs.removeFunction(e.expression),t.label=e.label,t}static getSeries2(e){let t=new vs;return t.expression=d.toExpression(e),t.label=d.toAlias(e),t}}B.h.Chart=Sc;class wc{static getName(e){if(e.is2(ls))return e;let t=new ls;return t.expression=e.expression,t.label=e.label,t}static getName2(e){let t=new ls;return t.expression=d.toExpression(e),t.label=d.toAlias(e),t}static getKey(e){if(e.is2(as))return e;let t=new as;return t.expression=e.expression,t.label=e.label,t}static getKey2(e){let t=new as;return t.expression=d.toExpression(e),t.label=d.toAlias(e),t}}B.h.ComboBox=wc;class fc{static getFilter2(e){let t="",r=(null!=e&&null!=e.type&&(xe.isDateType(e.type)?t=C.now.toString("MM/dd/yyyy"):xe.isNumericType(e.type)&&(t="0")),new f);return r.key=K.generateKey(),r.condition=Ei.EqualTo,r.path=d.toExpression(e),r.value=t,r.value2=t,r}static getFilter(e,t){let r=ss.getDataColumnFromExpression(t.page.as(B.e.StiDashboard),e.expression),i="",s=(null!=r&&null!=r.getDataType()&&(xe.isDateType(r.getDataType())?i=C.now.toString("MM/dd/yyyy"):xe.isNumericType(r.getDataType())&&(i="0")),new f);return s.key=K.generateKey(),s.condition=Ei.EqualTo,s.path=gs.removeFunction(e.expression),s.value=i,s.value2=i,s}}B.h.DataFilter=fc;class Cc{static getValue(e){if(e.is2(is))return e;let t=new is;return t.expression=e.expression,t.label=e.label,t}static getValue2(e){let t=new is;return t.expression=d.toExpression(e),t.label=d.toAlias(e),t}}B.h.DatePicker=Cc;class bc{static getSeries(e){if(e.is2(os))return e;let t=new os;return t.expression=gs.removeFunction(e.expression),t.label=e.label,t}static getSeries2(e){let t=new os;return t.expression=d.toExpression(e),t.label=d.toAlias(e),t}static getValue(e){if(e.is2(us))return e;let t=new us;return t.expression=d.toTotalExpression(e),t.label=e.label,t}static getValue2(e){let t=new us;return t.expression=d.toTotalExpression2(e),t.label=d.toAlias(e),t}static getTarget(e){if(e.is2(hs))return e;let t=new hs;return t.expression=d.toTotalExpression(e),t.label=e.label,t}static getTarget2(e){let t=new hs;return t.expression=d.toTotalExpression2(e),t.label=d.toAlias(e),t}}B.h.Gauge=bc;class yc{static getSeries(e){if(e.is2(ms))return e;let t=new ms;return t.expression=gs.removeFunction(e.expression),t.label=e.label,t}static getSeries2(e){let t=new ms;return t.expression=d.toExpression(e),t.label=d.toAlias(e),t}static getValue(e){if(e.is2(ds))return e;let t=new ds;return t.expression=d.toTotalExpression(e),t.label=e.label,t}static getValue2(e){let t=new ds;return t.expression=d.toTotalExpression2(e),t.label=d.toAlias(e),t}static getTarget(e){if(e.is2(cs))return e;let t=new cs;return t.expression=d.toTotalExpression(e),t.label=e.label,t}static getTarget2(e){let t=new cs;return t.expression=d.toTotalExpression2(e),t.label=d.toAlias(e),t}}B.h.Indicator=yc;class vc{static getName(e){if(e.is2(rs))return e;let t=new rs;return t.expression=e.expression,t.label=e.label,t}static getName2(e){let t=new rs;return t.expression=d.toExpression(e),t.label=d.toAlias(e),t}static getKey(e){if(e.is2(ts))return e;let t=new ts;return t.expression=e.expression,t.label=e.label,t}static getKey2(e){let t=new ts;return t.expression=d.toExpression(e),t.label=d.toAlias(e),t}}B.h.ListBox=vc;class xc{static getLatitude(e){if(e.is2($i))return e;let t=new $i;return t.expression=e.expression,t.label=e.label,t}static getLongitude(e){if(e.is2(es))return e;let t=new es;return t.expression=e.expression,t.label=e.label,t}static getLocation(e){if(e.is2(Ii))return e;return new Ii(null,e.expression,e.label)}static getLocationColor(e){if(e.is2(Ai))return e;return new Ai(null,e.expression,e.label)}static getLocationValue(e){if(e.is2(Ri))return e;return new Ri(null,e.expression,e.label)}static getLocationArgument(e){if(e.is2(Di))return e;return new Di(null,e.expression,e.label)}static getLatitude2(e){let t=new $i;return t.expression=d.toExpression(e),t.label=d.toAlias(e),t}static getLongitude2(e){let t=new es;return t.expression=d.toExpression(e),t.label=d.toAlias(e),t}static getLocation2(e){return new Ii(null,d.toExpression(e),d.toAlias(e))}static getLocationColor2(e){return new Ai(null,d.toExpression(e),d.toAlias(e))}static getLocationValue2(e){return new Ri(null,d.toExpression(e),d.toAlias(e))}static getLocationArgument2(e){return new Di(null,d.toExpression(e),d.toAlias(e))}}B.h.OnlineMap=xc;class Fc{static getColumn(e){if(e.is(Zi))return e;let t=new Zi;return t.expression=e.expression,t.label=e.label,t.textFormat=this.getFormat(e),t.topN=this.getTopN(e),t.horAlignment=e.is(mr)?e.as(mr).horAlignment:ae.Center,t.size=e.is(ti)?e.size:new ei,t.totalLabel=this.getTotalLabel(e),t.showTotal=this.getShowTotal(e),t}static getRow(e){if(e.is(Qi))return e;let t=new Qi;return t.expression=e.expression,t.label=e.label,t.textFormat=this.getFormat(e),t.topN=this.getTopN(e),t.horAlignment=e.is(mr)?e.as(mr).horAlignment:ae.Center,t.size=e.is(ti)?e.size:new ei,t.totalLabel=this.getTotalLabel(e),t.showTotal=this.getShowTotal(e),t}static getShowTotal(e){return e.is(ci)?e.as(ci).showTotal:!e.is(hi)||e.as(hi).showTotal}static getTotalLabel(e){return e.is(ci)?e.as(ci).totalLabel:e.is(hi)?e.as(hi).totalLabel:""}static getSummary(e){if(e.is(_i))return e;let t=new _i;return t.expression=d.toTotalExpression(e),t.label=e.label,t.textFormat=this.getFormat(e),t}static getSummary3(e,t){if(e.is(_i))return e;let r=new _i;return r.expression=d.toTotalExpression3(e,t),r.label=e.label,r.textFormat=this.getFormat(e),r}static getColumn2(e){let t=new Zi;return t.expression=d.toExpression(e),t.label=d.toAlias(e),t}static getRow2(e){let t=new Qi;return t.expression=d.toExpression(e),t.label=d.toAlias(e),t}static getSummary2(e){let t=new _i;return t.expression=d.toTotalExpression2(e),t.label=d.toAlias(e),t}static getFormat(e){if(e.is(Zi))return e.textFormat;if(e.is(Qi))return e.textFormat;if(e.is(_i))return e.textFormat;return new Bt}static getTopN(e){if(e.is(Zi))return e.topN;if(e.is(Qi))return e.topN;return new di}}B.h.Pivot=Fc;class Tc{static getSeries(e){if(e.is2(Yi))return e;let t=new Yi;return t.expression=gs.removeFunction(e.expression),t.label=e.label,t}static getSeries2(e){let t=new Yi;return t.expression=d.toExpression(e),t.label=d.toAlias(e),t}static getValue(e){if(e.is2(Ki))return e;let t=new Ki;return t.expression=d.toTotalExpression(e),t.label=e.label,t}static getValue2(e){let t=new Ki;return t.expression=d.toTotalExpression2(e),t.label=d.toAlias(e),t}static getTarget(e){if(e.is2(qi))return e;let t=new qi;return t.expression=d.toTotalExpression(e),t.label=e.label,t}static getTarget2(e){let t=new qi;return t.expression=d.toTotalExpression2(e),t.label=d.toAlias(e),t}}B.h.Progress=Tc;class Mc{static getKey(e){if(e.is2(Ui))return e;let t=new Ui;return t.expression=e.expression,t.label=e.label,t}static getName(e){if(e.is2(Wi))return e;let t=new Wi;return t.expression=e.expression,t.label=e.label,t}static getGroup(e){if(e.is2(Ji))return e;let t=new Ji;return t.expression=e.expression,t.label=e.label,t}static getValue(e,t){let r=new ji;r.loadFromString(e.saveToString());var e=ss.isNumericDataColumnInExpression(t,r.expression)?"Sum":"Count";return r.expression=gs.replaceFunction(r.expression,e),r}static getColor(e){if(e.is2(Gi))return e;let t=new Gi;return t.expression=e.expression,t.label=e.label,t}static getKey2(e){let t=new Ui;return t.expression=d.toExpression(e),t.label=d.toAlias(e),t}static getName2(e){let t=new Wi;return t.expression=d.toExpression(e),t.label=d.toAlias(e),t}static getValue2(e){let t=new ji;return t.expression=d.toTotalExpression2(e),t.label=d.toAlias(e),t}static getGroup2(e){let t=new Ji;return t.expression=d.toExpression(e),t.label=d.toAlias(e),t}static getColor2(e){let t=new Gi;return t.expression=d.toExpression(e),t.label=d.toAlias(e),t}}B.h.RegionMap=Mc;class Dc{static getColumn(e){let t=e.as(ns);return(t=null==t?new(e.is(pt)?Xi:Hi):t).loadFromString(e.saveToString()),t}static getDimension(e){let t=new Hi;return t.loadFromString(e.saveToString()),Oi.isMeasureFunction(t.expression)&&(t.expression=gs.removeFunction(t.expression)),t}static getDimension2(e){let t=new Hi;return t.textFormat=zi.getDefaultFormatForColumn(e),t.expression=d.toExpression(e),t.horAlignment=B.h.StiTableAlignmentHelper.getHorAlign(e),t.label=d.toAlias(e),t}static getMeasure(e,t){let r=new Xi;var e;return r.loadFromString(e.saveToString()),(e.is(Hi)||e.is(Pi))&&(e=ss.isNumericDataColumnInExpression(t,r.expression)?"Sum":"Count",r.expression=gs.replaceFunction(r.expression,e)),r}static getMeasure2(e){let t=new Xi;return t.textFormat=zi.getDefaultFormatForColumn(e),t.expression=d.toTotalExpression2(e),t.horAlignment=B.h.StiTableAlignmentHelper.getHorAlign(e),t.label=d.toAlias(e),t}static getDataBars(e,t){let r=new Ni;var e;return r.loadFromString(e.saveToString()),(e.is(Hi)||e.is(Pi))&&(e=ss.isNumericDataColumnInExpression(t,r.expression)?"Sum":"First",r.expression=gs.replaceFunction(r.expression,e)),r}static getColorScale(e,t){let r=new Bi;var e;return r.loadFromString(e.saveToString()),(e.is(Hi)||e.is(Pi))&&(e=ss.isNumericDataColumnInExpression(t,r.expression)?"Sum":"Count",r.expression=gs.replaceFunction(r.expression,e)),r}static getSparklines(e){let t=new Pi;return t.loadFromString(e.saveToString()),Oi.isMeasureFunction(t.expression)&&(t.expression=gs.removeFunction(t.expression)),t}static getBubble(e,t){let r=new Mi;var e;return r.loadFromString(e.saveToString()),(e.is(Hi)||e.is(Pi))&&(e=ss.isNumericDataColumnInExpression(t,r.expression)?"Sum":"Count",r.expression=gs.replaceFunction(r.expression,e)),r}static getIndicator(e,t){let r=new Vi;var e;return r.loadFromString(e.saveToString()),(e.is(Hi)||e.is(Pi))&&(e=ss.isNumericDataColumnInExpression(t,r.expression)?"Sum":"Count",r.expression=gs.replaceFunction(r.expression,e)),r.horAlignment=ae.Right,r}}B.h.Table=Dc;class Ic{static getColumn(e){let t=e.as(cr);return(t=null==t?new(e.is(pt)?pr:Fi):t).loadFromString(e.saveToString()),t}static getDimension(e){let t=new Fi;return t.loadFromString(e.saveToString()),Oi.isMeasureFunction(t.expression)&&(t.expression=gs.removeFunction(t.expression)),t}static getDimension2(e){let t=new Fi;return t.textFormat=zi.getDefaultFormatForColumn(e),t.expression=d.toExpression(e),t.horAlignment=B.h.StiTableAlignmentHelper.getHorAlign(e),t.label=d.toAlias(e),t}static getMeasure(e,t){let r=new pr;var e;return r.loadFromString(e.saveToString()),(e.is2(Fi)||e.is2(xi))&&(e=ss.isNumericDataColumnInExpression(t,r.expression)?"Sum":"Count",r.expression=gs.replaceFunction(r.expression,e)),r}static getMeasure2(e){let t=new pr;return t.textFormat=zi.getDefaultFormatForColumn(e),t.expression=d.toTotalExpression2(e),t.horAlignment=B.h.StiTableAlignmentHelper.getHorAlign(e),t.label=d.toAlias(e),t}static getDataBars(e,t){let r=new vi;var e;return r.loadFromString(e.saveToString()),(e.is2(Fi)||e.is2(xi))&&(e=ss.isNumericDataColumnInExpression(t,r.expression)?"Sum":"First",r.expression=gs.replaceFunction(r.expression,e)),r}static getColorScale(e,t){let r=new yi;var e;return r.loadFromString(e.saveToString()),(e.is2(Fi)||e.is2(xi))&&(e=ss.isNumericDataColumnInExpression(t,r.expression)?"Sum":"Count",r.expression=gs.replaceFunction(r.expression,e)),r}static getSparklines(e){let t=new xi;return t.loadFromString(e.saveToString()),Oi.isMeasureFunction(t.expression)&&(t.expression=gs.removeFunction(t.expression)),t}static getBubble(e,t){let r=new bi;var e;return r.loadFromString(e.saveToString()),(e.is2(Fi)||e.is2(xi))&&(e=ss.isNumericDataColumnInExpression(t,r.expression)?"Sum":"Count",r.expression=gs.replaceFunction(r.expression,e)),r}static getIndicator(e,t){let r=new Ci;var e;return r.loadFromString(e.saveToString()),(e.is2(Fi)||e.is2(xi))&&(e=ss.isNumericDataColumnInExpression(t,r.expression)?"Sum":"Count",r.expression=gs.replaceFunction(r.expression,e)),r.horAlignment=ae.Right,r}}B.h.Cards=Ic;class Ac{static getKey(e){if(e.is2(Li))return e;let t=new Li;return t.expression=e.expression,t.label=e.label,t}static getKey2(e){let t=new Li;return t.expression=d.toExpression(e),t.label=d.toAlias(e),t}}B.h.TreeView=Ac;class Rc{static getKey(e){if(e.is2(ki))return e;let t=new ki;return t.expression=e.expression,t.label=e.label,t}static getKey2(e){let t=new ki;return t.expression=d.toExpression(e),t.label=d.toAlias(e),t}}B.h.TreeViewBox=Rc;class d{static toTotalExpression2(e){var t=null==e?void 0:e.as(_r);if(null!=t)return Ti.isNumericType(t)?this.toSumExpression2(t):this.toCountExpression2(t);return null==e?void 0:e.getName()}static toTotalExpression(e){if(gs.isFunctionPresent(e.expression))return e.expression;return this.toCountExpression(e.expression)}static toTotalExpression3(e,t){if(gs.isFunctionPresent(e.expression))return e.expression;return ss.isNumericDataColumnInExpression(t,e.expression)?this.toSumExpression(e.expression):this.toCountExpression(e.expression)}static toSumExpression2(e){return`Sum(${this.toExpression(e)})`}static toSumExpression(e){return`Sum(${e})`}static toCountExpression2(e){return`Count(${this.toExpression(e)})`}static toCountExpression(e){return`Count(${e})`}static toExpression(e){var t=null==e?void 0:e.as(_r);if(null!=t)return Oi.toExpression2(t.dataSource.name,t.name);return Oi.toExpression(null==e?void 0:e.getName())}static toAlias(e){let t=e.as(Fs);if(null!=t)return t.getAlias();return null==e?void 0:e.getName()}static toDataType(e){var t,t,t=null==(t=null==e?void 0:e.as(_r))?void 0:t.type;if(null!=t)return t;return null==(t=null==e?void 0:e.as(Ts))?void 0:t.type}}d.Chart=Sc,d.ComboBox=wc,d.DataFilter=fc,d.DatePicker=Cc,d.Gauge=bc,d.Indicator=yc,d.ListBox=vc,d.OnlineMap=xc,d.Pivot=Fc,d.Progress=Tc,d.RegionMap=Mc,d.Table=Dc,d.Cards=Ic,d.TreeView=Ac,d.TreeViewBox=Rc,B.h.StiMeterHelper=d}B.F.StiCardsItem=class{constructor(){this.cornerRadius=new h(0),this.margin=new qe(12,12,12,12),this.padding=new Ke(12,12,12,12),this.colorEach=!1}meta(){return this._hash||(this._hash=[new s("Margin").get(e=>this.margin.saveToJsonObject(12,12,12,12)),new s("Padding").get(e=>this.padding.saveToJsonObject(12,12,12,12)),new n("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=h.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=h.tryParse(e.textContent)),new u("ColorEach")])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}isDefault(){return this.cornerRadius.isDefault&&this.isDefaultMargin()&&this.isDefaultPadding()}isDefaultMargin(){return 12==this.margin.left&&12==this.margin.top&&12==this.margin.right&&12==this.margin.bottom}isDefaultPadding(){return 12==this.padding.left&&12==this.padding.top&&12==this.padding.right&&12==this.padding.bottom}};let d=B.h.StiMeterHelper,Ms=se.System.Text.StiReportObjectStringConverter,Ds=se.Report.Dashboard.IStiSeriesColors,Is=B.F.StiCardsItem,c=B.G.StiMeterLoader,As=se.Report.Dashboard.StiItemOrientation,Rs=se.Report.Dashboard.ImplementsIStiCardsElement,Es=se.Report.IStiGlobalizationProvider,ks=se.Report.Dashboard.ImplementsIStiElementLayout,Ls=se.Report.Dashboard.IStiElementLayout,Vs=se.Report.Dashboard.StiElementLayout,Bs=se.Report.Dashboard.ImplementsIStiTitleElement,Ns=se.Data.Helpers.StiUsedDataHelper,Ps=se.Report.Dashboard.IStiCardsElement;{class Vh extends B.e.StiElement{constructor(e=P.empty){super(e),this.helpUrl="user-manual/dashboards_cards.htm",this.dataFilters=new le,this.group="",this.title=new B.e.StiTitle,this.crossFiltering=!0,this.shadow=new Ne,this.layout=new Vs,this.cornerRadius=new h(0),this._style=o.Auto,this.customStyleName="",this.seriesColors=[],this.orientation=As.Horizontal,this.columns=new le,this.cards=new Is,this.columnCount=0,this.title.text=this.localizedName}implements(){return Vh.ImplementsStiCardsElement||(Vh.ImplementsStiCardsElement=super.implements().concat([Ps,Pe,be,Ls,Be,Ds,Es,...Rs,...Bs,...ks,...Ve,l])),Vh.ImplementsStiCardsElement}clone(e){var e,e,e;let t=super.clone(e);return t.columns=this.columns.select(e=>e.clone()).toList(),t.dashboardInteraction=null==(e=this.dashboardInteraction)?void 0:e.clone(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.title=null!=this.title?this.title.clone():null,t.seriesColors=null!=this.seriesColors?this.seriesColors.stimulsoft().clone():null,t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t.shadow=null==(e=this.shadow)?void 0:e.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new s("Columns").get(e=>a.Serialize.objectArray(this.columns,e)).set(e=>this.columns.addRange(e.value.properties().select(e=>c.loadFromJson(e.value).as(cr)).where(e=>null!=e))).setXml(e=>this.columns.addRange(e.childNodes.select(e=>c.loadFromXml(e)).where(e=>null!=e))),new i("Orientation","",As,As.Horizontal),new s("Title").check(()=>null!=this.title).set(e=>this.title=B.e.StiTitle.createFromJsonObject(e.value)).setXml(e=>this.title=B.e.StiTitle.createFromXml(e)),new s("Layout").check(()=>null!=this.layout).set(e=>this.layout=Vs.createFromJsonObject(e.value)).setXml(e=>this.layout=Vs.createFromXml(e)),new i("Style","",o,o.Auto),new n("CustomStyleName"),new A("ColumnCount","",0),new n("Group"),new u("CrossFiltering","",!0),new s("DataFilters").get(e=>a.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new s("Cards").get(e=>this.cards.saveToJsonObject(e)),new n("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=h.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=h.tryParse(e.textContent)),new n("Shadow").get(()=>a.Serialize.jShadow(this.shadow)).set(e=>this.shadow=a.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ne.loadFromXml(e.textContent)),new s("SeriesColors").get(()=>a.Serialize.colorArray(this.seriesColors)).set(e=>this.seriesColors=a.Deserialize.colorArray(e.value)).setXml(e=>this.seriesColors=Ms.convertStringToColorArray(e.textContent))])}get componentId(){return Z.StiCardsElement}get toolboxPosition(){return je.CardsElement}get localizedName(){return w.get("Components","StiCards")}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}convertFrom(e){let t=e.fetchAllMeters();if(this.columns.clear(),null==t)return;t.cast().forEach(e=>{let t=null;e.is2(Ie)?t=new Fi:e.is2(qr)?t=new B.F.StiSparklinesCardsColumn:e.is2(Kr)?t=new B.F.StiDataBarsCardsColumn:e.is2(Wr)?t=new B.F.StiIndicatorCardsColumn:e.is2(Ur)?t=new B.F.StiColorScaleCardsColumn:e.is2(wr)?t=new B.F.StiBubbleCardsColumn:e.is2(pt)&&((t=new pr).horAlignment=ae.Right),null!=t&&(t.loadFromJsonObject(e.saveToJsonObject(Me.Report)),this.columns.add(t))},this)}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}createMeters(e){var e=e.as(Vh),t;this.columns.clear();for(t of e.columns)this.columns.add(t)}createMeters2(e){this.columns.clear();for(var t of e.columns.list)null!=t&&null!=t.type&&xe.isNumericType(t.type)?this.columns.add(d.Cards.getMeasure2(t)):this.columns.add(d.Cards.getDimension2(t))}createMeter(e){var t=e.as(_r),r=e.as(Ts),r=null!=t?t.type:null==r?void 0:r.type,r;null!=r&&xe.isNumericType(r)?(r=d.Cards.getMeasure2(t),this.columns.add(r)):this.columns.add(d.Cards.getDimension2(e))}removeMeter(e){e<this.columns.length&&this.columns.removeAt(e)}removeAllMeters(){this.columns.clear()}insertMeter(e,t){var t=t.as(cr);if(null==t)return;0<=e&&e<this.columns.length?this.columns.insert(e,t):this.columns.add(t)}insertNewDimension(e){let t=new Fi;t.horAlignment=ae.Left,this.insertMeter(e,t)}insertNewMeasure(e){let t=new pr;t.expression="Sum()",t.horAlignment=ae.Right,this.insertMeter(e,t)}getMeasure(e){return d.Cards.getMeasure2(e)}getDimension(e){return d.Cards.getDimension2(e)}getCards(){return this.cards}fetchAllMeters(){return this.columns.cast()}getMeters(){return this.columns.cast()}retrieveUsedDataNames(){return Ns.getMany2(this.columns)}get isDefined(){return null!=this.columns&&0<this.columns.length}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break}}getString(e){switch(e){case"Title.Text":return this.title.text}throw new Error(`Property with name `+e)}getAllStrings(){var e;return["Title.Text"]}get shouldSerializeDashboardInteraction(){return null==this.dashboardInteraction||!this.dashboardInteraction.isDefault()}get style(){return this._style}set style(e){(this._style=e)!=o.Custom&&(this.customStyleName="")}createNew(){return new Vh}}B.F.StiCardsElement=Vh}(e=Re=B.H.StiChartLabelsStyle||(B.H.StiChartLabelsStyle={}))[e["Value"]=0]="Value",e[e["PercentOfTotal"]=1]="PercentOfTotal",e[e["Category"]=2]="Category",e[e["CategoryValue"]=3]="CategoryValue",e[e["CategoryPercentOfTotal"]=4]="CategoryPercentOfTotal",(e=Ee=B.H.StiLegendVisibility||(B.H.StiLegendVisibility={}))[e["False"]=0]="False",e[e["Auto"]=1]="Auto",e[e["Always"]=2]="Always";let Os=se.Report.Dashboard.IStiChartArea;{class Ec{constructor(e,t,r,i,s,n,l,a,o,u,h){this.colorEach=!1,this.reverseHor=!1,this.reverseVert=!1,this.interlacingHor=new B.H.StiHorChartInterlacing,this.interlacingVert=new B.H.StiVertChartInterlacing,this.gridLinesHor=new B.H.StiHorChartGridLines,this.gridLinesVert=new B.H.StiVertChartGridLines,this.xAxis=new B.H.StiXChartAxis,this.xTopAxis=new B.H.StiXTopChartAxis,this.yAxis=new B.H.StiYChartAxis,this.yRightAxis=new B.H.StiYRightChartAxis,null!=e&&(this.colorEach=e),null!=t&&(this.reverseHor=t),null!=r&&(this.reverseVert=r),null!=i&&(this.gridLinesHor=i),null!=s&&(this.gridLinesVert=s),null!=s&&(this.interlacingHor=n),null!=l&&(this.interlacingVert=l),null!=a&&(this.xAxis=a),null!=o&&(this.yAxis=o),null!=u&&(this.xTopAxis=u),null!=h&&(this.yRightAxis=h)}implements(){return Ec.ImplementsStiChartArea||(Ec.ImplementsStiChartArea=[Os,l]),Ec.ImplementsStiChartArea}meta(){return this._hash||(this._hash=[new u("ColorEach"),new s("GridLinesHor"),new s("GridLinesVert"),new s("InterlacingHor"),new s("InterlacingVert"),new u("ReverseHor"),new u("ReverseVert"),new s("XAxis").check(()=>!1),new s("XTopAxis").check(()=>!1),new s("YAxis").check(()=>!1),new s("YRightAxis").check(()=>!1)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){let e=this.stimulsoft().memberwiseClone();return e.gridLinesHor=null!=this.gridLinesHor?this.gridLinesHor.clone():null,e.gridLinesVert=null!=this.gridLinesVert?this.gridLinesVert.clone():null,e.interlacingHor=null!=this.interlacingHor?this.interlacingHor.clone():null,e.interlacingVert=null!=this.interlacingVert?this.interlacingVert.clone():null,e}shouldSerializeXAxis(){return null==this.xAxis||!this.xAxis.isDefault()}shouldSerializeXTopAxis(){return null==this.xTopAxis||!this.xTopAxis.isDefault()}shouldSerializeYAxis(){return null==this.yAxis||!this.yAxis.isDefault()}shouldSerializeYRightAxis(){return null==this.yRightAxis||!this.yRightAxis.isDefault()}}B.H.StiChartArea=Ec}let zs=se.Report.Chart.StiLabelsPlacement;{class Hs{constructor(e,t,r,i,s,n,l){this.angle=0,this.color=N.transparent,this.font=new z("Arial",8),this.placement=zs.AutoRotation,this.textAlignment=ae.Right,this.textAfter="",this.textBefore="",this.step=0,null!=e&&(this.textBefore=e),null!=t&&(this.textAfter=t),null!=r&&(this.angle=r),null!=i&&(this.font=i),null!=s&&(this.placement=s),null!=n&&(this.color=n),null!=l&&(this.textAlignment=l)}implements(){return Hs.ImplementsStiChartAxisLabels||(Hs.ImplementsStiChartAxisLabels=[bt,Qt,...Ut,l]),Hs.ImplementsStiChartAxisLabels}meta(){return this._hash||(this._hash=[new A("Angle","",0),new n("TextBefore"),new n("TextAfter"),new wt("Font","","Arial",8),new i("Placement","",zs,zs.AutoRotation),new t("Color","",N.transparent),new i("TextAlignment","",ae,ae.Right),new A("Step","",0)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){let e=this.stimulsoft().memberwiseClone();return e.font=this.font.clone(),e}shouldSerializeColor(){return!N.transparent.equals(this.color)}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&8==this.font.sizeInPoints&&this.font.style==L.Regular)}isDefault(){return!this.shouldSerializeFont()&&!this.shouldSerializeColor()&&this.placement==zs.AutoRotation&&this.textAlignment==ae.Right&&""==this.textAfter&&""==this.textBefore&&0==this.angle&&0==this.step}}B.H.StiChartAxisLabels=Hs}let Hs=B.H.StiChartAxisLabels;{class kc{constructor(e,t,r){this.labels=new Hs,this.range=new B.H.StiChartAxisRange,this.visible=!0,null!=e&&(this.labels=e),null!=t&&(this.range=t),null!=r&&(this.visible=r)}implements(){return kc.ImplementsStiChartAxis||(kc.ImplementsStiChartAxis=[l,vt,bt]),kc.ImplementsStiChartAxis}is(e){if(e instanceof se.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}clone(){let e=this.stimulsoft().memberwiseClone();return e.labels=this.labels.clone(),e.range=this.range.clone(),e}meta(){return this._hash||(this._hash=[new s("Labels").check(()=>null!=this.labels),new s("Range").check(()=>null!=this.range),new u("Visible","",!0)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}shouldSerializeLabels(){return null==this.labels||!this.labels.isDefault()}shouldSerializeRange(){return null==this.range||!this.range.isDefault()}isDefault(){return!this.shouldSerializeLabels()&&this.visible}}B.H.StiChartAxis=kc}{class Lc{constructor(e,t,r){this._minimum=0,this.maximum=0,this.auto=!0,null!=e&&(this.auto=e),null!=t&&(this.minimum=t),null!=r&&(this.maximum=r)}implements(){return Lc.ImplementsStiChartAxisRange||(Lc.ImplementsStiChartAxisRange=[l,bt]),Lc.ImplementsStiChartAxisRange}meta(){return this._hash||(this._hash=[new A("Minimum","",0),new A("Maximum","",0),new u("Auto","",!0)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}get minimum(){return this._minimum}set minimum(e){this._minimum=e}isDefault(){return 0==this.minimum&&0==this.maximum&&this.auto}}B.H.StiChartAxisRange=Lc}let Xs=se.Report.Chart.StiTitlePosition,Gs=se.System.Drawing.StringAlignment;{(e=ke=B.H.Order||(B.H.Order={}))[e["Alignment"]=1]="Alignment",e[e["Color"]=2]="Color",e[e["Direction"]=3]="Direction",e[e["Font"]=4]="Font",e[e["Placement"]=5]="Placement",e[e["Position"]=6]="Position",e[e["Text"]=7]="Text",e[e["Visible"]=8]="Visible";class Vc{constructor(e,t,r,i,s,n){this.visible=!0,this.alignment=Gs.Center,this.color=N.transparent,this.font=new z("Arial",12,L.Bold),this.position=Xs.Outside,this.text="",null!=e&&(this.font=e),null!=t&&(this.text=t),null!=r&&(this.color=r),null!=i&&(this.alignment=i),null!=s&&(this.position=s),null!=n&&(this.visible=n)}implements(){return Vc.ImplementsStiChartAxisTitle||(Vc.ImplementsStiChartAxisTitle=[l,vt]),Vc.ImplementsStiChartAxisTitle}is(e){if(e instanceof se.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}meta(){return this._hash||(this._hash=[new wt("Font","","Arial",12,L.Bold),new n("Text"),new t("Color","",N.transparent),new i("Alignment","",Gs,Gs.Center),new i("Position","",Xs,Xs.Outside),new u("Visible","",!0)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){let e=this.stimulsoft().memberwiseClone();return e.font=this.font.clone(),e}shouldSerializeColor(){return!N.transparent.equals(this.color)}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&12==this.font.sizeInPoints&&this.font.style==L.Bold)}isDefault(){return null!=z&&!this.shouldSerializeFont()&&!this.shouldSerializeColor()&&null!=this.text&&0==this.text.length&&this.position==Xs.Outside&&this.alignment==Gs.Center&&this.visible}}B.H.StiChartAxisTitle=Vc}let js=se.Report.Chart.StiConstantLines_StiTextPosition,Js=se.Report.Dashboard.IStiChartConstantLines;{class Bc{constructor(e,t,r,i,s,n){this.text="",this.lineStyle=wi.Solid,this.lineColor=N.black,this.axisValue="1",this.lineWidth=1,this.position=js.LeftTop,null!=e&&(this.text=e),null!=t&&(this.axisValue=t),null!=r&&(this.lineColor=r),null!=i&&(this.lineStyle=i),null!=s&&(this.lineWidth=s),null!=n&&(this.position=n)}implements(){return Bc.ImplementsStiChartConstantLines||(Bc.ImplementsStiChartConstantLines=[bt,Js,l]),Bc.ImplementsStiChartConstantLines}meta(){return this._hash||(this._hash=[new n("Text"),new t("LineColor"),new i("LineStyle","",wi,wi.Solid),new A("LineWidth","",1),new R("AxisValue","","1"),new i("Position","",js,js.LeftTop)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}static createFromJson(e){let t=new Bc;return t.loadFromJsonObject(e),t}static createFromXml(e){let t=new Bc;return t.loadFromXml(e),t}}B.H.StiChartConstantLines=Bc}let Ws=se.Report.Chart.StiMarkerType,Us=se.Report.Chart.StiExtendedStyleBool;{class pn{constructor(e){this.size=7,this.angle=0,this.type=Ws.Circle,this.visible=Us.FromStyle,null!=e&&(this.size=e)}implements(){return pn.ImplementsStiChartMarker||(pn.ImplementsStiChartMarker=[bt,l]),pn.ImplementsStiChartMarker}meta(){return this._hash||(this._hash=[new A("Size","",7),new A("Angle","",0),new i("Type","",Ws,Ws.Circle),new i("Visible","",Us,Us.FromStyle)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}isDefault(){return 7==this.size&&0==this.angle&&this.type==Ws.Circle}static createFromJson(e){let t=new B.H.StiChartConstantLines;return t.loadFromJsonObject(e),t}static createFromXml(e){let t=new B.H.StiChartConstantLines;return t.loadFromXml(e),t}}B.H.StiChartMarker=pn}B.H.StiChartLegendTitle=class{constructor(e,t,r){this.color=N.transparent,this.font=new z("Arial",12,L.Bold),this.text="",null!=e&&(this.font=e),null!=t&&(this.text=t),null!=r&&(this.color=r)}meta(){return this._hash||(this._hash=[new wt("Font","","Arial",12,L.Bold),new n("Text"),new t("Color","",N.transparent)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){let e=this.stimulsoft().memberwiseClone();return e.font=this.font.clone(),e}shouldSerializeColor(){return!N.transparent.equals(this.color)}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&12==this.font.sizeInPoints&&this.font.style==L.Bold)}isDefault(){return null!=this.font&&!this.shouldSerializeFont()&&!this.shouldSerializeColor()&&null!=this.text&&0==this.text.length}};let Ks=se.Report.Chart.StiSeriesLabelsValueType;{class Zs{constructor(e,t,r){this.color=N.transparent,this.font=new z("Arial",8),this.valueType=null,null!=e&&(this.font=e),null!=t&&(this.color=t),null!=r&&(this.valueType=r)}implements(){return Zs.ImplementsStiChartLegendLabels||(Zs.ImplementsStiChartLegendLabels=[bt,Qt,...Ut,l]),Zs.ImplementsStiChartLegendLabels}meta(){return this._hash||(this._hash=[new wt("Font","","Arial",8),new t("Color","",N.transparent),new i("ValueType","",Ks)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){let e=this.stimulsoft().memberwiseClone();return e.font=this.font.clone(),e}shouldSerializeColor(){return!N.transparent.equals(this.color)}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&8==this.font.sizeInPoints&&this.font.style==L.Regular)}isDefault(){return!this.shouldSerializeFont()&&!this.shouldSerializeColor()}}B.H.StiChartLegendLabels=Zs}let qs=se.Report.Chart.StiLegendDirection,Ys=B.H.StiChartLegendTitle,Zs=B.H.StiChartLegendLabels,Qs=se.Report.Chart.StiLegendVertAlignment,_s=se.Report.Chart.StiLegendHorAlignment;{(e=Le=B.H.Order||(B.H.Order={}))[e["HorAlignment"]=1]="HorAlignment",e[e["Labels"]=2]="Labels",e[e["Title"]=3]="Title",e[e["VertAlignment"]=4]="VertAlignment";class In{constructor(e,t,r,i,s,n,l){this.horAlignment=_s.Left,this.vertAlignment=Qs.TopOutside,this.visibility=B.H.StiLegendVisibility.Auto,this.direction=qs.TopToBottom,this.columns=0,this.labels=new Zs,this.title=new Ys,null!=e&&(this.title=e),null!=t&&(this.labels=t),null!=r&&(this.horAlignment=r),null!=i&&(this.vertAlignment=i),null!=s&&(this.visibility=s),null!=n&&(this.direction=n),null!=l&&(this.columns=l)}implements(){return In.ImplementsStiChartLegend||(In.ImplementsStiChartLegend=[l]),In.ImplementsStiChartLegend}meta(){return this._hash||(this._hash=[new s("Title"),new s("Labels"),new i("HorAlignment","",_s,_s.Left),new i("VertAlignment","",Qs,Qs.TopOutside),new u("Visible","",!0),new i("Visibility","",B.H.StiLegendVisibility,B.H.StiLegendVisibility.Auto),new i("Direction","",qs,qs.TopToBottom),new A("Columns")])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){let e=this.stimulsoft().memberwiseClone();return e.title=this.title.clone(),e.labels=this.labels.clone(),e.horAlignment=this.horAlignment,e.vertAlignment=this.vertAlignment,e.visible=this.visible,e.direction=this.direction,e.columns=this.columns,e.visibility=this.visibility,e}get visible(){return this.visibility==B.H.StiLegendVisibility.Auto}set visible(e){this.visibility=e?B.H.StiLegendVisibility.Auto:B.H.StiLegendVisibility.False}isDefault(){return this.title.isDefault()&&this.labels.isDefault()&&this.horAlignment==_s.Left&&this.vertAlignment==Qs.TopOutside&&this.direction==qs.TopToBottom&&0==this.columns&&this.visibility==B.H.StiLegendVisibility.Auto}}B.H.StiChartLegend=In}let $s=se.Report.Chart.StiDirection,en=(B.H.StiYChartAxisTitle=class extends B.H.StiChartAxisTitle{constructor(e,t,r,i,s,n,l){super(e,t,r,i,n,l),this.direction=$s.BottomToTop,null!=s&&(this.direction=s)}meta(){return this._hash||(this._hash=[...super.meta(),new i("Direction","",$s,$s.BottomToTop)])}isDefault(){return this.direction==$s.BottomToTop}},B.H.StiYChartAxisTitle),tn=(B.H.StiYChartAxis=class extends B.H.StiChartAxis{constructor(e,t,r,i){super(e),this.title=new en,this.startFromZero=!0,null!=e&&(this.labels=e),null!=t&&(this.title=t),null!=r&&(this.visible=r),null!=i&&(this.startFromZero=i)}clone(){var e;let t=super.clone();return t.title=this.title.clone(),t.range=null==(e=this.range)?void 0:e.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new s("Title"),new u("StartFromZero","",!0)])}shouldSerializeTitle(){return!(null!=this.title&&this.title.isDefault())}shouldSerializeStartFromZero(){return!this.startFromZero}isDefault(){return!this.shouldSerializeTitle()&&!this.shouldSerializeStartFromZero()}},se.Base.StiAutoBool),rn=(B.H.StiXChartAxis=class extends B.H.StiChartAxis{constructor(e,t,r,i,s){super(e),this.title=new B.H.StiXChartAxisTitle,this.showEdgeValues=tn.Auto,this.startFromZero=tn.Auto,null!=e&&(this.labels=e),null!=t&&(this.title=t),null!=r&&(this.visible=r),null!=i&&(this.startFromZero=i),null!=s&&(this.showEdgeValues=s)}clone(){let e=super.clone();return e.title=this.title.clone(),e}meta(){return this._hash||(this._hash=[...super.meta(),new s("Title").check(()=>null!=this.title),new i("ShowEdgeValues","",tn,tn.Auto),new i("StartFromZero","",tn,tn.Auto)])}shouldSerializeTitle(){return null==this.title||!this.title.isDefault()}shouldSerializeShowEdgeValues(){return this.showEdgeValues!=tn.Auto}shouldSerializeStartFromZero(){return this.startFromZero!=tn.Auto}isDefault(){return!this.shouldSerializeTitle()&&!this.shouldSerializeShowEdgeValues()&&!this.shouldSerializeStartFromZero()}},B.H.StiYChartMeter=class extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.YChartMeter}get localizedName(){return`Y`+S.get("PropertyMain","Value")}},se.Report.Dashboard.IStiAllowUserSortingDashboardInteraction),sn=se.Report.Dashboard.IStiInteractionLayout,nn=se.Report.Dashboard.IStiAllowUserDrillDownDashboardInteraction;{class wn extends B.g.StiDashboardInteraction{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d,c){super(e,t,r,i,s,n,l),this.ident=Mr.Chart,this.allowUserDrillDown=!1,this.allowUserSorting=!0,this.availableOnClick=Dr.ApplyFilter|Dr.OpenHyperlink|Dr.ShowDashboard|Dr.DrillDown,this.availableOnDataManipulation=Ar.AllowDrillDown|Ar.AllowSorting,this.showFullScreenButton=!0,this.showSaveButton=!0,this.showViewDataButton=!0,this.fileName=null,this.headerText=null,this.footerText=null,null!=a&&(this.allowUserDrillDown=a),null!=o&&(this.fileName=o),null!=u&&(this.headerText=u),null!=h&&(this.footerText=h),null!=m&&(this.showFullScreenButton=m),null!=d&&(this.showSaveButton=d),null!=c&&(this.showViewDataButton=c)}implements(){return wn.ImplementsIStiChartDashboardInteraction||(wn.ImplementsIStiChartDashboardInteraction=super.implements().concat([nn,rn,l,sn])),wn.ImplementsIStiChartDashboardInteraction}meta(){return this._hash||(this._hash=[...super.meta(),new u("AllowUserDrillDown"),new u("AllowUserSorting","",!0),new u("ShowFullScreenButton","",!0),new u("ShowSaveButton","",!0),new u("ShowViewDataButton","",!0),new n("FileName"),new n("HeaderText"),new n("FooterText")])}get isDefaultLayout(){return this.showFullScreenButton&&this.showSaveButton&&this.showViewDataButton&&null==this.fileName&&null==this.headerText&&null==this.footerText}isDefault(){return this.onHover==xr.ShowToolTip&&this.onClick==Fr.ApplyFilter&&this.hyperlinkDestination==Tr.NewTab&&ne.isNullOrEmpty(this.hyperlink)&&ne.isNullOrEmpty(this.drillDownPageKey)&&null!=this.drillDownParameters&&0==this.drillDownParameters.length&&ne.isNullOrEmpty(this.toolTip)&&!this.allowUserDrillDown&&this.allowUserSorting&&this.isDefaultLayout}}B.g.StiChartDashboardInteraction=wn}let ln=se.Data.Engine.IStiDrillDownElement,an=(B.g.StiDrillDownHelper=class{static isDrillAvailable(e){var t=e.is(Hr)?e.dashboardInteraction.as(nn):null,r;if(null==t||!t.allowUserDrillDown)return!1;return null!=e.as(ln)}static isDrillUpAvailable(e){if(!this.isDrillAvailable(e))return!1;var t;return 0<e.as(ln).drillDownCurrentLevel}static isDrillDownAvailable(e){if(!this.isDrillAvailable(e))return!1;var e=e.as(ln);return e.drillDownCurrentLevel<e.drillDownLevelCount-1}static drillUp(e){let t=e.as(ln);t.drillDownCurrentLevel--,t.drillDownFilters=t.drillDownFiltersList[t.drillDownCurrentLevel],t.drillDownFiltersList.removeAt(t.drillDownFiltersList.length-1)}static drillDown(e,t=null){let r=e.as(ln);r.drillDownFiltersList.add(r.drillDownFilters),r.drillDownFilters=t,r.drillDownCurrentLevel++}},se.Report.Dashboard.StiChartTrendLineType);{class Vn{constructor(e,t,r,i,s){this.type=an.None,this.lineStyle=wi.Solid,this.lineColor=N.black,this.lineWidth=1,null!=e&&(this.keyValueMeter=e),null!=t&&(this.type=t),null!=r&&(this.lineColor=r),null!=i&&(this.lineStyle=i),null!=s&&(this.lineWidth=s)}implements(){return Vn.ImplementsStiChartTrendLine||(Vn.ImplementsStiChartTrendLine=[bt,Js,l]),Vn.ImplementsStiChartTrendLine}meta(){return this._hash||(this._hash=[new n("KeyValueMeter"),new i("Type","",an,an.None),new i("LineStyle","",wi,wi.Solid),new t("LineColor","",N.black),new A("LineWidth","",1)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}static createFromJson(e){let t=new Vn;return t.loadFromJsonObject(e),t}static createFromXml(e){let t=new Vn;return t.loadFromXml(e),t}}B.H.StiChartTrendLine=Vn}let on=se.Report.Chart.StiPie3dOptions,un=se.Report.StiDataMode,hn=se.Report.Dashboard.StiUserViewState,mn=se.Report.Dashboard.IStiUserViewStates,dn=se.System.StiArray,cn=se.Report.Components.StiTextFormatState,gn=se.Report.Dashboard.StiChartSeriesCreator,pn=B.H.StiChartMarker,Sn=B.g.StiDrillDownHelper,wn=B.g.StiChartDashboardInteraction,fn=se.Report.Dashboard.IStiNegativeSeriesColors,Cn=se.Report.Dashboard.IStiParetoSeriesColors,bn=se.Report.Dashboard.ImplementsIStiSeriesColors,yn=se.Report.Dashboard.ImplementsIStiNegativeSeriesColors,vn=se.Report.Dashboard.ImplementsIStiParetoSeriesColors,xn=se.Report.Dashboard.ImplementsIStiUserViewStates,Fn=se.Report.Dashboard.ImplementsIStiSkipOwnFilter,Tn=se.Report.Dashboard.ImplementsIStiChartElement,Mn=se.Data.Engine.StiDataSortRule,Dn=se.Data.Engine.StiDataActionRule,In=B.H.StiChartLegend,An=B.e.StiTitle,Rn=B.H.StiYChartMeter,En=se.Report.Dashboard.StiChartGroups,kn=se.Report.Dashboard.IStiChartElement,Ln=se.Data.Engine.ImplementsIStiDrillDownElement,Vn=B.H.StiChartTrendLine,Bn=se.Report.Chart.IStiShowNullsSeries;{tt.add("StiChartElement","Stimulsoft.Dashboard.Export.Tools.StiChartElementExportTool");class Hh extends B.e.StiElement{constructor(e=P.empty){super(e),this.title=new An,this.layout=new Vs,this.group="",this.crossFiltering=!0,this._style=o.Auto,this.customStyleName="",this.userFilters=new le,this.userSorts=new le,this.userViewStates=new le,this.transformActions=new le,this.transformFilters=new le,this.transformSorts=new le,this.topN=new di,this.dataTransformation={},this.dataFilters=new le,this.seriesColors=[],this.negativeSeriesColors=[],this.paretoSeriesColors=[],this.cornerRadius=new h(0),this.shadow=new Ne,this.helpUrl="user-manual/dashboards_chart.htm",this.manuallyEnteredChartMeter=new B.H.StiValueChartMeter,this.values=new le,this.endValues=new le,this.closeValues=new le,this.lowValues=new le,this.highValues=new le,this.arguments=new le,this.weights=new le,this.legend=new In,this.area=new B.H.StiChartArea,this._labels=new B.H.StiChartLabels,this.argumentFormat=new Bt,this.valueFormat=new Vr(null,null,null,0,null,null,null,null,null,cn.DecimalDigits|cn.Abbreviation),this.trendLines=new le,this.constantLines=new le,this.chartConditions=new le,this.marker=new pn,this.icon=null,this.roundValues=!0,this.dataMode=un.UsingDataFields,this.drillDownFiltersList=new le,this.drillDownFilters=new le,this.drillDownCurrentLevel=0,this.title.text=this.localizedName,this.dashboardInteraction=new wn,this.labels=new B.H.StiChartLabels,this.previousAnimations=new le,this.options3D=new on}implements(){return Hh.ImplementsStiChartElement||(Hh.ImplementsStiChartElement=super.implements().concat([kn,Pe,Be,mn,_,be,Ls,Es,Ds,fn,Cn,...Tn,...Oe,...Ve,...xn,...Fn,...Bs,...ks,...bn,...yn,...vn,...Ln,l,Hr,ln])),Hh.ImplementsStiChartElement}clone(e){var e,e,e,e;let t=super.clone(e);return t.values=this.values.select(e=>e.clone()).toList(),t.endValues=this.endValues.select(e=>e.clone()).toList(),t.closeValues=this.closeValues.select(e=>e.clone()).toList(),t.lowValues=this.lowValues.select(e=>e.clone()).toList(),t.highValues=this.highValues.select(e=>e.clone()).toList(),t.arguments=this.arguments.select(e=>e.clone()).toList(),t.weights=this.weights.select(e=>e.clone()).toList(),t.series=null!=this.series?this.series.clone():null,t.userFilters=this.userFilters.select(e=>e.clone()).toList(),t.userSorts=this.userSorts.select(e=>e.clone()).toList(),t.userViewStates=this.userViewStates.select(e=>e.clone()).toList(),t.transformActions=this.transformActions.select(e=>e.clone()).toList(),t.transformFilters=this.transformFilters.select(e=>e.clone()).toList(),t.transformSorts=this.transformSorts.select(e=>e.clone()).toList(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.topN=this.topN.clone(),t.argumentFormat=null!=this.argumentFormat?this.argumentFormat.clone():null,t.valueFormat=null!=this.valueFormat?this.valueFormat.clone():null,t.title=null!=this.title?this.title.clone():null,t.layout=null!=this.layout?this.layout.clone():null,t.dashboardInteraction=this.dashboardInteraction.clone(),t.xAxis=null!=this.xAxis?this.xAxis.clone():null,t.xTopAxis=null==(e=this.xTopAxis)?void 0:e.clone(),t.yAxis=null!=this.yAxis?this.yAxis.clone():null,t.yRightAxis=null==(e=this.yRightAxis)?void 0:e.clone(),t.legend=null!=this.legend?this.legend.clone():null,t.area=null!=this.area?this.area.clone():null,t.seriesColors=null!=this.seriesColors?this.seriesColors.stimulsoft().clone():null,t.negativeSeriesColors=null!=this.negativeSeriesColors?this.negativeSeriesColors.stimulsoft().clone():null,t.paretoSeriesColors=null!=this.paretoSeriesColors?this.paretoSeriesColors.stimulsoft().clone():null,t.marker=null!=this.marker?this.marker.clone():null,t.constantLines=this.constantLines.select(e=>e.clone()).toList(),t.trendLines=this.trendLines.select(e=>e.clone()).toList(),t.chartConditions=this.chartConditions.select(e=>e.clone()).toList(),t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new s("UserFilters").get(e=>a.Serialize.objectArray(this.userFilters,e)).set(e=>this.userFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.userFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new s("UserSorts").get(e=>a.Serialize.objectArray(this.userSorts,e)).set(e=>this.userSorts.addRange(e.value.properties().select(e=>Mn.loadFromJson(e.value)))).setXml(e=>this.userSorts.addRange(e.childNodes.select(e=>Mn.loadFromXml(e)))),new s("TransformActions").get(e=>a.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Dn.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Dn.loadFromXml(e)))),new s("TransformFilters").get(e=>a.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new s("TransformSorts").get(e=>a.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Mn.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Mn.loadFromXml(e)))),new s("DataFilters").get(e=>a.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new s("Values").get(e=>a.Serialize.objectArray(this.values,e)).set(e=>this.values.addRange(e.value.properties().select(e=>c.loadFromJson(e.value)))).setXml(e=>this.values.addRange(e.childNodes.select(e=>c.loadFromXml(e)))),new s("EndValues").get(e=>a.Serialize.objectArray(this.endValues,e)).set(e=>this.endValues.addRange(e.value.properties().select(e=>c.loadFromJson(e.value)))).setXml(e=>this.endValues.addRange(e.childNodes.select(e=>c.loadFromXml(e)))),new s("CloseValues").get(e=>a.Serialize.objectArray(this.closeValues,e)).set(e=>this.closeValues.addRange(e.value.properties().select(e=>c.loadFromJson(e.value)))).setXml(e=>this.closeValues.addRange(e.childNodes.select(e=>c.loadFromXml(e)))),new s("LowValues").get(e=>a.Serialize.objectArray(this.lowValues,e)).set(e=>this.lowValues.addRange(e.value.properties().select(e=>c.loadFromJson(e.value)))).setXml(e=>this.lowValues.addRange(e.childNodes.select(e=>c.loadFromXml(e)))),new s("HighValues").get(e=>a.Serialize.objectArray(this.highValues,e)).set(e=>this.highValues.addRange(e.value.properties().select(e=>c.loadFromJson(e.value)))).setXml(e=>this.highValues.addRange(e.childNodes.select(e=>c.loadFromXml(e)))),new s("Arguments").get(e=>a.Serialize.objectArray(this.arguments,e)).set(e=>this.arguments.addRange(e.value.properties().select(e=>c.loadFromJson(e.value)))).setXml(e=>this.arguments.addRange(e.childNodes.select(e=>c.loadFromXml(e)))),new s("Weights").get(e=>a.Serialize.objectArray(this.weights,e)).set(e=>this.weights.addRange(e.value.properties().select(e=>c.loadFromJson(e.value)))).setXml(e=>this.weights.addRange(e.childNodes.select(e=>c.loadFromXml(e)))),new s("UserViewStates").get(e=>a.Serialize.objectArray(this.userViewStates,e)).set(e=>this.userViewStates.addRange(e.value.properties().select(e=>hn.loadFromJson(e.value)))).setXml(e=>this.userViewStates.addRange(e.childNodes.select(e=>hn.loadFromXml(e)))),new u("ColorEach"),new u("CrossFiltering","",!0),new s("TopN").check(()=>null!=this.topN).set(e=>this.topN=di.createFromJsonObject(e.value)).setXml(e=>this.topN=di.createFromXml(e)),new s("DashboardInteraction").check(()=>null!=this.dashboardInteraction.as(wn)).set(e=>{var e,e=null==(e=Xr.loadInteractionFromJsonObject(e.value))?void 0:e.as(wn);null!=e&&(this.dashboardInteraction=e)}).setXml(e=>{var e,e=null==(e=Xr.loadInteractionFromXml(e))?void 0:e.as(wn);null!=e&&(this.dashboardInteraction=e)}),new s("Title").check(()=>null!=this.title).set(e=>this.title=An.createFromJsonObject(e.value)).setXml(e=>this.title=An.createFromXml(e)),new s("Layout").check(()=>null!=this.layout).set(e=>this.layout=Vs.createFromJsonObject(e.value)).setXml(e=>this.layout=Vs.createFromXml(e)),new s("ManuallyEnteredChartMeter").check(()=>null!=this.manuallyEnteredChartMeter).set(e=>{var e=c.loadFromJson(e.value).as(B.H.StiValueChartMeter);null!=e&&(this.manuallyEnteredChartMeter=e)}).setXml(e=>{var e=c.loadFromXml(e).as(B.H.StiValueChartMeter);null!=e&&(this.manuallyEnteredChartMeter=e)}),new s("Series").check(()=>null!=this.series).set(e=>{var e=c.loadFromJson(e.value).as(vs);null!=e&&(this.series=e)}).setXml(e=>{var e=c.loadFromXml(e).as(vs);null!=e&&(this.series=e)}),new s("ArgumentFormat").check(()=>null!=this.argumentFormat).set(e=>this.argumentFormat=or.createFromJsonObject(e.value)).setXml(e=>this.argumentFormat=or.loadFormatFromXml(e,this.report)),new s("ValueFormat").check(()=>null!=this.valueFormat).set(e=>this.valueFormat=or.createFromJsonObject(e.value)).setXml(e=>this.valueFormat=or.loadFormatFromXml(e,this.report)),new s("XAxis").check(()=>null!=this.xAxis),new s("XTopAxis").check(()=>null!=this.xTopAxis),new s("YAxis").check(()=>null!=this.yAxis),new s("YRightAxis").check(()=>null!=this.yRightAxis),new s("Legend").check(()=>null!=this.legend),new s("Area").check(()=>null!=this.area),new s("Marker").check(()=>null!=this.marker),new s("Labels").check(()=>null!=this.labels),new s("Options3D").check(()=>null!=this.options3D),new s("SeriesColors").get(()=>a.Serialize.colorArray(this.seriesColors)).set(e=>this.seriesColors=a.Deserialize.colorArray(e.value)).setXml(e=>this.seriesColors=Ms.convertStringToColorArray(e.textContent)),new s("NegativeSeriesColors").get(()=>a.Serialize.colorArray(this.negativeSeriesColors)).set(e=>this.negativeSeriesColors=a.Deserialize.colorArray(e.value)).setXml(e=>this.negativeSeriesColors=Ms.convertStringToColorArray(e.textContent)),new s("ParetoSeriesColors").get(()=>a.Serialize.colorArray(this.paretoSeriesColors)).set(e=>this.paretoSeriesColors=a.Deserialize.colorArray(e.value)).setXml(e=>this.paretoSeriesColors=Ms.convertStringToColorArray(e.textContent)),new i("Style","",o,o.Auto),new n("Group"),new n("CustomStyleName"),new s("ConstantLines").get(e=>a.Serialize.objectArray(this.constantLines,e)).set(e=>this.constantLines.addRange(e.value.properties().select(e=>B.H.StiChartConstantLines.createFromJson(e.value)))).setXml(e=>this.constantLines.addRange(e.childNodes.select(e=>B.H.StiChartConstantLines.createFromXml(e)))),new s("TrendLines").get(e=>a.Serialize.objectArray(this.trendLines,e)).set(e=>this.trendLines.addRange(e.value.properties().select(e=>Vn.createFromJson(e.value)))).setXml(e=>this.trendLines.addRange(e.childNodes.select(e=>Vn.createFromXml(e)))),new s("ChartConditions").get(e=>a.Serialize.objectArray(this.chartConditions,e)).set(e=>this.chartConditions.addRange(e.value.properties().select(e=>B.H.StiChartElementCondition.createFromJson(e.value)))).setXml(e=>this.chartConditions.addRange(e.childNodes.select(e=>B.H.StiChartElementCondition.createFromXml(e)))),new n("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=h.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=h.tryParse(e.textContent)),new n("Shadow").get(()=>a.Serialize.jShadow(this.shadow)).set(e=>this.shadow=a.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ne.loadFromXml(e.textContent)),new i("DataMode","",un,un.UsingDataFields),new n("ManuallyEnteredData"),new i("Icon","",yt).check(()=>null!=this.icon),new u("RoundValues","",!0),new n("SelectedViewStateKey").check(()=>null!=this.selectedViewStateKey)])}get componentId(){return Z.StiChartElement}convertToBubble(){null!=this.arguments&&this.arguments.where(e=>null!=e).toList().forEach(e=>{e.expression=gs.replaceFunction(e.expression,"Sum")})}convertFromBubble(){null!=this.arguments&&this.arguments.where(e=>null!=e).toList().forEach(e=>{e.expression=gs.removeFunction(e.expression)}),null!=this.weights&&this.weights.clear()}convertToGantt(){var e;null!=this.values&&null!=(e=this.values)&&e.where(e=>null!=e).toList().forEach(e=>{e.expression=gs.removeFunction(e.expression)})}getChartSeriesTypes(e){let t=new le;if(1<this.values.length){var e=ge.parse(m,e),e=En.getGroup(e);if(null!=e)for(var r of e)t.add(ge.getName(m,r))}return t}getManuallyEnteredChartMeter(){return this.manuallyEnteredChartMeter}addValue(e){null!=e&&this.values.add(d.Chart.getValue2(e,this))}getValue2(e){return null!=e?d.Chart.getValue2(e,this):null}getValue(e){return null!=e?d.Chart.getValue(e.as(B.e.StiMeter)):null}getGanttStartValue(e){return null!=e?d.Chart.getGanttStartValue(e):null}getGanttEndValue(e){return null!=e?d.Chart.getGanttEndValue(e):null}getY(e){return null!=e?d.Chart.getY2(e):null}getX(e){return null!=e?d.Chart.getX2(e):null}fetchAllValues(){return this.values.cast().toList()}getValueByIndex(e){return e<this.values.length?this.values[e]:null}insertValue(e,t){var t=t.as(B.H.StiValueChartMeter);null!=t&&(0<=e&&e<this.values.length?this.values.insert(e,t):this.values.add(t))}removeValue(e){e<this.values.length&&this.values.removeAt(e)}removeAllValues(){this.values.clear()}createNewValue(){let e=new B.H.StiValueChartMeter;return e.expression="Sum()",this.values.add(e),e}addEndValue(e){null!=e&&this.endValues.add(d.Chart.getEndValue2(e))}getEndValue2(e){return null!=e?d.Chart.getEndValue2(e):null}getEndValue(e){return null!=e?d.Chart.getEndValue(e.as(B.e.StiMeter)):null}getEndValueByIndex(e){return e<this.endValues.length?this.endValues[e]:null}insertEndValue(e,t){var t=t.as(xs);null!=t&&(0<=e&&e<this.endValues.length?this.endValues.insert(e,t):this.endValues.add(t))}removeEndValue(e){e<this.endValues.length&&this.endValues.removeAt(e)}removeAllEndValues(){this.endValues.clear()}createNewEndValue(){let e=new xs;return e.expression="Sum()",this.endValues.add(e),e}addCloseValue(e){null!=e&&this.closeValues.add(d.Chart.getCloseValue2(e))}getCloseValue2(e){return null!=e?d.Chart.getCloseValue2(e):null}getCloseValue(e){return null!=e?d.Chart.getCloseValue(e.as(B.e.StiMeter)):null}getCloseValueByIndex(e){return e<this.closeValues.length?this.closeValues[e]:null}insertCloseValue(e,t){var t=t.as(ws);null!=t&&(0<=e&&e<this.closeValues.length?this.closeValues.insert(e,t):this.closeValues.add(t))}removeCloseValue(e){e<this.closeValues.length&&this.closeValues.removeAt(e)}removeAllCloseValues(){this.closeValues.clear()}createNewCloseValue(){let e=new ws;return e.expression="Sum()",this.closeValues.add(e),e}addLowValue(e){null!=e&&this.lowValues.add(d.Chart.getLowValue2(e))}getLowValue2(e){return null!=e?d.Chart.getLowValue2(e):null}getLowValue(e){return null!=e?d.Chart.getLowValue(e.as(B.e.StiMeter)):null}getLowValueByIndex(e){return e<this.lowValues.length?this.lowValues[e]:null}insertLowValue(e,t){var t=t.as(fs);null!=t&&(0<=e&&e<this.lowValues.length?this.lowValues.insert(e,t):this.lowValues.add(t))}removeLowValue(e){e<this.lowValues.length&&this.lowValues.removeAt(e)}removeAllLowValues(){this.lowValues.clear()}createNewLowValue(){let e=new fs;return e.expression="Sum()",this.lowValues.add(e),e}addHighalue(e){null!=e&&this.highValues.add(d.Chart.getHighValue2(e))}getHighValue2(e){return null!=e?d.Chart.getHighValue2(e):null}getHighValue(e){return null!=e?d.Chart.getHighValue(e.as(B.e.StiMeter)):null}getHighValueByIndex(e){return e<this.highValues.length?this.highValues[e]:null}insertHighValue(e,t){var t=t.as(Cs);null!=t&&(0<=e&&e<this.highValues.length?this.highValues.insert(e,t):this.highValues.add(t))}removeHighValue(e){e<this.highValues.length&&this.highValues.removeAt(e)}removeAllHighValues(){this.highValues.clear()}createNewHighValue(){let e=new Cs;return e.expression="Sum()",this.highValues.add(e),e}addArgument(e){null!=e&&this.arguments.add(d.Chart.getArgument2(e))}getArgument2(e){return null!=e?d.Chart.getArgument2(e):null}getArgument(e){return null!=e?d.Chart.getArgument(e.as(B.e.StiMeter)):null}fetchAllArguments(){return this.arguments.cast().toList()}getArgumentByIndex(e){return e<this.arguments.length?this.arguments[e]:null}insertArgument(e,t){var t=t.as(bs);null!=t&&(0<=e&&e<this.arguments.length?this.arguments.insert(e,t):this.arguments.add(t))}removeArgument(e){e<this.arguments.length&&this.arguments.removeAt(e)}removeAllArguments(){this.arguments.clear()}createNewArgument(){this.arguments.add(new bs)}addWeight(e){null!=e&&this.weights.add(d.Chart.getWeight2(e))}getWeight2(e){return null!=e?d.Chart.getWeight2(e):null}getWeight(e){return null!=e?d.Chart.getWeight(e.as(B.e.StiMeter)):null}getWeightByIndex(e){return e<this.weights.length?this.weights[e]:null}insertWeight(e,t){var t=t.as(ps);null!=t&&(0<=e&&e<this.weights.length?this.weights.insert(e,t):this.weights.add(t))}removeWeight(e){e<this.weights.length&&this.weights.removeAt(e)}removeAllWeights(){this.weights.clear()}createNewWeight(){let e=new ps;e.expression="Sum()",this.weights.add(e)}addSeries(e){this.series=null!=e?d.Chart.getSeries2(e):null}getSeries2(e){return null!=e?d.Chart.getSeries2(e):null}getSeries(e){return null!=e?d.Chart.getSeries(e.as(B.e.StiMeter)):null}getSeries3(){return this.series}insertSeries(e){this.series=e.as(vs)}removeSeries(){this.series=null}createNewSeries(){this.series=new vs}fetchConstantLines(){let e=new le;return null!=this.constantLines&&e.addRange(this.constantLines),e}addConstantLine(){this.constantLines.add(new B.H.StiChartConstantLines)}removeConstantLine(e){0<=e&&e<this.constantLines.length&&this.constantLines.removeAt(e)}moveConstantLine(e,t){var r;0<=e&&e<this.constantLines.length&&(r=this.constantLines[e],this.constantLines.removeAt(e),this.constantLines.insert(t,r))}addTrendLines(e,t,r,i,s){this.trendLines.add(new Vn(e,t,r,i,s))}fetchTrendLines(){let e=new le;return null!=e&&e.addRange(this.trendLines),e}clearTrendLines(){this.trendLines.clear()}addChartCondition(e,t,r,i,s,n,l,a,o){this.chartConditions.add(new B.H.StiChartElementCondition(e,s,t,r,i,n,l,a,o))}fetchChartConditions(){let e=new le;return null!=this.chartConditions&&e.addRange(this.chartConditions),e}clearChartConditions(){this.chartConditions.clear()}convertFrom(e){let t=e.fetchAllMeters();if(this.values.clear(),this.arguments.clear(),null==t)return;t.where(e=>(e.is2(yr)||e.is2(pt))&&!e.is2(pi)).cast().forEach(e=>{let t=new B.H.StiValueChartMeter;t.loadFromJsonObject(e.saveToJsonObject(Me.Report)),this.values.add(t)},this),t.where(e=>e.is(pi)).cast().forEach(e=>{let t=new bs;t.loadFromJsonObject(e.saveToJsonObject(Me.Report)),this.arguments.add(t)},this),null==this.dashboardInteraction&&(this.dashboardInteraction=new wn)}fetchAllMeters(){let e=new le;return this.dataMode==un.UsingDataFields&&(null!=this.values&&e.addRange(this.values),null!=this.endValues&&e.addRange(this.endValues),null!=this.closeValues&&e.addRange(this.closeValues),null!=this.lowValues&&e.addRange(this.lowValues),null!=this.highValues&&e.addRange(this.highValues),null!=this.arguments&&e.addRange(this.arguments),null!=this.weights&&e.addRange(this.weights),null!=this.series&&e.add(this.series)),e}getMeters(){let r=new le;if(this.dataMode==un.UsingDataFields){for(var i of this.values)if(this.isBubbleChart){let e=new Rn;e.key=i.key,e.expression=i.expression,e.label=i.label,r.add(e)}else if(this.isFinancial){let e=new B.H.StiOpenValueChartMeter;e.seriesType=i.seriesType,e.key=i.key,e.expression=i.expression,e.label=i.label,r.add(e)}else if(this.isRange){let e=new B.H.StiStartValueChartMeter;e.seriesType=i.seriesType,e.key=i.key,e.expression=i.expression,e.label=i.label,e.lineStyle=i.lineStyle,r.add(e)}else if(i.showZeros==ut.Zero&&i.showNulls==ut.Zero||!gn.neww2(i.seriesType).is(Bn))r.add(i);else{let e=gs.getFunction(i.expression),t=null;if("sum"==(e=null!=e?e.toLowerCase():e)?t="sumnulls":"avg"==e&&(t="avgnulls"),null!=t){let e=i.clone();e.expression=gs.replaceFunction(i.expression,t),r.add(e)}else r.add(i)}if(this.isRange)for(var e of this.endValues)r.add(e);if(this.isFinancial)for(var t of this.closeValues)r.add(t);if(this.isFinancial)for(var s of this.lowValues)r.add(s);if(this.isFinancial)for(var n of this.highValues)r.add(n);var l,a;for(a of Sn.isDrillAvailable(this)&&this.drillDownCurrentLevel<this.drillDownLevelCount?this.arguments.getRange(this.drillDownCurrentLevel,1):this.arguments)if(this.isBubbleChart){let e=new B.H.StiXChartMeter;e.key=a.key,e.expression=a.expression,e.label=a.label,r.add(e)}else r.add(a);if(this.isBubbleChart)for(var o of this.weights)r.add(o);null!=this.series&&r.add(this.series)}return r}retrieveUsedDataNames(){let e=new le;return this.dataMode==un.UsingDataFields&&(e.addRange(Ns.getMany2(this.values)),e.addRange(Ns.getMany2(this.arguments)),e.addRange(Ns.getMany2(this.weights)),e.addRange(Ns.getMany(this.series))),e.distinct()}get isDefined(){return null!=this.values&&0<this.values.length||null!=this.weights&&0<this.weights.length&&this.isBubbleChart||null!=this.arguments&&0<this.arguments.length||null!=this.series||this.dataMode==un.ManuallyEnteringData}shouldSerializeLayout(){return null==this.layout||!this.layout.isDefault()}get allowSkipOwnFilter(){return!0}get style(){return this._style}set style(e){(this._style=e)!=o.Custom&&(this.customStyleName="")}switchSelectedViewState(e){B.H.StiChartUserViewStatesHelper.switchSelectedViewState(this,e)}saveToJsonForViewState(){return B.H.StiChartUserViewStatesHelper.saveToJsonObject(this)}loadFromJsonForViewState(e){B.H.StiChartUserViewStatesHelper.loadFromJsonObject(this,e)}shouldSerializeDataTransformation(){return null==this.transformActions||this.transformActions.any()||null==this.transformFilters||this.transformFilters.any()||null==this.transformSorts||this.transformSorts.any()}isDefaultDataTransformation(){return!this.shouldSerializeDataTransformation()}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break;case"Legend.Title.Text":this.legend.title.text=t;break;case"XAxis.Labels.TextAfter":this.xAxis.labels.textAfter=t;break;case"XAxis.Labels.TextBefore":this.xAxis.labels.textBefore=t;break;case"XAxis.Title.Text":this.xAxis.title.text=t;break;case"XTopAxis.Labels.TextAfter":this.xTopAxis.labels.textAfter=t;break;case"XTopAxis.Labels.TextBefore":this.xTopAxis.labels.textBefore=t;break;case"XTopAxis.Title.Text":this.xTopAxis.title.text=t;break;case"YAxis.Labels.TextAfter":this.yAxis.labels.textAfter=t;break;case"YAxis.Labels.TextBefore":this.yAxis.labels.textBefore=t;break;case"YAxis.Title.Text":this.yAxis.title.text=t;break;case"YRightAxis.Labels.TextAfter":this.yRightAxis.labels.textAfter=t;break;case"YRightAxis.Labels.TextBefore":this.yRightAxis.labels.textBefore=t;break;case"YRightAxis.Title.Text":this.yRightAxis.title.text=t;break}let r=0;for(var i of this.values){var s;e==`Value${r++}.Label`&&(i.label=t)}r=0;for(var n of this.arguments){var l;e==`Argument${r++}.Label`&&(n.label=t)}}getString(e){switch(e){case"Title.Text":return this.title.text;case"Legend.Title.Text":return this.legend.title.text;case"XAxis.Labels.TextAfter":return this.xAxis.labels.textAfter;case"XAxis.Labels.TextBefore":return this.xAxis.labels.textBefore;case"XAxis.Title.Text":return this.xAxis.title.text;case"XTopAxis.Labels.TextAfter":return this.xTopAxis.labels.textAfter;case"XTopAxis.Labels.TextBefore":return this.xTopAxis.labels.textBefore;case"XTopAxis.Title.Text":return this.xTopAxis.title.text;case"YAxis.Labels.TextAfter":return this.yAxis.labels.textAfter;case"YAxis.Labels.TextBefore":return this.yAxis.labels.textBefore;case"YAxis.Title.Text":return this.yAxis.title.text;case"YRightAxis.Labels.TextAfter":return this.yRightAxis.labels.textAfter;case"YRightAxis.Labels.TextBefore":return this.yRightAxis.labels.textBefore;case"YRightAxis.Title.Text":return this.yRightAxis.title.text}let t=0;for(var r of this.values){var i;if(e==`Value${t++}.Label`)return r.label}t=0;for(var s of this.arguments){var n;if(e==`Argument${t++}.Label`)return s.label}throw new Error(`Property with name `+e)}getAllStrings(){let t=["Title.Text","Legend.Title.Text"],r=(this.isAxisAreaChart&&(t.push("XAxis.Labels.TextAfter"),t.push("XAxis.Labels.TextBefore"),t.push("XAxis.Title.Text"),t.push("XTopAxis.Labels.TextAfter"),t.push("XTopAxis.Labels.TextBefore"),t.push("XTopAxis.Title.Text"),t.push("YAxis.Labels.TextAfter"),t.push("YAxis.Labels.TextBefore"),t.push("YAxis.Title.Text"),t.push("YRightAxis.Labels.TextAfter"),t.push("YRightAxis.Labels.TextBefore"),t.push("YRightAxis.Title.Text")),0);return this.values.forEach(e=>t.push(`Value${r++}.Label`)),r=0,this.arguments.forEach(e=>t.push(`Argument${r++}.Label`)),t}get shouldSerializeDashboardInteraction(){return null==this.dashboardInteraction||!this.dashboardInteraction.isDefault()}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}getFonts(){let e=super.getFonts();return e.push(this.title.font),e.push(this.labels.font),e.push(this.legend.labels.font),e.push(this.legend.title.font),e.push(this.xAxis.labels.font),e.push(this.xAxis.title.font),e.push(this.xTopAxis.labels.font),e.push(this.xTopAxis.title.font),e.push(this.yAxis.labels.font),e.push(this.yAxis.title.font),e.push(this.yRightAxis.labels.font),e.push(this.yRightAxis.title.font),dn.distinct(e)}get toolboxPosition(){return je.ChartElement}get localizedName(){return w.get("Components","StiChart")}get colorEach(){return null!=this.area&&this.area.colorEach}set colorEach(e){null!=this.area&&(this.area.colorEach=e)}shouldSerializeValues(){return null==this.values||0!=this.values.length}shouldSerializeEndValues(){return null==this.endValues||0!=this.endValues.length}shouldSerializeCloseValues(){return null==this.closeValues||0!=this.closeValues.length}shouldSerializeLowValues(){return null==this.lowValues||0!=this.lowValues.length}shouldSerializeHighValues(){return null==this.highValues||0!=this.highValues.length}shouldSerializeArguments(){return null==this.arguments||0!=this.arguments.length}shouldSerializeWeights(){return null==this.weights||0!=this.weights.length}shouldSerializeSeries(){return null==this.series||!this.series.isDefault()}get xAxis(){var e;return null==(e=this.area)?void 0:e.xAxis}set xAxis(e){null!=this.area&&(this.area.xAxis=e)}get xTopAxis(){var e;return null==(e=this.area)?void 0:e.xTopAxis}set xTopAxis(e){null!=this.area&&(this.area.xTopAxis=e)}get yAxis(){var e;return null==(e=this.area)?void 0:e.yAxis}set yAxis(e){null!=this.area&&(this.area.yAxis=e)}get yRightAxis(){var e;return null==(e=this.area)?void 0:e.yRightAxis}set yRightAxis(e){null!=this.area&&(this.area.yRightAxis=e)}shouldSerializeLegend(){return null==this.legend||!this.legend.isDefault()}get labels(){return this._labels}set labels(e){null!=e&&(e.element=this),this._labels=e}shouldSerializeLabels(){return null==this.labels||!this.labels.isDefault()}shouldSerializeArgumentFormat(){return!this.argumentFormat.is(Bt)}static getValueFormatDefault(){return new Vr(null,null,null,0,null,null,null,null,null,cn.DecimalDigits|cn.Abbreviation)}shouldSerializeValueFormat(){return this.valueFormat.stimulsoft().equals(Hh.getValueFormatDefault())}shouldSerializeTrendLines(){return null==this.trendLines||0<this.trendLines.length}shouldSerializeConstantLines(){return null==this.constantLines||0<this.constantLines.length}shouldSerializeOptions3d(){return null==this.options3D||!this.options3D.isDefault()}shouldSerializeConditions(){return null==this.chartConditions||0<this.chartConditions.length}shouldSerializeMarker(){return null==this.marker||!this.marker.isDefault()}shouldSerializeIcon(){return null!=this.icon}getManuallyEnteredDataTable(){if(this.dataMode!=un.ManuallyEnteringData)return null;return B.e.StiManuallyEnteredDataParser.getChartDataTable(this.manuallyEnteredData,this)}get isAxisAreaChart(){return this.chartValuesList().any(e=>null!=e&&(e.seriesType==m.ClusteredBar||e.seriesType==m.ClusteredColumn||e.seriesType==m.Pareto||e.seriesType==m.Histogram||e.seriesType==m.FullStackedArea||e.seriesType==m.FullStackedBar||e.seriesType==m.FullStackedColumn||e.seriesType==m.FullStackedLine||e.seriesType==m.FullStackedSpline||e.seriesType==m.FullStackedSplineArea||e.seriesType==m.StackedBar||e.seriesType==m.StackedColumn||e.seriesType==m.StackedLine||e.seriesType==m.StackedSpline||e.seriesType==m.StackedArea||e.seriesType==m.StackedSplineArea||e.seriesType==m.Scatter||e.seriesType==m.ScatterLine||e.seriesType==m.ScatterSpline||e.seriesType==m.Candlestick||e.seriesType==m.Stock||e.seriesType==m.Gantt||e.seriesType==m.Bubble||e.seriesType==m.Area||e.seriesType==m.Line||e.seriesType==m.Spline||e.seriesType==m.SplineArea||e.seriesType==m.SplineRange||e.seriesType==m.Range||e.seriesType==m.RangeBar||e.seriesType==m.SteppedArea||e.seriesType==m.SteppedLine||e.seriesType==m.SteppedRange||e.seriesType==m.BoxAndWhisker))}get isStackedChart(){return this.chartValuesList().any(e=>null!=e&&(e.seriesType==m.StackedBar||e.seriesType==m.StackedColumn||e.seriesType==m.StackedLine||e.seriesType==m.StackedSpline||e.seriesType==m.StackedArea||e.seriesType==m.StackedSplineArea))}get isScatterChart(){return this.chartValuesList().any(e=>null!=e&&(e.seriesType==m.Scatter||e.seriesType==m.ScatterLine||e.seriesType==m.ScatterSpline||e.seriesType==m.Bubble))}get isLinesChart(){return this.chartValuesList().any(e=>null!=e&&(e.seriesType==m.FullStackedArea||e.seriesType==m.FullStackedLine||e.seriesType==m.FullStackedSpline||e.seriesType==m.FullStackedSplineArea||e.seriesType==m.StackedLine||e.seriesType==m.StackedSpline||e.seriesType==m.StackedArea||e.seriesType==m.StackedSplineArea||e.seriesType==m.Scatter||e.seriesType==m.ScatterLine||e.seriesType==m.ScatterSpline||e.seriesType==m.Area||e.seriesType==m.Line||e.seriesType==m.Spline||e.seriesType==m.SplineArea||e.seriesType==m.SplineRange||e.seriesType==m.Range||e.seriesType==m.SteppedArea||e.seriesType==m.SteppedLine||e.seriesType==m.SteppedRange))}get isBubbleChart(){return this.chartValuesList().any(e=>null!=e&&e.seriesType==m.Bubble)}get isBarChart(){return this.chartValuesList().any(e=>null!=e&&(e.seriesType==m.ClusteredBar||e.seriesType==m.FullStackedBar||e.seriesType==m.StackedBar||e.seriesType==m.Gantt))}get isRange(){return this.chartValuesList().any(e=>null!=e&&(e.seriesType==m.Range||e.seriesType==m.RangeBar||e.seriesType==m.SteppedRange||e.seriesType==m.SplineRange||e.seriesType==m.Gantt))}get isFinancial(){return this.chartValuesList().any(e=>null!=e&&(e.seriesType==m.Candlestick||e.seriesType==m.Stock))}get isPieChart(){return this.chartValuesList().any(e=>null!=e&&e.seriesType==m.Pie)}get isPie3dChart(){return this.chartValuesList().any(e=>null!=e&&e.seriesType==m.Pie3d)}get isDoughnutChart(){return this.chartValuesList().any(e=>null!=e&&e.seriesType==m.Doughnut)}get isFunnelChart(){return this.chartValuesList().any(e=>null!=e&&(e.seriesType==m.Funnel||e.seriesType==m.FunnelWeightedSlices))}get isPictorialStackedChart(){return this.chartValuesList().any(e=>null!=e&&e.seriesType==m.PictorialStacked)}get isTreemapChart(){return this.chartValuesList().any(e=>null!=e&&e.seriesType==m.Treemap)}get isParetoChart(){return this.chartValuesList().any(e=>null!=e&&e.seriesType==m.Pareto)}get isSunburstChart(){return this.chartValuesList().any(e=>null!=e&&e.seriesType==m.Sunburst)}get isFullStackedChart(){return this.chartValuesList().any(e=>null!=e&&(e.seriesType==m.FullStackedArea||e.seriesType==m.FullStackedBar||e.seriesType==m.FullStackedColumn||e.seriesType==m.FullStackedLine||e.seriesType==m.FullStackedSpline||e.seriesType==m.FullStackedSplineArea))}get isWaterfallChart(){return this.chartValuesList().any(e=>null!=e&&e.seriesType==m.Waterfall)}get isRadarChart(){return this.chartValuesList().any(e=>null!=e&&(e.seriesType==m.RadarPoint||e.seriesType==m.RadarArea||e.seriesType==m.RadarLine))}getNestedPages(){if(null==this.dashboardInteraction||this.dashboardInteraction.onClick==Fr.None)return null;let t=this.dashboardInteraction.drillDownPageKey;if(K.isEmptyKey(t))return null;var e=this.report.pages.toList().firstOrDefault(e=>e.guid==t);if(null==e)return null;return new le([e])}get drillDownLevelCount(){return null!=this.arguments?this.arguments.length:0}createNew(){return new Hh}checkBrowsableProperties(){this.isRange?(this.setBrowsableProperty("Weights",!1),this.setBrowsableProperty("EndValues",!0),this.setBrowsableProperty("CloseValues",!1),this.setBrowsableProperty("LowValues",!1),this.setBrowsableProperty("HighValues",!1)):this.isFinancial?(this.setBrowsableProperty("Weights",!1),this.setBrowsableProperty("EndValues",!1),this.setBrowsableProperty("CloseValues",!0),this.setBrowsableProperty("LowValues",!0),this.setBrowsableProperty("HighValues",!0)):(this.isBubbleChart?this.setBrowsableProperty("Weights",!0):this.setBrowsableProperty("Weights",!1),this.setBrowsableProperty("EndValues",!1),this.setBrowsableProperty("CloseValues",!1),this.setBrowsableProperty("LowValues",!1),this.setBrowsableProperty("HighValues",!1))}setBrowsableProperty(e,t){}getChartSeries(){let e=m.ClusteredColumn;return this.chartValuesList().any()&&(e=this.chartValuesList().first().seriesType),gn.neww2(e)}chartValuesList(){if(this.dataMode==un.UsingDataFields)return null==this.values?new le:this.values.where(e=>null!=e).toList();{let e=new le;return null!=this.manuallyEnteredChartMeter&&e.add(this.manuallyEnteredChartMeter),e}}}B.H.StiChartElement=Hh}let Nn=se.Report.Dashboard.IStiChartElementCondition,Pn=se.Report.Components.StiFilterCondition,On=se.Report.Components.StiFilterDataType,zn=se.Report.Chart.StiChartConditionalField;{class Nc{constructor(e,t,r,i,s,n,l,a,o){this.color=N.white,this.markerAngle=0,this.markerType=Ws.Circle,this.condition=Pn.EqualTo,this.dataType=On.Numeric,this.value="",this.keyValueMeter="",this.field=zn.Value,this.isExpression=!1,null!=e&&(this.keyValueMeter=e),null!=t&&(this.color=t),null!=r&&(this.dataType=r),null!=i&&(this.condition=i),null!=s&&(this.value=s),null!=n&&(this.markerType=n),null!=l&&(this.markerAngle=l),null!=a&&(this.field=a),null!=o&&(this.isExpression=o)}implements(){return Nc.ImplementsStiChartElementCondition||(Nc.ImplementsStiChartElementCondition=[bt,Nn,l]),Nc.ImplementsStiChartElementCondition}meta(){return this._hash||(this._hash=[new R("Ident").get(()=>this.stimulsoft().getType().stimulsoft().getTypeName()),new n("KeyValueMeter"),new i("Condition","",Pn,Pn.EqualTo),new i("DataType","",On,On.Numeric),new i("Field","",zn,zn.Value),new n("Value"),new t("Color","",N.white),new i("MarkerType","",Ws,Ws.Circle),new A("MarkerAngle","",0),new u("IsExpression")])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}isDefault(){return this.color.equals(N.white)&&this.markerType==Ws.Circle&&this.condition==se.Report.Components.StiFilterCondition.EqualTo&&this.dataType==se.Report.Components.StiFilterDataType.Numeric&&this.field==zn.Value&&""==this.value&&!this.isExpression&&""==this.keyValueMeter}static createFromJson(e){let t=new Nc;return t.loadFromJsonObject(e),t}static createFromXml(e){let t=new Nc;return t.loadFromXml(e),t}}B.H.StiChartElementCondition=Nc}{class Pc{constructor(){this.color=N.transparent}implements(){return Pc.ImplementsStiChartGridLines||(Pc.ImplementsStiChartGridLines=[bt,vt,l]),Pc.ImplementsStiChartGridLines}meta(){return this._hash||(this._hash=[new t("Color"),new u("Visible")])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}isDefault(){return null}}B.H.StiChartGridLines=Pc}B.H.StiChartInterlacing=class{constructor(e,t){this.color=N.transparent,this.visible=!1,null!=e&&(this.color=e),null!=e&&(this.visible=t)}meta(){return this._hash||(this._hash=[new t("Color"),new u("Visible")])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}isDefault(){return N.transparent.equals(this.color)&&!this.visible}};let Hn=se.Report.Dashboard.IStiChartLabels,g=se.Report.Dashboard.StiChartLabelsPosition;{class Oc{constructor(e,t,r,i,s,n,l,a,o,u,h,m){this.axisPosition=g.None,this.piePosition=g.Center,this.pie3dPosition=g.Center,this.doughnutPosition=g.Center,this.funnelPosition=g.Center,this.pictorialStackedPosition=g.Right,this.treemapPosition=g.Center,this.radarPosition=g.None,this.foreColor=N.transparent,this.font=new z("Arial",8),this.autoRotate=!1,this.style=B.H.StiChartLabelsStyle.CategoryValue,this.textAfter="",this.textBefore="",null!=e&&(this.axisPosition=e),null!=t&&(this.piePosition=t),null!=r&&(this.doughnutPosition=r),null!=i&&(this.funnelPosition=i),null!=s&&(this.treemapPosition=s),null!=n&&(this.radarPosition=n),null!=l&&(this.style=l),null!=a&&(this.font=a),null!=o&&(this.foreColor=o),null!=u&&(this.textBefore=u),null!=h&&(this.textAfter=h),null!=m&&(this.autoRotate=m)}implements(){return Oc.ImplementsStiChartLabels||(Oc.ImplementsStiChartLabels=[Hn,l]),Oc.ImplementsStiChartLabels}meta(){return this._hash||(this._hash=[new wt("Font","","Arial",8),new n("TextAfter"),new n("TextBefore"),new t("ForeColor","",N.transparent),new i("Position","",g),new i("Style","",B.H.StiChartLabelsStyle,B.H.StiChartLabelsStyle.CategoryValue),new u("AutoRotate")])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){let e=this.stimulsoft().memberwiseClone();return e.font=this.font.clone(),e}get position(){return this.element.isStackedChart||this.axisPosition!=g.Total||(this.axisPosition=g.None),this.element.isPieChart?this.piePosition:this.element.isPie3dChart?this.pie3dPosition:this.element.isDoughnutChart||this.element.isSunburstChart?this.doughnutPosition:this.element.isFunnelChart?this.funnelPosition:this.element.isPictorialStackedChart?this.pictorialStackedPosition:this.element.isTreemapChart?this.treemapPosition:this.element.isRadarChart?this.radarPosition:this.axisPosition}set position(e){this.element.isPieChart?this.piePosition=e:this.element.isPie3dChart?this.pie3dPosition=e:this.element.isDoughnutChart||this.element.isSunburstChart?this.doughnutPosition=e:this.element.isFunnelChart?this.funnelPosition=e:this.element.isPictorialStackedChart?this.pictorialStackedPosition=e:this.element.isTreemapChart?this.treemapPosition=e:this.element.isRadarChart?this.radarPosition=e:this.axisPosition=e}shouldSerializePosition(){return this.element.isPieChart&&this.piePosition!=g.Center||this.element.isDoughnutChart&&this.doughnutPosition!=g.Center||this.element.isFunnelChart&&this.funnelPosition!=g.Center||this.element.isTreemapChart&&this.treemapPosition!=g.Center||this.element.isRadarChart&&this.radarPosition!=g.None||this.element.isAxisAreaChart&&this.axisPosition!=g.None}isDefault(){return N.transparent.equals(this.foreColor)&&!this.autoRotate&&this.axisPosition==g.None&&this.piePosition==g.Center&&this.doughnutPosition==g.Center&&this.funnelPosition==g.Center&&this.treemapPosition==g.Center&&this.radarPosition==g.None&&this.style==B.H.StiChartLabelsStyle.CategoryValue&&null!=this.textAfter&&0==this.textAfter.length&&null!=this.textBefore&&0==this.textBefore.length}}B.H.StiChartLabels=Oc}let Xn=se.System.Text.Encoding,Gn=se.Base.StiPacker;B.H.StiChartUserViewStatesHelper=class{static saveToJsonObject(e){let t=new De;var r=Me.Report;return t.addPropertyJObject("Values",a.Serialize.objectArray(e.values,r)),t.addPropertyJObject("EndValues",a.Serialize.objectArray(e.endValues,r)),t.addPropertyJObject("CloseValues",a.Serialize.objectArray(e.closeValues,r)),t.addPropertyJObject("LowValues",a.Serialize.objectArray(e.lowValues,r)),t.addPropertyJObject("HighValues",a.Serialize.objectArray(e.highValues,r)),t.addPropertyJObject("Arguments",a.Serialize.objectArray(e.arguments,r)),t.addPropertyJObject("Weights",a.Serialize.objectArray(e.weights,r)),null!=e.series&&t.addPropertyJObject("Series",e.series.saveToJsonObject(r)),null!=e.icon&&t.addPropertyEnum("Icon",yt,e.icon),t.addPropertyBool("RoundValues",e.roundValues,!0),t}static loadFromJsonObject(e,t){for(var r of t.properties())switch(r.name){case"Values":e.values.addRange(r.value.properties().select(e=>c.loadFromJson(e.value)));break;case"EndValues":e.endValues.addRange(r.value.properties().select(e=>c.loadFromJson(e.value)));break;case"CloseValues":e.closeValues.addRange(r.value.properties().select(e=>c.loadFromJson(e.value)));break;case"LowValues":e.lowValues.addRange(r.value.properties().select(e=>c.loadFromJson(e.value)));break;case"HighValues":e.highValues.addRange(r.value.properties().select(e=>c.loadFromJson(e.value)));break;case"Arguments":e.arguments.addRange(r.value.properties().select(e=>c.loadFromJson(e.value)));break;case"Weights":e.weights.addRange(r.value.properties().select(e=>c.loadFromJson(e.value)));break;case"Series":var i=c.loadFromJson(r.value).as(B.H.StiSeriesChartMeter);null!=i&&(e.series=i);break;case"Icon":e.icon=ge.parse(yt,r.value.toString());break;case"RoundValues":e.roundValues=r.value.stimulsoft().toBoolean();break}}static clearVisualState(e){e.values.clear(),e.endValues.clear(),e.closeValues.clear(),e.lowValues.clear(),e.highValues.clear(),e.arguments.clear(),e.weights.clear(),e.series=null,e.icon=null}static switchSelectedViewState(e,t){var r;let i=e.selectedViewStateKey;ne.isNullOrWhiteSpace(i)&&(i=null==(r=e.userViewStates.firstOrDefault())?void 0:r.key),this.saveVisualState(e,i),this.loadVisualState(e,t),e.selectedViewStateKey=t}static saveVisualState(e,t){if(ne.isNullOrWhiteSpace(t))return;let r=e.userViewStates.firstOrDefault(e=>e.key==t);if(null==r)return;let i=this.saveToJsonObject(e);r.state=Gn.packToString(Xn.UTF8.getBytes(i.serialize()))}static loadVisualState(e,t){if(this.clearVisualState(e),ne.isNullOrWhiteSpace(t))return;var r=e.userViewStates.firstOrDefault(e=>e.key==t);if(ne.isNullOrWhiteSpace(null==r?void 0:r.state))return;var r=Xn.UTF8.getString(Gn.unpackFromString(r.state));let i=new De;i.deserialize(r),this.loadFromJsonObject(e,i)}},B.H.StiChartYRightAxisLabels=class extends B.H.StiChartAxisLabels{constructor(e,t,r,i,s,n,l){super(e,t,r,i,s,n,l),this.textAlignment=ae.Left}meta(){return this._hash||(this._hash=[...super.meta(),new E("TextAlignment"),new i("TextAlignment","",ae,ae.Left)])}isDefault(){return!this.shouldSerializeFont()&&!this.shouldSerializeColor()&&this.placement==zs.AutoRotation&&this.textAlignment==ae.Left&&""==this.textAfter&&""==this.textBefore&&0==this.angle&&0==this.step}},B.H.StiHorChartGridLines=class extends B.H.StiChartGridLines{constructor(e,t){super(),this.visible=!0,null!=e&&(this.color=e),null!=t&&(this.visible=t)}meta(){return this._hash||(this._hash=[...super.meta(),new t("Color"),new u("Visible","",!0)])}isDefault(){return N.transparent.equals(this.color)&&this.visible}},B.H.StiHorChartInterlacing=class extends B.H.StiChartInterlacing{constructor(e,t){super(e,t)}},B.H.StiStartValueChartMeter=class extends B.H.StiValueChartMeter{constructor(e,t,r,i){super(e,t,r,i),this.seriesType=m.Gantt,this.ident=B.e.StiMeterIdent.StartValueChartMeter,null!=i&&(this.seriesType=i)}get localizedName(){return S.get("PropertyMain","StartValue")}},B.H.StiVertChartGridLines=class extends B.H.StiChartGridLines{constructor(e,t){super(),this.visible=!1,null!=e&&(this.color=e),null!=t&&(this.visible=t)}meta(){return this._hash||(this._hash=[...super.meta(),new t("Color"),new u("Visible")])}isDefault(){return N.transparent.equals(this.color)&&!this.visible}},B.H.StiVertChartInterlacing=class extends B.H.StiChartInterlacing{constructor(e,t){super(e,t)}},B.H.StiXChartAxisTitle=class extends B.H.StiChartAxisTitle{constructor(e,t,r,i,s,n,l){super(e,t,r,i,n,l),this.direction=$s.LeftToRight,null!=s&&(this.direction=s)}meta(){return this._hash||(this._hash=[...super.meta(),new i("Direction","",$s,$s.LeftToRight)])}isDefault(){return this.direction==$s.LeftToRight}},B.H.StiXChartMeter=class extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.XChartMeter}get localizedName(){return`X`+S.get("PropertyMain","Value")}},B.H.StiXTopChartAxis=class extends B.H.StiXChartAxis{constructor(e,t,r){super(e,t,r),this.visible=!1}meta(){return this._hash||(this._hash=[...super.meta(),new E(["Range","Visible"]),new u("Visible")])}isDefault(){return!this.shouldSerializeTitle()&&!this.shouldSerializeLabels()&&!this.visible}},B.H.StiYRightChartAxis=class extends B.H.StiYChartAxis{constructor(e,t,r){super(e,t,r),this.visible=!1,this.labels=new B.H.StiChartYRightAxisLabels}isDefault(){return!this.shouldSerializeTitle()&&!this.shouldSerializeLabels()&&!this.visible}meta(){return this._hash||(this._hash=[...super.meta(),new E(["Range","Visible"]),new u("Visible")])}shouldSerializeLabels(){return null==this.labels||!this.labels.isDefault()}},B.U.StiMeterConverter=class{};var e=B.U.StiMeterConverter,jn,Jn,Wn,Un,Un,Un,Kn,Un,qn,e;B.ac.StiValueChartMeterConverter=class extends e{},B.ac.StiXChartAxisConverter=class{},B.ac.StiYChartAxisConverter=class{};let Yn=se.Report.Dashboard.ImplementsIStiComboBoxElement,ue=se.System.Drawing.Size,Zn=se.Report.Dashboard.StiItemSelectionMode,Qn=se.Report.Dashboard.IStiComboBoxElement;{tt.add("StiComboBoxElement","Stimulsoft.Dashboard.Export.Tools.StiComboBoxElementExportTool");class Dh extends B.e.StiElement{constructor(e=P.empty){super(e),this.group="",this.userFilters=new le,this.transformActions=new le,this.transformFilters=new le,this.transformSorts=new le,this.dataTransformation={},this.dataFilters=new le,this._style=o.Auto,this.customStyleName="",this.font=new z("Arial",8),this.shadow=new Ne,this.cornerRadius=new h(0),this.foreColor=N.transparent,this.showAllValue=!1,this.showBlanks=!1,this.selectionMode=Zn.One,this.textFormat=new Bt,this.defaultClientRectangle=new P(0,0,200,40),this.helpUrl="user-manual/dashboards_data_filtering_combo_box.htm"}implements(){return Dh.ImplementsStiComboBoxElement||(Dh.ImplementsStiComboBoxElement=super.implements().concat([Qn,Pe,Be,Zt,...Yn,...Oe,...Ve,...Wt,l])),Dh.ImplementsStiComboBoxElement}get componentId(){return Z.StiComboBoxElement}meta(){return this._hash||(this._hash=[...super.meta(),new n("ParentKey"),new s("TransformActions").get(e=>a.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Dn.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Dn.loadFromXml(e)))),new s("TransformFilters").get(e=>a.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new s("TransformSorts").get(e=>a.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Mn.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Mn.loadFromXml(e)))),new s("DataFilters").get(e=>a.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new t("ForeColor","",N.transparent),new n("Font").get(()=>a.Serialize.fontArial8(this.font)).set(e=>this.font=a.Deserialize.font(e.value,this.font)).setXml(e=>this.font=se.System.Convert.toFont(e.textContent)),new u("ShowAllValue"),new u("ShowBlanks"),new i("SelectionMode","",Zn,Zn.One).set(e=>{var e=ge.parse(Zn,e.value);null!=e&&(this.selectionMode=e)}).setXml(e=>{var e=ge.parse(Zn,e.textContent);null!=e&&(this.selectionMode=e)}),new s("NameMeter").check(()=>null!=this.nameMeter).set(e=>{var e=c.loadFromJson(e.value).as(B.R.StiNameComboBoxMeter);null!=e&&(this.nameMeter=e)}).setXml(e=>{var e=c.loadFromXml(e).as(B.R.StiNameComboBoxMeter);null!=e&&(this.nameMeter=e)}),new s("KeyMeter").check(()=>null!=this.keyMeter).set(e=>{var e=c.loadFromJson(e.value).as(B.R.StiKeyComboBoxMeter);null!=e&&(this.keyMeter=e)}).setXml(e=>{var e=c.loadFromXml(e).as(B.R.StiKeyComboBoxMeter);null!=e&&(this.keyMeter=e)}),new i("Style","",o,o.Auto),new n("Group"),new n("CustomStyleName"),new n("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=h.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=h.tryParse(e.textContent)),new n("Shadow").get(()=>a.Serialize.jShadow(this.shadow)).set(e=>this.shadow=a.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ne.loadFromXml(e.textContent)),new s("TextFormat").check(()=>!(this.textFormat.is(Bt)||null==this.textFormat)).set(e=>this.textFormat=or.createFromJsonObject(e.value)).setXml(e=>this.textFormat=or.loadFormatFromXml(e,this.report))])}clone(e){var e,e;let t=super.clone(e);return t.nameMeter=null!=this.nameMeter?this.nameMeter.clone():null,t.keyMeter=null!=this.keyMeter?this.keyMeter.clone():null,t.userFilters=this.userFilters.select(e=>e.clone()).toList(),t.transformActions=this.transformActions.select(e=>e.clone()).toList(),t.transformFilters=this.transformFilters.select(e=>e.clone()).toList(),t.transformSorts=this.transformSorts.select(e=>e.clone()).toList(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.textFormat=this.textFormat.clone(),t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}getParentKey(){return this.parentKey}setParentKey(e){this.parentKey=e}applyDefaultFilters(){return se.tsfb(this,void 0,void 0,function*(){var e=yield B.R.StiComboBoxHelper.fetchDefaultUserFilters(this);null!=e&&(this.userFilters=e)})}get style(){return this._style}set style(e){(this._style=e)!=o.Custom&&(this.customStyleName="")}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&8==this.font.sizeInPoints&&this.font.style==L.Regular)}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}fetchAllMeters(){let e=new le;return null!=this.nameMeter&&e.add(this.nameMeter),null!=this.keyMeter&&e.add(this.keyMeter),e}getMeters(){let e=new le;return null!=this.nameMeter&&e.add(this.nameMeter),null!=this.keyMeter&&e.add(this.keyMeter),e}retrieveUsedDataNames(){return Ns.getMany(this.nameMeter,this.keyMeter)}get isDefined(){return null!=this.nameMeter||null!=this.keyMeter}addKeyMeter2(e){this.keyMeter=null!=e?d.ComboBox.getKey2(e):null}addKeyMeter(e){this.keyMeter=null!=e?d.ComboBox.getKey(e.as(B.e.StiMeter)):null}getKeyMeter(){return this.keyMeter}removeKeyMeter(){this.keyMeter=null}createNewKeyMeter(){this.keyMeter=new B.R.StiKeyComboBoxMeter}addNameMeter2(e){this.nameMeter=null!=e?d.ComboBox.getName2(e):null}addNameMeter(e){this.nameMeter=null!=e?d.ComboBox.getName(e.as(B.e.StiMeter)):null}getNameMeter(){return this.nameMeter}removeNameMeter(){this.nameMeter=null}createNewNameMeter(){this.nameMeter=new B.R.StiNameComboBoxMeter}createNextMeter(e){null!=this.keyMeter&&null==this.nameMeter?this.nameMeter=d.ComboBox.getName2(e):this.keyMeter=d.ComboBox.getKey2(e)}convertFrom(e){let t=e.fetchAllMeters();if(null==t)return;let r=t.firstOrDefault(e=>e.is(yr)),i=(null!=(r=null==r?t.firstOrDefault(e=>e.is(pt)):r)&&(this.keyMeter=null==this.keyMeter?new B.R.StiKeyComboBoxMeter:this.keyMeter,this.keyMeter.loadFromJsonObject(r.saveToJsonObject(Me.Report))),t.firstOrDefault(e=>e.is(yr)));null!=(i=null==i?t.firstOrDefault(e=>e.is(Ie)):i)&&(this.nameMeter=null==this.nameMeter?new B.R.StiNameComboBoxMeter:this.nameMeter,this.nameMeter.loadFromJsonObject(i.saveToJsonObject(Me.Report)))}shouldSerializeTextFormat(){return!this.textFormat.is(Bt)}get toolboxPosition(){return je.ComboBoxElement}get localizedName(){return w.get("Components","StiComboBox")}get minSize(){var e=null!=this.report?this.report.getCurrentPage():null;if(null==e)return ue.empty;var e=Rt.alignToMaxGrid(this.defaultClientRectangle.height,e.gridSize,!0);return new ue(0,e)}set minSize(e){}get maxSize(){var e=null!=this.report?this.report.getCurrentPage():null;if(null==e)return ue.empty;var e=Rt.alignToMaxGrid(this.defaultClientRectangle.height,e.gridSize,!0);return new ue(0,e)}set maxSize(e){}createNew(){return new Dh}}B.R.StiComboBoxElement=Dh}let _n=se.Report.Dashboard.StiDataFilterCreator,$n=se.System.Data.DBNull,el=se.Report.Dashboard.StiElementDataCache,tl=(B.R.StiComboBoxHelper=class{static fetchItems(e,t,r){if(null==t||t==ct.nullTable||0==t.rows.length)return null;let i=this.getNameMeterIndex(t),s=this.getKeyMeterIndex(t);if(-1==i&&1==s)return null;-1==s&&(s=i),-1==i&&(i=s);let n=new le;for(var l of t.rows){var a=l[s];if(null==a)continue;var l=l[i];!r&&this.isBlank(l)||n.add(new B.R.StiComboBoxItem(this.format(e,l),a))}return n}static isBlank(e){return null==e||e==$n.value||"string"==typeof e&&ne.isNullOrEmpty(e)}static fetchDefaultUserFilters(i){return se.tsfb(this,void 0,void 0,function*(){if(i.showAllValue)return null;if(i.selectionMode==Zn.Multi)return null;var e=this.getKeyMeterExpression(i);if(null==e)return null;var t=yield el.getOrCreate(i);let r=this.fetchItems(i,t,i.showBlanks);if(null==r||0==r.length)return null;var t=r.stimulsoft().toList().firstOrDefault().value;return _n.createEqualBasedOnValue(t,e,i).toList()})}static getNameMeterIndex(e){if(null==e)return-1;var t=e.meters.firstOrDefault(e=>e.is(B.R.StiNameComboBoxMeter));return null!=t?e.meters.indexOf(t):-1}static getKeyMeterIndex(e){if(null==e)return-1;var t=e.meters.firstOrDefault(e=>e.is(B.R.StiKeyComboBoxMeter));return null!=t?e.meters.indexOf(t):-1}static getKeyMeterExpression(e){if(null!=e.keyMeter)return e.keyMeter.expression;if(null!=e.nameMeter)return e.nameMeter.expression;return null}static format(e,t){var r,r;let i=e.as(hr);return t instanceof C&&!i.textFormat.is(Lr)?t.toShortDateString():Zr.isEligable(t,null==(r=null==e?void 0:e.report)?void 0:r.culture)?Zr.convert(t,null==(r=null==e?void 0:e.report)?void 0:r.culture):i.textFormat.format(t)}},B.R.StiComboBoxItem=class{constructor(e,t=e){this.label=e,this.value=t}toString(){return null!=this.label?this.label:this.value.toString()}},se.Report.Dashboard.ImplementsIStiGroupElement),rl=se.Report.Dashboard.ImplementsIStiDatePickerElement,il=se.Report.Dashboard.StiInitialDateRangeSelection,sl=se.Report.Dashboard.StiInitialDateRangeSelectionSource,nl=se.Report.Dashboard.StiDateSelectionMode,ll=se.Report.Dashboard.StiDateCondition,al=se.Report.Dashboard.IStiDatePickerElement,ol=se.Report.DateTimeRange,ul=se.Report.Range,hl=se.Report.Engine.StiVariableHelper;{tt.add("StiDatePickerElement","Stimulsoft.Dashboard.Export.Tools.StiDatePickerElementExportTool");class Eh extends B.e.StiElement{constructor(e=P.empty){super(e),this.group="",this.userFilters=new le,this.dataFilters=new le,this._style=o.Auto,this.customStyleName="",this.font=new z("Arial",8),this.foreColor=N.transparent,this.shadow=new Ne,this.cornerRadius=new h(0),this.textFormat=new Lr,this.defaultClientRectangle=new P(0,0,200,40),this.helpUrl="user-manual/dashboards_data_filtering_date_picker.htm",this.condition=ll.GreaterThanOrEqualTo,this.selectionMode=nl.Single,this.initialRangeSelection=il.MonthPrevious,this.initialRangeSelectionSource=sl.Variable}implements(){return Eh.ImplementsStiDatePickerElement||(Eh.ImplementsStiDatePickerElement=super.implements().concat([al,Pe,Be,Zt,Ye,...rl,...Oe,...Ve,...Wt,...tl,l])),Eh.ImplementsStiDatePickerElement}get componentId(){return Z.StiDatePickerElement}meta(){return this._hash||(this._hash=[...super.meta(),new s("DataFilters").get(e=>a.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new t("ForeColor","",N.transparent),new n("Font").get(()=>a.Serialize.fontArial8(this.font)).set(e=>this.font=a.Deserialize.font(e.value,this.font)).setXml(e=>this.font=se.System.Convert.toFont(e.textContent)),new i("Condition","",ll,ll.GreaterThanOrEqualTo),new i("SelectionMode","",nl,nl.Single).set(e=>{var e=ge.parse(nl,e.value);null!=e&&(this.selectionMode=e)}).setXml(e=>{var e=ge.parse(nl,e.textContent);null!=e&&(this.selectionMode=e)}),new i("InitialRangeSelection","",il,il.MonthPrevious),new i("InitialRangeSelectionSource","",sl,sl.Variable),new s("ValueMeter").check(()=>null!=this.valueMeter).set(e=>{var e=c.loadFromJson(e.value).as(is);null!=e&&(this.valueMeter=e)}).setXml(e=>{var e=c.loadFromXml(e).as(is);null!=e&&(this.valueMeter=e)}),new i("Style","",o,o.Auto),new n("Group"),new n("CustomStyleName"),new n("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=h.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=h.tryParse(e.textContent)),new n("Shadow").get(()=>a.Serialize.jShadow(this.shadow)).set(e=>this.shadow=a.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ne.loadFromXml(e.textContent)),new s("TextFormat").check(()=>!(this.textFormat.is(Bt)||null==this.textFormat)).set(e=>this.textFormat=or.createFromJsonObject(e.value)).setXml(e=>this.textFormat=or.loadFormatFromXml(e,this.report))])}clone(e){var e,e;let t=super.clone(e);return t.valueMeter=null!=this.valueMeter?this.valueMeter.clone():null,t.userFilters=this.userFilters.select(e=>e.clone()).toList(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.textFormat=this.textFormat.clone(),t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}getParentKey(){return null}setParentKey(e){}applyDefaultFilters(){var i;return se.tsfb(this,void 0,void 0,function*(){let e=null==(i=B.Q.StiDatePickerHelper.getVariableSpecifiedAsValue(this.as(al)))?void 0:i.as(Ts);var t,t,r,t;null==e?null!=(t=yield B.Q.StiDatePickerHelper.fetchDefaultUserFilters(this))&&(this.userFilters=t):ul.isRangeType(e.type)&&this.initialRangeSelectionSource==sl.Selection&&(B.Q.StiDatePickerHelper.calculateRangeFromInitial(this.initialRangeSelection,t={ref:null},r={ref:null}),t=new ol(t.ref,r.ref),hl.setVariableValue(this.report,e,t),e.valueObject=t)})}get style(){return this._style}set style(e){(this._style=e)!=o.Custom&&(this.customStyleName="")}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&8==this.font.sizeInPoints&&this.font.style==L.Regular)}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}fetchAllMeters(){let e=new le;return null!=this.valueMeter&&e.add(this.valueMeter),e}getMeters(){let e=new le;return(B.Q.StiDatePickerHelper.isVariableSpecifiedAsValue(this)||null!=this.valueMeter&&this.selectionMode==nl.AutoRange)&&e.add(this.valueMeter),e}retrieveUsedDataNames(){return null!=this.valueMeter&&this.selectionMode==nl.AutoRange?Ns.getMany(this.valueMeter):super.retrieveUsedDataNames()}get isDefined(){return null!=this.valueMeter}addValueMeter2(e){this.valueMeter=null!=e?d.DatePicker.getValue2(e):null}addValueMeter(e){this.valueMeter=null!=e?d.DatePicker.getValue(e.as(B.e.StiMeter)):null}getValueMeter(){return this.valueMeter}removeValueMeter(){this.valueMeter=null}createNewValueMeter(){this.valueMeter=new is}convertFrom(e){let t=e.fetchAllMeters();if(null==t)return;let r=t.firstOrDefault(e=>e.is(yr));null!=(r=null==r?t.firstOrDefault(e=>e.is(pt)):r)&&(this.valueMeter=null==this.valueMeter?new is:this.valueMeter,this.valueMeter.loadFromJsonObject(r.saveToJsonObject(Me.Report)))}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}get toolboxPosition(){return je.DatePickerElement}get localizedName(){return w.get("Components","StiDatePicker")}get minSize(){var e=null!=this.report?this.report.getCurrentPage():null;if(null==e)return ue.empty;var e=Rt.alignToMaxGrid(this.defaultClientRectangle.height,e.gridSize,!0);return new ue(0,e)}set minSize(e){}get maxSize(){var e=null!=this.report?this.report.getCurrentPage():null;if(null==e)return ue.empty;var e=Rt.alignToMaxGrid(this.defaultClientRectangle.height,e.gridSize,!0);return new ue(0,e)}set maxSize(e){}createNew(){return new Eh}}B.Q.StiDatePickerElement=Eh}let ml=se.Report.StiVariableExpressionHelper,dl=se.System.StimulsoftDateTimeRange,cl=se.System.NullableDateTime,gl=(B.Q.StiDatePickerHelper=class{static calculateRangeFromInitial(e,t,r){switch(e){case il.DayTomorrow:t.ref=C.today.addDays(1),r.ref=C.today.addDays(1);break;case il.DayToday:t.ref=C.today,r.ref=C.today;break;case il.DayYesterday:t.ref=C.today.addDays(-1),r.ref=C.today.addDays(-1);break;case il.Last7Days:t.ref=C.today.addDays(-7),r.ref=C.today;break;case il.Last14Days:t.ref=C.today.addDays(-14),r.ref=C.today;break;case il.Last30Days:t.ref=C.today.addDays(-30),r.ref=C.today;break;case il.WeekNext:t.ref=C.today.addDays(7).firstDayOfWeek(),r.ref=C.today.addDays(7).lastDayOfWeek();break;case il.WeekCurrent:t.ref=C.today.firstDayOfWeek(),r.ref=C.today.lastDayOfWeek();break;case il.WeekPrevious:t.ref=C.today.addDays(-7).firstDayOfWeek(),r.ref=C.today.addDays(-7).lastDayOfWeek();break;case il.MonthNext:t.ref=C.today.addMonths(1).firstDayOfMonth(),r.ref=C.today.addMonths(1).lastDayOfMonth();break;case il.MonthCurrent:t.ref=C.today.firstDayOfMonth(),r.ref=C.today.lastDayOfMonth();break;case il.MonthPrevious:t.ref=C.today.addMonths(-1).firstDayOfMonth(),r.ref=C.today.addMonths(-1).lastDayOfMonth();break;case il.QuarterNext:t.ref=C.today.addMonths(3).firstDayOfQuarter(),r.ref=C.today.addMonths(3).lastDayOfQuarter();break;case il.QuarterCurrent:t.ref=C.today.firstDayOfQuarter(),r.ref=C.today.lastDayOfQuarter();break;case il.QuarterPrevious:t.ref=C.today.addMonths(-3).firstDayOfQuarter(),r.ref=C.today.addMonths(-3).lastDayOfQuarter();break;case il.QuarterFirst:t.ref=C.today.firstDayOfFirthQuarter(),r.ref=C.today.lastDayOfFirthQuarter();break;case il.QuarterSecond:t.ref=C.today.firstDayOfSecondQuarter(),r.ref=C.today.lastDayOfSecondQuarter();break;case il.QuarterThird:t.ref=C.today.firstDayOfThirdQuarter(),r.ref=C.today.lastDayOfThirdQuarter();break;case il.QuarterFourth:t.ref=C.today.firstDayOfFourthQuarter(),r.ref=C.today.lastDayOfFourthQuarter();break;case il.YearNext:t.ref=C.today.addYears(1).firstDayOfYear(),r.ref=C.today.addYears(1).lastDayOfYear();break;case il.YearCurrent:t.ref=C.today.firstDayOfYear(),r.ref=C.today.lastDayOfYear();break;case il.YearPrevious:t.ref=C.today.addYears(-1).firstDayOfYear(),r.ref=C.today.addYears(-1).lastDayOfYear();break;case il.DateToWeek:t.ref=C.today.firstDayOfWeek(),r.ref=C.today;break;case il.DateToMonth:t.ref=C.today.firstDayOfMonth(),r.ref=C.today;break;case il.DateToQuarter:t.ref=C.today.firstDayOfQuarter(),r.ref=C.today;break;case il.DateToYear:t.ref=C.today.firstDayOfYear(),r.ref=C.today;break;default:t.ref=C.now,r.ref=C.now;break}}static fetchDefaultUserFilters(t){return se.tsfb(this,void 0,void 0,function*(){var e=this.getValueMeterExpression(t);if(t.selectionMode==nl.Single)return this.getSingleDefaultUserFilters(t,e);if(t.selectionMode==nl.Range)return this.getRangeDefaultUserFilters(t.initialRangeSelection,e);if(t.selectionMode==nl.AutoRange)return yield this.getAutoRangeDefaultUserFilters(t,e);return null})}static getSingleDefaultUserFilters(e,t){var r=this.getFormatedDate(C.now);return new f(null,t,this.getCondition(e),r).toList()}static getRangeDefaultUserFilters(e,t){var r={ref:null},i={ref:null},e=(this.calculateRangeFromInitial(e,r,i),this.getFormatedDate(r.ref)),r=this.getFormatedDate(i.ref);return new f("",t,Ei.Between,e,r,!0,!1).toList()}static getAutoRangeDefaultUserFilters(s,n){return se.tsfb(this,void 0,void 0,function*(){let e=yield el.getOrCreate(s);if(null==e)return null;let t=e.rows.select(e=>e[0]).where(e=>e instanceof C);if(null==t||!t.any())return null;var r=t.where(e=>e instanceof C).cast().min(),i=t.where(e=>e instanceof C).cast().max(),r=this.getFormatedDate(r),i=this.getFormatedDate(i);return new f("",n,Ei.Between,r,i,!0,!1).toList()})}static getValueMeterExpression(e){return null!=e.valueMeter?e.valueMeter.expression:null}static getCondition(e){switch(e.condition){case ll.EqualTo:return Ei.EqualTo;case ll.NotEqualTo:return Ei.NotEqualTo;case ll.GreaterThan:return Ei.GreaterThan;case ll.GreaterThanOrEqualTo:return Ei.GreaterThanOrEqualTo;case ll.LessThan:return Ei.LessThan;case ll.LessThanOrEqualTo:return Ei.LessThanOrEqualTo;default:return Ei.EqualTo}}static getFormatedDate(e){return e.toString("MM/dd/yyyy")}static getVariableSpecifiedAsValue(e){var e;return ml.getVariableSpecifiedAsExpression(e,null==(e=e.getValueMeter())?void 0:e.expression)}static isVariableSpecifiedAsValue(e){var e;return ml.isVariableSpecifiedAsExpression(e,null==(e=e.getValueMeter())?void 0:e.expression)}static getDefaultValue(t){var r,r=null==(r=this.getVariableSpecifiedAsValue(t))?void 0:r.as(Ts);if(null!=r){let e=t.report.dictionary.getVariableValueByName(r.name);if(r.type==C||r.type==cl)return O.tryToDateTime(e);if(r.type==ol||r.type==dl)return e.stimulsoft().is(ol)?e:new ol}return C.now}},B.U.StiElementEditorConsts=class{constructor(){this.elementEditor="Stimulsoft.Dashboard.Design.Components.StiElementEditor, Stimulsoft.Dashboard.Design, "+se.StiVersion.versionInfo,this.textFormatEditor="Stimulsoft.Report.Components.TextFormats.Design.StiTextFormatEditor, Stimulsoft.Report.Design, "+se.StiVersion.versionInfo}},B.U.StiElementLayoutConverter=class{},B.U.StiElementStyleConverter=class{},B.U.StiMeterListConverter=class{},B.U.StiTitleConverter=class{},se.Report.StiAbbreviationNumberFormatHelper),pl=(B.i.StiElementBuilder=class{getSeriesKeysLimitCount(e){let t=null;return t=e.isDesigning?100:t}getSeries(e,t,r,i,s=!1){if(null==e||-1==t)return null;var e=e.rows.whereFirstOrDefaultArrayItemStringEqualsTo(t,r);let n=null!=e&&0<e.length?e[t]:null;if(null!=n&&n instanceof C)return n.toShortDateString();if(s&&null!=n){if("number"==typeof n)return gl.format(n);if("string"==typeof n){var r=Pt.tryParse(n);if(r.successfully)return gl.format(r.result)}}return this.toString(n)}getValue(e,t,r,i,s){if(null==e||-1==t)return 0;if(i<2)return e.rows.getArrayItem(t).firstOrDefaultAsNumber();var i=e.rows.whereFirstOrDefaultArrayItemStringEqualsTo(r,s);return null!=i&&0<i.length?O.tryToNumber(i[t]):0}getTarget(e,t,r,i,s){if(null==e||-1==t)return null;if(i<2)return e.rows.getArrayItem(t).firstOrDefaultAsNumber();var i=e.rows.whereFirstOrDefaultArrayItemStringEqualsTo(r,s);return null!=i&&0<i.length?O.tryToNumber(i[t]):0}getNullableTarget(e,t,r,i,s){if(null==e||-1==t)return null;if(i<2)return e.rows.getArrayItem(t).firstOrDefaultAsNullableNumber();var i=e.rows.whereFirstOrDefaultArrayItemStringEqualsTo(r,s);return null!=i&&0<i.length?O.tryToNullableNumber(i[t]):null}getNullableValue(e,t,r,i,s){if(null==e||-1==t)return null;if(i<2)return e.rows.getArrayItem(t).firstOrDefaultAsNullableNumber();var i=e.rows.whereFirstOrDefaultArrayItemStringEqualsTo(r,s);return null!=i&&0<i.length?O.tryToNullableNumber(i[t]):null}getSeriesKeyValues(e,t,r){if(null==e||-1==t)return new le([""]);let i=null!=r?e.rows.getArrayItem(t).distinct().select(this.replaceDbNull).where(e=>null!=e).take(r):e.rows.getArrayItem(t).distinct().select(this.replaceDbNull).where(e=>null!=e);return i.any()?i:new le([""])}getSeriesKeys(e,t,r){let i=this.getSeriesKeyValues(e,t,r);return null==i?new le([""]):i.select(this.toString)}replaceDbNull(e){return e}toString(e){return null==e?"":e.toString()}toReadableString(e,t){if(Zr.isEligable(e,null==t?void 0:t.culture))return Zr.convert(e,null==t?void 0:t.culture);return this.toString(e)}},se.Base.Meters.IStiMinGaugeMeter);{class Hl extends B.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.MinGaugeMeter}implements(){return Hl.ImplementsStiMinGaugeMeter||(Hl.ImplementsStiMinGaugeMeter=super.implements().concat([pl])),Hl.ImplementsStiMinGaugeMeter}get localizedName(){return"Min"}}B.S.StiMinGaugeMeter=Hl}let Sl=se.Base.Meters.IStiMaxGaugeMeter;{class Xl extends B.e.StiMeasureMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.MaxGaugeMeter}implements(){return Xl.ImplementsStiMaxGaugeMeter||(Xl.ImplementsStiMaxGaugeMeter=super.implements().concat([Sl])),Xl.ImplementsStiMaxGaugeMeter}get localizedName(){return"Max"}}B.S.StiMaxGaugeMeter=Xl}B.s.StiGaugeIteration=class{};let wl=se.Report.Components.Gauge.StiLinearTickLabelCustom,fl=se.Report.Components.Gauge.StiRadialTickLabelCustom,Cl=se.Report.Dashboard.Helpers.StiDashboardExpressionHelper,bl=se.Report.Gauge.StiLabelRotationMode,yl=se.Report.Components.Gauge.Primitives.StiIndicatorBase,vl=se.Report.Components.Gauge.StiRadialRange,xl=se.Report.Components.Gauge.StiRadialRangeList,Fl=se.Report.Components.Gauge.StiLinearMarker,Tl=se.Report.Components.Gauge.StiLinearTickMarkMajor,Ml=se.Report.Components.Gauge.StiLinearTickLabelMajor,Dl=se.Report.Gauge.StiRadiusMode,Il=se.System.Drawing.Point,Al=se.Report.Components.Gauge.StiNeedle,Rl=se.Report.Components.Gauge.StiRadialBar,El=se.Report.Gauge.StiTickMarkSkin,kl=se.Report.Gauge.StiGaugeType,Ll=se.Report.Components.StiGauge,p=se.Report.Gauge.StiPlacement,Vl=se.Report.Components.Gauge.StiLinearRange,Bl=se.Report.Components.Gauge.StiLinearRangeList,Nl=se.Report.Gauge.StiGaugeRangeMode,Pl=se.Report.Components.Gauge.StiLinearScale,Ol=se.Report.Gauge.StiGaugeRangeType,zl=se.Report.Gauge.StiGaugeCalculationMode,Hl=B.S.StiMinGaugeMeter,Xl=B.S.StiMaxGaugeMeter,Gl=se.Report.Components.Gauge.StiRadialTickLabelMajor,jl=se.Report.Components.Gauge.StiRadialTickMarkMajor,Jl=se.Report.Components.Gauge.StiRadialScale,Wl=se.Data.Exceptions.StiTypeNotRecognizedException,he=se.Report.Dashboard.Styles.StiDashboardStyleHelper,Ul=B.s.StiGaugeIteration,Kl=se.Report.Gauge.StiMarkerSkin,ql=se.Report.Components.Gauge.StiLinearTickMarkCustom,Yl=se.Report.Components.Gauge.StiLinearBar,Zl=se.Report.Components.Gauge.StiRadialTickMarkCustom,Ql=se.Report.Dashboard.StiLabelPlacement;{class la extends B.i.StiElementBuilder{findMinMaxValues(e,l,t,a,o,u,h,m,d,c,r,i){let g,p;for(var S of t){var w=this.getValue(a,o,u,h,this.toString(S)),S=this.getTarget(a,m,u,h,this.toString(S));let t=0,r=0,i=(w==d&&w==c&&(r=0==w?(t=-50,50):(t=w-w,w+w)),5);switch(e.type){case kl.FullCircular:case kl.HalfCircular:var f=Math.min(l.width,l.height);i=f<330?2:f<450?5:f<650?7:10;break;case kl.Linear:var f=l.height;i=f<330?2:f<450?5:f<650?7:10;break;case kl.HorizontalLinear:var C=l.width;i=C<330?2:C<500?5:C<650?8:10;break;case kl.Bullet:var C=l.width;i=C<330?2:5;break}let s=0,n=0;if(e.calculationMode==zl.Auto){var b=this.getSummary(w,t,r),S;if(w<=t&&(t=Math.round(w-.3*b)),w>=r&&(r=Math.round(w+.3*b)),null!=S&&((S=S)<t&&(t=Math.round(S-.3*b)),S>r&&(r=Math.round(S+.3*b))),s=t,n=r,-1<w&&w<1){(null==g||s<g)&&(g=s),(null==p||n>p)&&(p=n);continue}var S=s%5,b=(0!=S&&(s-=S),n-s);let e=b/i;0<e-e&&(e+=1);var w=e%5;0!=w&&(e+=5-w),b=e*i,n=s+b}else s=e.minimum,n=e.maximum;(null==g||s<g)&&(g=s),(null==p||n>p)&&(p=n)}r.ref=g,i.ref=p}render(e,t,r){return this.render2(e,t,r)()}render2(C,b,y){this.storedCulture=Qr.set(C.report);try{let d=this.getValueMeterIndex(y),c=this.getSeriesMeterIndex(y),g=this.getTargetMeterIndex(y);var t=this.getMinMeterIndex(y),r=this.getMaxMeterIndex(y);let e=this.getSeriesKeyValues(y,c,this.getSeriesKeysLimitCount(C)),p=e.count2();var i=this.getMinValue(C,y,t),s=this.getMaxValue(C,y,r);let S={ref:null};var n={ref:null};this.findMinMaxValues(C,b,e,y,d,c,p,g,i,s,S,n);let w=S.ref,f=n.ref;return()=>e.select(e=>{var t=this.getValue(y,d,c,p,this.toString(e)),r=this.getNullableTarget(y,g,c,p,this.toString(e)),i={ref:null},s={ref:null},n={ref:null},s=(this.fundActualValues(C,b,t,w,f,i,s,n),i.ref),i=S.ref,l,a,o;let u=this.createScale(C,n.ref,b,w,f,r);for(o of u.items.toList().where(e=>e.is(yl)).cast())o.valueObj=t;if(u.minimum=w,u.maximum=f,u.majorInterval=s,u.minorInterval=i,C.type==kl.Linear||C.type==kl.HorizontalLinear||C.type==kl.Bullet){let e=u.items.toList().where(e=>e.is(Bl)).cast().firstOrDefault();null!=e&&1==e.ranges.length&&(e.ranges.getByIndex(0).startValue=u.minimum,e.ranges.getByIndex(0).endValue=u.maximum)}let h=new Ll(C.clientRectangle),m=(h.allowApplyStyle=!0,h.shortValue=C.shortValue,h.previousAnimations=C.previousAnimations,la.setStyle(C,h),h.scales.add(u),h.applyStyle(h.style),new Ul);return m.gauge=h,m.series=this.getSeries(y,c,e,C.report,C.shortValue),m},this)}finally{B.h.StiCultureHelper.restore(this.storedCulture)}}fundActualValues(e,t,r,i,s,n,l,a){let o=n.ref,u=l.ref,h=a.ref,m=5;switch(h=!1,e.type){case kl.FullCircular:case kl.HalfCircular:var d=Math.min(t.width,t.height);d<330?(m=2,h=!0):m=d<450?5:d<650?7:10;break;case kl.Linear:var d=t.height;d<330?(m=2,h=!0):m=d<450?5:d<650?7:10;break;case kl.HorizontalLinear:var d=t.width;d<330?(m=2,h=!0):m=d<500?5:d<650?8:10;break;case kl.Bullet:var c;t.width<330?(m=2,h=!0):m=5;break}if(e.calculationMode!=zl.Auto)return 0==(o=Math.abs(Math.round((e.maximum-e.minimum)/m)))&&(o=1),u=o/2,n.ref=o,l.ref=u,void(a.ref=h);var e=this.getSummary(r,i,s),e;if(o=Math.abs(Math.round(e/m)),u=o/2,n.ref=o,l.ref=u,-1<r&&r<1)return;let g=(e=s-i)/m;0<g-g&&(g+=1);var r=g%5;0!=r&&(g+=5-r),e=g*m,o=Math.abs(e/m),u=o/2,n.ref=o,l.ref=u,a.ref=h}getSummary(e,t,r){var i=Math.round(r-t);let s=Math.max(e,i);return s=Math.max(s,t),s=0==(s=Math.max(s,r))?100:s}static setStyle(e,t){if(e.style!=o.Custom)return void(t.style=he.getGaugeStyle(e));var r=e.report.styles.getCustomGaugeStyle(e.customStyleName);if(null!=r)return t.style=r,t.customStyleName=e.customStyleName,t.brush=new F(he.getBackColor(e)),void(t.allowApplyStyle=!1);t.style=he.getGaugeStyle2(o.Blue)}static getTargetBrush(e){if(e.style!=o.Custom)return new F(he.getGaugeStyle(e).core.targetColor);var e=e.report.styles.getCustomGaugeStyle(e.customStyleName);if(null!=e&&null!=e.core)return new F(e.core.targetColor);return new F(he.getGaugeStyle2(o.Blue).core.targetColor)}static getTickMarkBrush(e){if(e.style!=o.Custom)return he.getGaugeStyle(e).core.tickMarkMajorBrush;var e=e.report.styles.getCustomGaugeStyle(e.customStyleName);if(null!=e&&null!=e.core)return e.core.tickMarkMajorBrush;return he.getGaugeStyle2(o.Blue).core.tickMarkMajorBrush}static getTickLabelBrush(e){if(e.style!=o.Custom)return he.getGaugeStyle(e).core.tickLabelMajorTextBrush;var e=e.report.styles.getCustomGaugeStyle(e.customStyleName);if(null!=e&&null!=e.core)return e.core.tickLabelMajorTextBrush;return he.getGaugeStyle2(o.Blue).core.tickLabelMajorTextBrush}createScale(e,t,r,i,s,n=null){switch(e.type){case kl.FullCircular:return this.createFullCircularScale(e,t,r,i,s,n);case kl.HalfCircular:return this.createHalfCircularScale(e,t,r,i,s,n);case kl.Linear:return this.createLinearScale(e,i,s,!1,n);case kl.HorizontalLinear:return this.createLinearScale(e,i,s,!0,n);case kl.Bullet:return this.createBullet(e,i,s,n);default:throw new Wl(e.type)}}static calculateMinorInterval(e,t){if(e<0&&t<0)return Math.abs((e-t)/5);if(e<0)return(t+Math.abs(e))/5;return(t-e)/5}createFullCircularScale(t,r,i,s,e,n=null){var i=Math.min(i.width,i.height),l=i<150,i=i<75;let a=new Jl;a.startAngle=120,a.sweepAngle=300,a.startWidth=.05,a.endWidth=.05,a.minimum=0,a.maximum=180,a.majorInterval=90,a.minorInterval=10,a.borderBrush=new Je,a.brush=new Je;var s=la.addRadialRanges(t,s,e,a);let o=new Rl,u=(o.startWidth=.1,o.endWidth=.1,o.offset=.1,o.placement=p.Outside,o.valueObj=90,a.items.add(o),new Al);if(u.relativeHeight=.3,u.relativeWidth=.4,u.startWidth=.1,u.endWidth=1,u.capBrush=new Je,u.brush=new Je,u.valueObj=90,a.items.add(u),t.labels.visible&&!i){let e=new jl;e.relativeWidth=.03,e.relativeHeight=.006,e.skin=El.Rectangle,e.brush=la.getTickMarkBrush(t),t.labels.placement==Ql.Inside?(e.placement=p.Inside,e.offset=s?0:-.1):(e.placement=p.Outside,e.offset=.2),a.items.add(e)}if(t.labels.visible&&!l){let e=new Gl;e.allowApplyStyle=!1,e.textBrush=la.getTickLabelBrush(t),e.labelRotationMode=r?bl.None:t.labels.rotationMode,e.formatService=t.valueFormat,null!=n&&(e.skipValuesObj=[Pt.getValueOrDefault(n)]),i&&(e.font=new z("Arial",8)),t.labels.placement==Ql.Inside?(e.placement=p.Inside,e.offset=s?.07:-.03):(e.placement=p.Outside,e.offset=.27),a.items.add(e)}if(null!=n){let e=new Zl;if(e.placement=p.Overlay,e.offset=-.15,e.relativeWidth=.1,e.relativeHeight=.02,e.borderWidth=0,e.brush=la.getTargetBrush(t),e.valueObj=n.stimulsoft().toNumber(),a.items.add(e),t.targetSettings.showLabel){let e=new fl;switch(e.allowApplyStyle=!1,e.formatService=t.valueFormat,e.textBrush=la.getTargetBrush(t),e.labelRotationMode=r?bl.None:t.labels.rotationMode,e.placement=t.targetSettings.placement,e.valueObj=Pt.getValueOrDefault(n),e.textObj=Pt.getValueOrDefault(n).toString(),t.targetSettings.placement){case p.Overlay:e.offset=-.12;break;case p.Outside:e.offset=.18;break}a.items.add(e)}}return a}createHalfCircularScale(t,r,e,i,s,n=null){var e=Math.min(e.width,e.height),l=e<150,e=e<75;let a=new Jl,o=(a.startAngle=180,a.sweepAngle=180,a.startWidth=.05,a.endWidth=.05,a.minimum=0,a.maximum=180,a.radius=.92,a.majorInterval=la.calculateMinorInterval(i,s),a.center=new Il(.5,.7),a.radiusMode=Dl.Auto,a.brush=new F(N.fromArgb(238,238,238)),new Rl);if(o.startWidth=.05,o.endWidth=.05,o.offset=.1,o.valueObj=135,o.placement=p.Overlay,o.brush=new F(N.red),a.items.add(o),la.addRadialRanges(t,i,s,a),t.labels.visible){if(!e){let e=new jl;e.offset=.05,e.relativeWidth=.03,e.relativeHeight=.006,e.skin=El.Rectangle,e.brush=la.getTickMarkBrush(t),t.labels.placement==Ql.Inside?e.placement=p.Inside:e.placement=p.Outside,a.items.add(e)}if(!l){let e=new Gl;e.allowApplyStyle=!1,e.textBrush=la.getTickLabelBrush(t),e.labelRotationMode=r?bl.None:t.labels.rotationMode,e.formatService=t.valueFormat,null!=n&&(e.skipValuesObj=[Pt.getValueOrDefault(n)]),t.labels.placement==Ql.Inside?(e.placement=p.Inside,e.offset=.12):(e.placement=p.Outside,e.offset=.1),a.items.add(e)}}if(null!=n){let e=new Zl;if(e.placement=p.Overlay,e.relativeWidth=.1,e.relativeHeight=.02,e.borderWidth=0,e.brush=la.getTargetBrush(t),e.valueObj=n.stimulsoft().toNumber(),a.items.add(e),t.targetSettings.showLabel){let e=new fl;switch(e.allowApplyStyle=!1,e.formatService=t.valueFormat,e.textBrush=la.getTargetBrush(t),e.labelRotationMode=r?bl.None:t.labels.rotationMode,e.placement=t.targetSettings.placement,e.valueObj=Pt.getValueOrDefault(n),e.textObj=Pt.getValueOrDefault(n).toString(),t.targetSettings.placement){case p.Inside:e.offset=.12;break;case p.Outside:e.offset=.05;break}a.items.add(e)}}let u=new Al;return u.relativeHeight=.05,u.relativeWidth=.4,u.startWidth=.1,u.endWidth=.2,u.capBrush=new F(N.white),u.capBorderBrush=new F(N.fromArgb(0,150,136)),u.capBorderWidth=2,u.brush=new F(N.fromArgb(0,150,136)),u.borderWidth=0,u.textBrush=new F(N.fromArgb(0,150,136)),u.valueObj=135,a.items.add(u),a}createLinearScale(r,e,t,i,s){var n=he.getGaugeStyle(r);let l=new Pl;if(l.relativeHeight=i?.9:.92,l.orientation=i?se.System.Drawing.Orientation.Horizontal:se.System.Drawing.Orientation.Vertical,l.startWidth=.1,l.endWidth=.1,l.maximum=100,l.majorInterval=la.calculateMinorInterval(e,t),l.borderBrush=new Je,l.brush=n.core.linearScaleBrush,r.labels.visible){let e=new Ml;e.formatService=r.valueFormat,e.font=new z("Arial",8),e.allowApplyStyle=!1,e.textBrush=la.getTickLabelBrush(r),null!=s&&(e.skipValuesObj=[Pt.getValueOrDefault(s)]);var n=Cl.getForeColor(r,r.foreColor);N.transparent.equals(n)||(e.allowApplyStyle=!1,e.textBrush=new F(n));let t=new Tl;t.relativeHeight=i?.03:.003,t.relativeWidth=i?.003:.03,t.borderBrush=new Je,t.borderWidth=0,t.brush=la.getTickMarkBrush(r),r.labels.placement==Ql.Inside?(t.placement=p.Inside,e.placement=p.Inside):(t.placement=p.Outside,e.placement=p.Outside),e.offset=.04,l.items.add(e),l.items.add(t)}if(la.addLinearRanges(r,e,t,l),null!=s){let e=new ql;if(e.placement=p.Overlay,e.relativeWidth=i?.012:.1,e.relativeHeight=i?.1:.012,e.borderWidth=0,e.brush=la.getTargetBrush(r),e.valueObj=null!=s?s.stimulsoft().toNumber():0,l.items.add(e),r.targetSettings.showLabel){let e=new wl;e.allowApplyStyle=!1,e.formatService=r.valueFormat,e.textBrush=la.getTargetBrush(r),e.placement=r.targetSettings.placement,e.offset=.04,e.valueObj=Pt.getValueOrDefault(s),e.textObj=Pt.getValueOrDefault(s).toString(),l.items.add(e)}}let a=new Fl;return a.skin=i?Kl.TriangleBottom:Kl.TriangleRight,a.relativeWidth=i?.04:.1,a.relativeHeight=i?.1:.04,a.placement=p.Overlay,a.valueObj=60,a.brush=new F(N.fromArgb(205,220,57)),l.items.add(a),l}static addRadialRanges(r,i,s,e){if(0<r.ranges.length&&r.rangeType==Ol.Color){let t=new xl;if(r.rangeMode==Nl.Percentage)for(var n of r.ranges){var l,a,o=i+(s-i)/100*O.parseNumber(ht.parse(n.startExpression,r)),u=i+(s-i)/100*O.parseNumber(ht.parse(n.endExpression,r));let e=new vl;e.placement=p.Overlay,e.startValue=o,e.endValue=u,e.startWidth=.05,e.endWidth=.05,e.borderBrush=new Je,e.brush=new F(n.color),t.ranges.add(e)}else for(var h of r.ranges){var m=O.parseNumber(ht.parse(h.startExpression,r)),d=O.parseNumber(ht.parse(h.endExpression,r));let e=new vl;e.placement=p.Overlay,e.startValue=m,e.endValue=d,e.startWidth=.05,e.endWidth=.05,e.borderBrush=new Je,e.brush=new F(h.color),t.ranges.add(e)}return e.items.add(t),0<t.ranges.length}return!1}createBullet(r,e,t,i=null){let s=new Pl;if(s.orientation=se.System.Drawing.Orientation.Horizontal,s.relativeHeight=.85,s.startWidth=.01,s.endWidth=.01,s.maximum=100,s.majorInterval=la.calculateMinorInterval(e,t),s.borderBrush=new Je,s.brush=new Je,la.addLinearRanges(r,e,t,s),r.labels.visible){let e=new Ml,t=(e.formatService=r.valueFormat,e.textBrush=la.getTickLabelBrush(r),null!=i&&(e.skipValuesObj=[Pt.getValueOrDefault(i)]),new Tl);t.relativeHeight=.03,t.relativeWidth=.003,t.borderBrush=new Je,t.borderWidth=0,t.brush=la.getTickMarkBrush(r),r.labels.placement==Ql.Inside?(e.placement=p.Inside,e.offset=.2,t.placement=p.Inside):(e.placement=p.Outside,e.offset=.2,t.placement=p.Outside),t.offset=.15,s.items.add(t),s.items.add(e)}if(null!=i){let e=new ql;if(e.placement=p.Overlay,e.relativeWidth=.008,e.relativeHeight=.1,e.borderWidth=0,e.brush=la.getTargetBrush(r),e.valueObj=i.stimulsoft().toNumber(),s.items.add(e),r.targetSettings.showLabel){let e=new wl;e.allowApplyStyle=!1,e.formatService=r.valueFormat,e.textBrush=la.getTargetBrush(r),e.placement=r.targetSettings.placement,e.offset=.25,e.valueObj=Pt.getValueOrDefault(i),e.textObj=Pt.getValueOrDefault(i).toString(),s.items.add(e)}}let n=new Yl;return n.valueObj=60,n.startWidth=.15,n.endWidth=.15,n.brush=new F(N.fromArgb(205,220,57)),s.items.add(n),s}static addLinearRanges(r,i,s,e,n=!1){if(0<r.ranges.length&&r.rangeType==Ol.Color){let t=new Bl;var l=r.type==kl.Bullet?.3:.05;if(r.rangeMode==Nl.Percentage)for(var a of r.ranges){var o,u,h=i+(s-i)/100*O.parseNumber(ht.parse(a.startExpression,r)),m=i+(s-i)/100*O.parseNumber(ht.parse(a.endExpression,r));let e=new Vl;e.placement=p.Overlay,e.startValue=h,e.endValue=m,e.startWidth=l,e.endWidth=l,e.borderBrush=new Je,e.brush=new F(a.color),n&&(e.borderBrush=new F(N.fromArgb(150,139,138,135))),t.ranges.add(e)}else for(var d of r.ranges){var c=O.parseNumber(ht.parse(d.startExpression,r)),g=O.parseNumber(ht.parse(d.endExpression,r));let e=new Vl;e.placement=p.Overlay,e.startValue=c,e.endValue=g,e.startWidth=l,e.endWidth=l,e.borderBrush=new Je,e.brush=new F(d.color),n&&(e.borderBrush=new F(N.fromArgb(150,139,138,135))),t.ranges.add(e)}e.items.add(t)}}getMinValue(e,t,r){if(-1==r)return e.minimum;var t=e.calculationMode==zl.Auto?t.rows.getArrayItem(r).firstOrDefaultAsNullableNumber():e.minimum;return null!=t?t:e.minimum}getMaxValue(e,t,r){if(-1==r)return e.maximum;var t=e.calculationMode==zl.Auto?t.rows.getArrayItem(r).firstOrDefaultAsNullableNumber():e.maximum;return null!=t?t:e.maximum}getValueMeterIndex(e){if(null==e)return-1;var t=e.meters.firstOrDefault(e=>e.is(us));return null!=t?e.meters.indexOf(t):-1}getMinMeterIndex(e){if(null==e)return-1;var t=e.meters.firstOrDefault(e=>e.is(Hl));return null!=t?e.meters.indexOf(t):-1}getMaxMeterIndex(e){if(null==e)return-1;var t=e.meters.firstOrDefault(e=>e.is(Xl));return null!=t?e.meters.indexOf(t):-1}getSeriesMeterIndex(e){if(null==e)return-1;var t=e.meters.firstOrDefault(e=>e.is(os));return null!=t?e.meters.indexOf(t):-1}getTargetMeterIndex(e){if(null==e)return-1;var t=e.meters.firstOrDefault(e=>e.is(hs));return null!=t?e.meters.indexOf(t):-1}}B.i.StiGaugeElementBuilder=la}let _l=se.Report.Dashboard.ImplementsIStiGaugeRange,$l=se.Report.Dashboard.IStiGaugeRange;{class sa{constructor(e,t,r){this.color=N.red,this.startExpression="0",this.endExpression="100",null!=e&&(this.color=e),null!=t&&(this.startExpression=t),null!=r&&(this.endExpression=r)}implements(){return sa.ImplementsStiGaugeRange||(sa.ImplementsStiGaugeRange=[l,$l,..._l,bt]),sa.ImplementsStiGaugeRange}clone(){return this.stimulsoft().memberwiseClone()}meta(){return this._hash||(this._hash=[new t("Color","",N.red),new n("StartExpression"),new n("EndExpression")])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}shouldSerializeColor(){return!N.red.equals(this.color)}get start(){return O.tryToNumber(this.startExpression)}set start(e){this.currentCulture=Yr.currentCulture;try{Yr.currentCulture=Yr.cultures["en-US"],this.startExpression=e.toString()}finally{Yr.currentCulture=this.currentCulture}}get end(){return O.tryToNumber(this.endExpression)}set end(e){this.currentCulture=Yr.currentCulture;try{Yr.currentCulture=Yr.cultures["en-US"],this.endExpression=e.toString()}finally{Yr.currentCulture=this.currentCulture}}static loadFromJson(e){let t=new sa;return t.loadFromJsonObject(e),t}static loadFromXml(e){let t=new sa;return t.loadFromXml(e),t}saveToString(){return this.saveToJsonObject(Me.Report).serialize()}getStringRepresentation(){return this.start+` - `+this.end}}B.S.StiGaugeRange=sa}{class ia extends B.g.StiDashboardInteraction{constructor(e,t,r,i,s,n,l){super(),this.ident=Mr.Gauge,this.availableOnClick=Dr.None,this.availableOnHover=Ir.None,this.availableOnDataManipulation=Ar.AllowSorting,this.allowUserSorting=!0,this.showFullScreenButton=!0,this.showSaveButton=!0,this.showViewDataButton=!0,this.fileName=null,this.headerText=null,this.footerText=null,null!=e&&(this.fileName=e),null!=t&&(this.headerText=t),null!=r&&(this.footerText=r),null!=i&&(this.showFullScreenButton=i),null!=s&&(this.showSaveButton=s),null!=n&&(this.allowUserSorting=n),null!=l&&(this.showViewDataButton=l)}implements(){return ia.ImplementsIStiGaugeDashboardInteraction||(ia.ImplementsIStiGaugeDashboardInteraction=super.implements().concat([rn,l,sn])),ia.ImplementsIStiGaugeDashboardInteraction}meta(){return this._hash||(this._hash=[...super.meta(),new u("AllowUserSorting","",!0),new u("ShowFullScreenButton","",!0),new u("ShowSaveButton","",!0),new u("ShowViewDataButton","",!0),new n("FileName"),new n("HeaderText"),new n("FooterText")])}get isDefaultLayout(){return this.showFullScreenButton&&this.showSaveButton&&this.showViewDataButton&&null==this.fileName&&null==this.headerText&&null==this.footerText}isDefault(){return this.isDefaultLayout&&this.allowUserSorting}}B.g.StiGaugeDashboardInteraction=ia}let ea=se.Report.Dashboard.IStiGaugeLabels;{class oa{constructor(e,t,r){this.visible=!0,this.placement=Ql.Inside,this.rotationMode=bl.Automatic,null!=e&&(this.visible=e),null!=t&&(this.placement=t),null!=r&&(this.rotationMode=r)}implements(){return oa.ImplementsStiGaugeLabels||(oa.ImplementsStiGaugeLabels=[ea,l]),oa.ImplementsStiGaugeLabels}meta(){return this._hash||(this._hash=[new u("Visible","",!0),new i("Placement","",Ql,Ql.Inside),new i("RotationMode","",bl,bl.Automatic)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}isDefault(){return this.visible&&this.placement==Ql.Inside&&this.rotationMode==bl.Automatic}}B.S.StiGaugeLabels=oa}let ta=se.Report.Dashboard.IStiGaugeTarget;{class ra{constructor(e,t){this.showLabel=!0,this.placement=p.Inside,null!=e&&(this.showLabel=e),null!=t&&(this.placement=t)}implements(){return ra.ImplementsStiGaugeTarget||(ra.ImplementsStiGaugeTarget=[ta,l]),ra.ImplementsStiGaugeTarget}meta(){return this._hash||(this._hash=[new u("ShowLabel","",!0),new i("Placement","",p,p.Inside)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}isDefault(){return this.showLabel&&this.placement==p.Inside}}B.S.StiGaugeTarget=ra}let ra=B.S.StiGaugeTarget,ia=B.g.StiGaugeDashboardInteraction,sa=B.S.StiGaugeRange,na=se.Report.Dashboard.ImplementsIStiGaugeElement,la=B.i.StiGaugeElementBuilder,aa=se.Report.Dashboard.IStiGaugeElement,oa=B.S.StiGaugeLabels;{tt.add("StiGaugeElement","Stimulsoft.Dashboard.Export.Tools.StiGaugeElementExportTool");class zh extends B.e.StiElement{constructor(e=P.empty){super(e),this.dataMode=un.UsingDataFields,this.group="",this.title=new An,this.layout=new Vs,this.crossFiltering=!0,this.shadow=new Ne,this.cornerRadius=new h(0),this.font=new z("Arial",13),this.foreColor=N.transparent,this.transformActions=new le,this.transformFilters=new le,this.transformSorts=new le,this.dataTransformation={},this.dataFilters=new le,this.userSorts=new le,this._style=o.Auto,this.customStyleName="",this.helpUrl="user-manual/dashboards_gauge.htm",this.valueFormat=new Vr(null,null,null,0,null,null,null,null,null,B.a.StiTextFormatState.DecimalDigits|B.a.StiTextFormatState.Abbreviation),this.shortValue=!0,this.labels=new oa,this.targetSettings=new ra,this.minimum=0,this.maximum=100,this.calculationMode=se.Report["Gauge"].StiGaugeCalculationMode.Auto,this.rangeMode=se.Report["Gauge"].StiGaugeRangeMode.Percentage,this.rangeType=se.Report["Gauge"].StiGaugeRangeType.None,this.type=se.Report["Gauge"].StiGaugeType.FullCircular,this.ranges=new le,this.isSampleForStyles=!1,this.title.text=this.localizedName,this.dashboardInteraction=new ia,this.previousAnimations=new le}implements(){return zh.ImplementsStiGaugeElement||(zh.ImplementsStiGaugeElement=super.implements().concat([aa,Pe,Be,be,Qt,ur,Ls,Hr,Es,...na,...Oe,...Ve,...Bs,...Ut,...lr,...ks,l])),zh.ImplementsStiGaugeElement}clone(e){var e,e,e,e;let t=super.clone(e);return t.value=null!=this.value?this.value.clone():null,t.series=null!=this.series?this.series.clone():null,t.target=null!=this.target?this.target.clone():null,t.valueFormat=null!=this.valueFormat?this.valueFormat.clone():null,t.userSorts=this.userSorts.select(e=>e.clone()).toList(),t.transformActions=this.transformActions.select(e=>e.clone()).toList(),t.transformFilters=this.transformFilters.select(e=>e.clone()).toList(),t.transformSorts=this.transformSorts.select(e=>e.clone()).toList(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.title=null!=this.title?this.title.clone():null,t.layout=null!=this.layout?this.layout.clone():null,t.dashboardInteraction=this.dashboardInteraction.clone(),t.labels=null==(e=this.labels)?void 0:e.clone(),t.targetSettings=null==(e=this.targetSettings)?void 0:e.clone(),t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new s("UserSorts").get(e=>a.Serialize.objectArray(this.userSorts,e)).set(e=>this.userSorts.addRange(e.value.properties().select(e=>Mn.loadFromJson(e.value)))).setXml(e=>this.userSorts.addRange(e.childNodes.select(e=>Mn.loadFromXml(e)))),new s("TransformActions").get(e=>a.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Dn.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Dn.loadFromXml(e)))),new s("TransformFilters").get(e=>a.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new s("TransformSorts").get(e=>a.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Mn.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Mn.loadFromXml(e)))),new s("DataFilters").get(e=>a.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new s("Ranges").get(e=>a.Serialize.objectArray(this.ranges,e)).set(e=>this.ranges.addRange(e.value.properties().select(e=>sa.loadFromJson(e.value)))).setXml(e=>this.ranges.addRange(e.childNodes.select(e=>sa.loadFromXml(e)))),new A("Minimum","",0),new A("Maximum","",100),new i("CalculationMode","",se.Report["Gauge"].StiGaugeCalculationMode,se.Report["Gauge"].StiGaugeCalculationMode.Auto),new i("RangeMode","",se.Report["Gauge"].StiGaugeRangeMode,se.Report["Gauge"].StiGaugeRangeMode.Percentage),new i("Type","",se.Report["Gauge"].StiGaugeType,se.Report["Gauge"].StiGaugeType.FullCircular),new i("RangeType","",se.Report["Gauge"].StiGaugeRangeType,se.Report["Gauge"].StiGaugeRangeType.None),new u("ShortValue","",!0),new u("CrossFiltering","",!0),new n("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=h.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=h.tryParse(e.textContent)),new s("Labels").check(()=>null!=this.labels),new s("TargetSettings").check(()=>null!=this.targetSettings),new s("Value").check(()=>null!=this.value).set(e=>{var e=c.loadFromJson(e.value).as(B.S.StiValueGaugeMeter);null!=e&&(this.value=e)}).setXml(e=>{var e=c.loadFromXml(e).as(B.S.StiValueGaugeMeter);null!=e&&(this.value=e)}),new s("Series").check(()=>null!=this.series).set(e=>{var e=c.loadFromJson(e.value).as(os);null!=e&&(this.series=e)}).setXml(e=>{var e=c.loadFromXml(e).as(os);null!=e&&(this.series=e)}),new s("Target").check(()=>null!=this.target).set(e=>{var e=c.loadFromJson(e.value).as(B.S.StiTargetGaugeMeter);null!=e&&(this.target=e)}).setXml(e=>{var e=c.loadFromXml(e).as(B.S.StiTargetGaugeMeter);null!=e&&(this.target=e)}),new s("Title").check(()=>null!=this.title).set(e=>this.title=An.createFromJsonObject(e.value)).setXml(e=>this.title=An.createFromXml(e)),new s("Layout").check(()=>null!=this.layout).set(e=>this.layout=Vs.createFromJsonObject(e.value)).setXml(e=>this.layout=Vs.createFromXml(e)),new t("ForeColor","",N.transparent),new n("Font").get(()=>a.Serialize.fontArial8(this.font)).set(e=>this.font=a.Deserialize.font(e.value,this.font)).setXml(e=>this.font=se.System.Convert.toFont(e.textContent)),new i("DataMode","",un,un.UsingDataFields),new n("ManuallyEnteredData"),new i("Style","",o,o.Auto),new n("Group"),new n("CustomStyleName"),new n("Shadow").get(()=>a.Serialize.jShadow(this.shadow)).set(e=>this.shadow=a.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ne.loadFromXml(e.textContent)),new s("ValueFormat").check(()=>null!=this.valueFormat).set(e=>this.valueFormat=or.createFromJsonObject(e.value)).setXml(e=>this.valueFormat=or.loadFormatFromXml(e,this.report)),new s("DashboardInteraction").check(()=>null!=this.dashboardInteraction.as(ia)).set(e=>{var e,e=null==(e=Xr.loadInteractionFromJsonObject(e.value))?void 0:e.as(ia);null!=e&&(this.dashboardInteraction=e)}).setXml(e=>{var e,e=null==(e=Xr.loadInteractionFromXml(e))?void 0:e.as(ia);null!=e&&(this.dashboardInteraction=e)})])}get componentId(){return Z.StiGaugeElement}addValue2(e){this.value=null!=e?d.Gauge.getValue2(e):null}addValue(e){this.value=d.Gauge.getValue(e.as(B.e.StiMeter))}removeValue(){this.value=null}getValue(){return this.value}getValue2(e){return null!=e?d.Gauge.getValue(e.as(B.e.StiMeter)):null}createNewValue(){this.value=new B.S.StiValueGaugeMeter,this.value.expression="Sum()"}addSeries2(e){this.series=null!=e?d.Gauge.getSeries2(e):null}addSeries(e){this.series=d.Gauge.getSeries(e.as(B.e.StiMeter))}removeSeries(){this.series=null}getSeries(){return this.series}getSeries2(e){return null!=e?d.Gauge.getSeries(e.as(B.e.StiMeter)):null}createNewSeries(){this.series=new os}addTarget2(e){this.target=null!=e?d.Gauge.getTarget2(e):null}addTarget(e){this.target=d.Gauge.getTarget(e.as(B.e.StiMeter))}removeTarget(){this.target=null}getTarget(){return this.target}getTarget2(e){return null!=e?d.Gauge.getTarget(e.as(B.e.StiMeter)):null}createNewTarget(){this.target=new B.S.StiTargetGaugeMeter}getRanges(){let e=new le;return e.addRange(this.ranges),e}getPreferedColor(){if(this.ranges.all(e=>!N.green.equals(e.color)))return N.green;if(this.ranges.all(e=>!N.yellow.equals(e.color)))return N.yellow;if(this.ranges.all(e=>!N.red.equals(e.color)))return N.red;return N.orange}addRange(){let e=new sa;return e.color=this.getPreferedColor(),this.ranges.add(e),e}removeRange(e){e<this.ranges.length&&this.ranges.removeAt(e)}createdDefaultRanges(){this.ranges.clear(),this.ranges.add(new sa(N.red,"0","33")),this.ranges.add(new sa(N.yellow,"33","66")),this.ranges.add(new sa(N.green,"66","100"))}getManuallyEnteredDataTable(){if(this.dataMode!=un.ManuallyEnteringData)return null;return B.e.StiManuallyEnteredDataParser.getGaugeDataTable(this.manuallyEnteredData,this)}getGaugeComponent(i=null){return se.tsfb(this,void 0,void 0,function*(){var e=yield el.getOrCreate(this);let t=(new la).render2(this,null!=i?i:this.clientRectangle.size,e),r=new se.Report.Components.StiGauge;return 1==t().count2()&&((r=t().firstOrDefault().gauge).report=this.report,r.page=this.page,r.name=this.name+`_Content`,r.clientRectangle=null!=i?new P(0,0,i.width,i.height):this.clientRectangle.clone(),r.brush=new F(this.backColor)),r})}convertFrom(e){let t=e.fetchAllMeters();if(null==t)return;let r=t.firstOrDefault(e=>e.is(yr)),i=(null!=(r=null==r?r=t.firstOrDefault(e=>e.is(pt)):r)&&(this.value=null==this.value?new B.S.StiValueGaugeMeter:this.value,this.value.loadFromJsonObject(r.saveToJsonObject(Me.Report))),t.firstOrDefault(e=>e.is(pi))),s=(null!=(i=null==i?t.firstOrDefault(e=>e.is(Ie)):i)&&(this.series=null==this.series?new os:this.series,this.series.loadFromJsonObject(i.saveToJsonObject(Me.Report))),t.firstOrDefault(e=>e.is(Si)));null!=s&&(this.target=null==this.target?new B.S.StiTargetGaugeMeter:this.target,this.target.loadFromJsonObject(s.saveToJsonObject(Me.Report))),null==this.dashboardInteraction&&(this.dashboardInteraction=new ia)}shouldSerializeLayout(){return null==this.layout||!this.layout.isDefault()}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}fetchAllMeters(){let e=new le;return this.dataMode==un.UsingDataFields&&(null!=this.value&&e.add(this.value),null!=this.series&&e.add(this.series),null!=this.target&&e.add(this.target)),e}getMeters(){let r=new le;if(this.dataMode==un.UsingDataFields){if(null!=this.value&&(this.value.key=K.getOrGeneratedKey(this.value.key),r.add(this.value),this.calculationMode==se.Report["Gauge"].StiGaugeCalculationMode.Auto)){let e=new B.S.StiMinGaugeMeter,t=(e.key=this.value.key,e.expression=gs.replaceFunction(this.value.expression,"Min"),r.add(e),new B.S.StiMaxGaugeMeter);t.key=this.value.key,t.expression=gs.replaceFunction(this.value.expression,"Max"),r.add(t)}null!=this.series&&r.add(this.series),null!=this.target&&r.add(this.target)}return r}retrieveUsedDataNames(){return this.dataMode==un.UsingDataFields?Ns.getMany(this.value,this.series,this.target):null}get isDefined(){return null!=this.value||null!=this.series||null!=this.target||this.dataMode==un.ManuallyEnteringData}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&13==this.font.sizeInPoints&&this.font.style==L.Regular)}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}get style(){return this._style}set style(e){(this._style=e)!=o.Custom&&(this.customStyleName="")}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break}}getString(e){switch(e){case"Title.Text":return this.title.text}throw new Error(`Property with name `+e)}getAllStrings(){return["Title.Text"]}get toolboxPosition(){return je.GaugeElement}get localizedName(){return w.get("Components","StiGauge")}get shouldSerializeDashboardInteraction(){return null==this.dashboardInteraction||!this.dashboardInteraction.isDefault()}static getValueFormatDefault(){return new Vr(null,null,null,0,null,null,null,null,null,B.a.StiTextFormatState.DecimalDigits|B.a.StiTextFormatState.Abbreviation)}shouldSerializeValueFormat(){return this.valueFormat.stimulsoft().equals(zh.getValueFormatDefault())}ShouldSerializeLabels(){return null==this.labels||!this.labels.isDefault}shouldSerializeTargetSettings(){return null==this.targetSettings||!this.targetSettings.isDefault}createNew(){return new zh}}B.S.StiGaugeElement=zh}B._.StiGaugeRangeConverter=class{};let ua=B.H.StiXChartMeter,ha=B.H.StiStartValueChartMeter;B.G.StiMeterCreator=class{static neww(e){if(ne.isNullOrEmpty(e))return null;let t;var r=Pt.tryParse(e);return null!=(t=r.successfully?ge.parse(B.e.StiMeterIdent,r.result):ge.parse(B.e.StiMeterIdent,e))?this.neww2(t):null}static neww2(e){switch(e){case B.e.StiMeterIdent.ArgumentChartMeter:return new bs;case B.e.StiMeterIdent.SeriesChartMeter:return new vs;case B.e.StiMeterIdent.ValueChartMeter:return new ys;case B.e.StiMeterIdent.StartValueChartMeter:return new ha;case B.e.StiMeterIdent.EndValueChartMeter:return new xs;case B.e.StiMeterIdent.OpenValueChartMeter:return new Ss;case B.e.StiMeterIdent.CloseValueChartMeter:return new ws;case B.e.StiMeterIdent.LowValueChartMeter:return new fs;case B.e.StiMeterIdent.HighValueChartMeter:return new Cs;case B.e.StiMeterIdent.WeightChartMeter:return new ps;case B.e.StiMeterIdent.XChartMeter:return new ua;case B.e.StiMeterIdent.YChartMeter:return new Rn;case B.e.StiMeterIdent.KeyComboBoxMeter:return new as;case B.e.StiMeterIdent.NameComboBoxMeter:return new ls;case B.e.StiMeterIdent.MaxGaugeMeter:return new Xl;case B.e.StiMeterIdent.MinGaugeMeter:return new Hl;case B.e.StiMeterIdent.SeriesGaugeMeter:return new os;case B.e.StiMeterIdent.ValueGaugeMeter:return new us;case B.e.StiMeterIdent.TargetGaugeMeter:return new hs;case B.e.StiMeterIdent.SeriesIndicatorMeter:return new ms;case B.e.StiMeterIdent.TargetIndicatorMeter:return new cs;case B.e.StiMeterIdent.ValueIndicatorMeter:return new ds;case B.e.StiMeterIdent.KeyListBoxMeter:return new ts;case B.e.StiMeterIdent.NameListBoxMeter:return new rs;case B.e.StiMeterIdent.LatitudeMapMeter:return new $i;case B.e.StiMeterIdent.LongitudeMapMeter:return new es;case B.e.StiMeterIdent.LocationMapMeter:return new Ii;case B.e.StiMeterIdent.LocationValueMapMeter:return new Ri;case B.e.StiMeterIdent.LocationArgumentMapMeter:return new Di;case B.e.StiMeterIdent.LocationColorMapMeter:return new Ai;case B.e.StiMeterIdent.KeyMapMeter:return new Ui;case B.e.StiMeterIdent.NameMapMeter:return new Wi;case B.e.StiMeterIdent.GroupMapMeter:return new Ji;case B.e.StiMeterIdent.ColorMapMeter:return new Gi;case B.e.StiMeterIdent.ValueMapMeter:return new ji;case B.e.StiMeterIdent.PivotColumn:return new Zi;case B.e.StiMeterIdent.PivotRow:return new Qi;case B.e.StiMeterIdent.PivotSummary:return new _i;case B.e.StiMeterIdent.SeriesProgressMeter:return new Yi;case B.e.StiMeterIdent.TargetProgressMeter:return new qi;case B.e.StiMeterIdent.ValueProgressMeter:return new Ki;case B.e.StiMeterIdent.ColorScaleColumn:return new Bi;case B.e.StiMeterIdent.DataBarsColumn:return new Ni;case B.e.StiMeterIdent.DimensionColumn:return new Hi;case B.e.StiMeterIdent.IndicatorColumn:return new Vi;case B.e.StiMeterIdent.MeasureColumn:return new Xi;case B.e.StiMeterIdent.SparklinesColumn:return new Pi;case B.e.StiMeterIdent.BubbleColumn:return new Mi;case B.e.StiMeterIdent.ColorScaleCardsColumn:return new yi;case B.e.StiMeterIdent.DataBarsCardsColumn:return new vi;case B.e.StiMeterIdent.DimensionCardsColumn:return new Fi;case B.e.StiMeterIdent.IndicatorCardsColumn:return new Ci;case B.e.StiMeterIdent.MeasureCardsColumn:return new pr;case B.e.StiMeterIdent.SparklinesCardsColumn:return new xi;case B.e.StiMeterIdent.BubbleCardsColumn:return new bi;case B.e.StiMeterIdent.KeyTreeViewMeter:return new Li;case B.e.StiMeterIdent.KeyTreeViewBoxMeter:return new ki;case B.e.StiMeterIdent.ValueDatePickerMeter:return new is;default:throw new Wl(e)}}},B.G.StiMeterJsonConverter=class{},B.g.StiImageDashboardInteraction=class extends B.g.StiDashboardInteraction{constructor(e,t,r,i,s,n,l){super(e,t,r,i,s,n,l),this.ident=Mr.Image,this.availableOnClick=Dr.OpenHyperlink|Dr.ShowDashboard,this.onClick=Fr.OpenHyperlink}isDefault(){return this.onHover==xr.ShowToolTip&&this.onClick==Fr.OpenHyperlink&&this.hyperlinkDestination==Tr.NewTab&&ne.isNullOrEmpty(this.hyperlink)&&ne.isNullOrEmpty(this.drillDownPageKey)&&null!=this.drillDownParameters&&0==this.drillDownParameters.length&&ne.isNullOrEmpty(this.toolTip)}};{class ma extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.ImageMeter}implements(){return ma.ImplementsStiImageMeter||(ma.ImplementsStiImageMeter=super.implements().concat([yr])),ma.ImplementsStiImageMeter}get localizedName(){return S.get("PropertyMain","Image")}}B.V.StiImageMeter=ma}let ma=B.V.StiImageMeter,da=se.Report.Helpers.StiHyperlinkProcessor,ca=B.g.StiImageDashboardInteraction,ga=se.System.Drawing.Image,pa=se.Report.Dashboard.ImplementsIStiImageElement,Sa=se.Base.Drawing.StiImageConverter,wa=se.Report.Dashboard.Helpers.StiDashboardImageHyperlinkCache,fa=se.Report.Dashboard.IStiImageElement,Ca=se.Report.StiFontIconsHelper;{tt.add("StiImageElement","Stimulsoft.Dashboard.Export.Tools.StiImageElementExportTool");class Oh extends B.e.StiElement{constructor(e=P.empty){super(e),this.group="",this.title=new B.e.StiTitle,this.image=null,this.aspectRatio=!0,this.icon=null,this.iconColor=N.fromArgb(68,114,196),this.crossFiltering=!0,this.horAlignment=ae.Center,this.vertAlignment=Lt.Center,this.shadow=new Ne,this.cornerRadius=new h(0),this.defaultClientRectangle=new P(0,0,120,120),this.helpUrl="user-manual/dashboards_image.htm",this.title.text=this.localizedName,this.title.visible=!1,this.padding=Ke.create(0),this.dashboardInteraction=new ca}implements(){return Oh.ImplementsStiImageElement||(Oh.ImplementsStiImageElement=super.implements().concat([mr,_t,fa,Be,Pe,be,Es,...ar,...Kt,...pa,...Ve,...Oe,...Bs,l,Hr])),Oh.ImplementsStiImageElement}clone(e){var e,e;let t=super.clone(e);return t.title=null!=this.title?this.title.clone():null,t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}get componentId(){return Z.StiImageElement}meta(){return this._hash||(this._hash=[...super.meta(),new s("DashboardInteraction").check(()=>null!=this.dashboardInteraction.as(ca)).set(e=>{var e,e=null==(e=Xr.loadInteractionFromJsonObject(e.value))?void 0:e.as(ca);null!=e&&(this.dashboardInteraction=e)}).setXml(e=>{var e,e=null==(e=Xr.loadInteractionFromXml(e))?void 0:e.as(ca);null!=e&&(this.dashboardInteraction=e)}),new u("AspectRatio","",!0),new n("ImageHyperlink"),new i("HorAlignment","",ae,ae.Center),new i("VertAlignment","",Lt,Lt.Center),new n("Group"),new u("CrossFiltering","",!0),new n("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=h.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=h.tryParse(e.textContent)),new s("Padding").get(e=>this.padding.saveToJsonObject(0,0,0,0)),new n("Shadow").get(()=>a.Serialize.jShadow(this.shadow)).set(e=>this.shadow=a.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ne.loadFromXml(e.textContent)),new s("Title").check(()=>null!=this.title).set(e=>this.title=B.e.StiTitle.createFromJsonObject(e.value)).setXml(e=>this.title=B.e.StiTitle.createFromXml(e)),new R("Image").check(()=>null!=this.image).get(()=>Sa.imageToString(this.image)).set(e=>this.image=Sa.stringToImage(e.value.toString())).setXml(e=>this.image=Sa.stringToImage(e.textContent)),new i("Icon","",yt).check(()=>null!=this.icon),new t("IconColor","",N.fromArgb(68,114,196))])}get isDefined(){return this.isImageDefined||this.isImageHyperlinkDefined||this.isImageIconDefined}get isQuerable(){return this.isImageHyperlinkDataColumnDefined()}fetchAllMeters(){return this.getMeters()}getMeters(){if(!this.isImageHyperlinkDataColumnDefined())return new le;var e=da.getRealDataColumnFromHyperlink(this.report,this.imageHyperlink);let t=new le;return t.add(new ma(e,e,e)),t}retrieveUsedDataNames(){return Ns.getMany2(this.getMeters()).distinct().toList()}get imageToDraw(){if(this.isImageDefined)return new Promise(e=>{e(this.image)});var e;if(this.isImageIconDefined)return e=this.getPaintRectangle(!0,!1),Ca.convertFontIconToImageAsync(this.icon,this.iconColor,e.width,e.height);if(this.isImageHyperlinkDefined)return new Promise(i=>{setTimeout(()=>se.tsfb(this,void 0,void 0,function*(){if(this.isImageHyperlinkDataColumnDefined()){let r=yield el.getOrCreate(this);if(null!=r){let e=r.rows.firstOrDefault(),t=null!=e?e.stimulsoft().toList().firstOrDefault():null;if(dn.isArray(t)){let e=new se.System.Drawing.Image;e.bytes=t,i(e)}else if("string"==typeof t&&!ne.isNullOrEmpty(t)){if(t.stimulsoft().isBase64String()){let e=new se.System.Drawing.Image;e.base64=t,i(e)}i(wa.get(t,this.report))}}i(null)}i(wa.get(this.imageHyperlink,this.report))}))});return new Promise(e=>{e(null)})}copyAllImageProperties(e){if(null==e)return;this.image=e.image,this.imageHyperlink=e.imageHyperlink,this.icon=e.icon,this.iconColor=e.iconColor}shouldSerializePadding(){return!this.padding.isEmpty}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break}}get shouldSerializeDashboardInteraction(){return null==this.dashboardInteraction||!this.dashboardInteraction.isDefault()}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}getString(e){switch(e){case"Title.Text":return this.title.text}throw new Error(`Property with name `+e)}getAllStrings(){return["Title.Text"]}get toolboxPosition(){return je.ImageElement}get localizedName(){return w.get("Components","StiImage")}getNestedPages(){if(null==this.dashboardInteraction||this.dashboardInteraction.onClick==Fr.None)return null;let t=this.dashboardInteraction.drillDownPageKey;if(K.isEmptyKey(t))return null;var e=this.report.pages.toList().firstOrDefault(e=>e.guid==t);if(null==e)return null;return new le([e])}createNew(){return new Oh}resetAllImageProperties(){this.image=new ga,this.imageHyperlink=null,this.icon=null}get isImageDefined(){return null!=this.image&&(null!=this.image.bytes||!ne.isNullOrEmpty(this.image.url))}get isImageIconDefined(){return null!=this.icon}get isImageHyperlinkDefined(){return!ne.isNullOrWhiteSpace(this.imageHyperlink)}isImageHyperlinkDataColumnDefined(){return!this.isImageDefined&&!this.isImageIconDefined&&this.isImageHyperlinkDefined&&!ne.isNullOrWhiteSpace(da.getRealDataColumnFromHyperlink(this.report,this.imageHyperlink))}}B.W.StiImageElement=Oh}B.Y.StiImageBytesConverter=class{};{class Fa extends B.g.StiDashboardInteraction{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d,c,g){super(),this.ident=Mr.Indicator,this.availableOnClick=Dr.OpenHyperlink|Dr.ShowDashboard,this.availableOnDataManipulation=Ar.AllowDrillDown|Ar.AllowSorting,this.allowUserDrillDown=!1,this.allowUserSorting=!0,this.onClick=Fr.None,this.showFullScreenButton=!0,this.showSaveButton=!0,this.showViewDataButton=!0,this.fileName=null,this.headerText=null,this.footerText=null,null!=e&&(this.onHover=e),null!=t&&(this.onClick=t),null!=r&&(this.hyperlinkDestination=r),null!=i&&(this.toolTip=i),null!=s&&(this.hyperlink=s),null!=n&&(this.drillDownPageKey=n),null!=l&&(this.drillDownParameters=l),null!=a&&(this.allowUserDrillDown=a),null!=u&&(this.fileName=u),null!=h&&(this.headerText=h),null!=m&&(this.footerText=m),null!=d&&(this.showFullScreenButton=d),null!=c&&(this.showSaveButton=c),null!=o&&(this.allowUserSorting=o),null!=g&&(this.showViewDataButton=g)}implements(){return Fa.ImplementsIStiIndicatorDashboardInteraction||(Fa.ImplementsIStiIndicatorDashboardInteraction=super.implements().concat([rn,l,sn])),Fa.ImplementsIStiIndicatorDashboardInteraction}meta(){return this._hash||(this._hash=[...super.meta(),new u("AllowUserDrillDown"),new u("AllowUserSorting","",!0),new u("ShowFullScreenButton","",!0),new u("ShowSaveButton","",!0),new u("ShowViewDataButton","",!0),new n("FileName"),new n("HeaderText"),new n("FooterText")])}shouldSerializeOnClick(){return this.onClick!=Fr.None}get isDefaultLayout(){return this.showFullScreenButton&&this.showSaveButton&&this.showViewDataButton&&null==this.fileName&&null==this.headerText&&!this.allowUserDrillDown&&null==this.footerText}isDefault(){return this.isDefaultLayout&&!this.shouldSerializeOnHover()&&!this.shouldSerializeOnClick()&&this.hyperlinkDestination==Tr.NewTab&&ne.isNullOrEmpty(this.hyperlink)&&ne.isNullOrEmpty(this.drillDownPageKey)&&null!=this.drillDownParameters&&0==this.drillDownParameters.length&&ne.isNullOrEmpty(this.toolTip)&&!this.allowUserDrillDown&&this.allowUserSorting}}B.g.StiIndicatorDashboardInteraction=Fa}let ba=se.Report.Dashboard.StiIndicatorIconRangeMode,ya=se.Report.Dashboard.StiIndicatorIconMode,va=se.Data.Engine.IStiAllowSortByVariation,xa=se.Report.Dashboard.StiTargetMode,Fa=B.g.StiIndicatorDashboardInteraction,Ta=se.Report.Dashboard.ImplementsIStiIndicatorElement,Ma=se.Data.Engine.ImplementsIStiAllowSortByVariation,Da=se.Report.Helpers.StiFontIconSet,Ia=se.Report.Dashboard.IStiIndicatorElement,Aa=se.System.Convert,Ra=se.Report.Dashboard.StiFontSizeMode;{class Bu extends B.e.StiElement{constructor(e=P.empty){super(e),this.group="",this.shadow=new Ne,this.cornerRadius=new h(0),this.dataMode=un.UsingDataFields,this.textFormat=new Bt,this.font=new z("Arial",13),this.foreColor=N.transparent,this.title=new B.e.StiTitle,this.layout=new Vs,this.transformActions=new le,this.transformFilters=new le,this.transformSorts=new le,this.topN=new di,this.dataTransformation={},this.dataFilters=new le,this.userSorts=new le,this._style=o.Auto,this.customStyleName="",this.defaultClientRectangle=new P(0,0,160,160),this.helpUrl="user-manual/dashboards_indicator.htm",this.glyphColor=N.transparent,this.icon=yt.Rating4,this.iconSet=Da.Rating,this.iconAlignment=At.Right,this.targetMode=xa.Variation,this.fontSizeMode=Ra.Auto,this.iconMode=ya.Auto,this.iconRangeMode=ba.Percentage,this.iconRanges=new le,this.indicatorConditions=new le,this.crossFiltering=!0,this.isSampleForStyles=!1,this.title.text=this.localizedName,this.dashboardInteraction=new Fa}implements(){return Bu.ImplementsStiIndicatorElement||(Bu.ImplementsStiIndicatorElement=super.implements().concat([hr,Ia,Pe,Be,be,Qt,ur,Ls,Hr,Es,va,...jr,...Ta,...Oe,...Ve,...Bs,...Ut,...lr,...ks,...Ma,l])),Bu.ImplementsStiIndicatorElement}clone(e){var e,e;let t=super.clone(e);return t.value=null!=this.value?this.value.clone():null,t.target=null!=this.target?this.target.clone():null,t.series=null!=this.series?this.series.clone():null,t.userSorts=this.userSorts.select(e=>e.clone()).toList(),t.transformActions=this.transformActions.select(e=>e.clone()).toList(),t.transformFilters=this.transformFilters.select(e=>e.clone()).toList(),t.transformSorts=this.transformSorts.select(e=>e.clone()).toList(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.topN=this.topN.clone(),t.textFormat=this.textFormat.clone(),t.title=null!=this.title?this.title.clone():null,t.layout=null!=this.layout?this.layout.clone():null,t.indicatorConditions=this.indicatorConditions.select(e=>e.clone()).toList(),t.dashboardInteraction=this.dashboardInteraction.clone(),t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new s("UserSorts").get(e=>a.Serialize.objectArray(this.userSorts,e)).set(e=>this.userSorts.addRange(e.value.properties().select(e=>Mn.loadFromJson(e.value)))).setXml(e=>this.userSorts.addRange(e.childNodes.select(e=>Mn.loadFromXml(e)))),new s("TransformActions").get(e=>a.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Dn.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Dn.loadFromXml(e)))),new s("TransformFilters").get(e=>a.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new s("TransformSorts").get(e=>a.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Mn.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Mn.loadFromXml(e)))),new s("DataFilters").get(e=>a.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new s("IconRanges").get(e=>a.Serialize.objectArray(this.iconRanges,e)).set(e=>this.iconRanges.addRange(e.value.properties().select(e=>B.T.StiIndicatorIconRange.loadFromJson(e.value)))).setXml(e=>this.iconRanges.addRange(e.childNodes.select(e=>B.T.StiIndicatorIconRange.loadFromXml(e)))),new u("CrossFiltering","",!0),new s("TopN").check(()=>null!=this.topN).set(e=>this.topN=di.createFromJsonObject(e.value)).setXml(e=>this.topN=di.createFromXml(e)),new s("TextFormat").check(()=>null!=this.textFormat).set(e=>this.textFormat=or.createFromJsonObject(e.value)).setXml(e=>this.textFormat=or.loadFormatFromXml(e,this.report)),new s("Value").check(()=>null!=this.value).set(e=>{var e=c.loadFromJson(e.value).as(ds);null!=e&&(this.value=e)}).setXml(e=>{var e=c.loadFromXml(e).as(ds);null!=e&&(this.value=e)}),new s("Target").check(()=>null!=this.target).set(e=>{var e=c.loadFromJson(e.value).as(B.T.StiTargetIndicatorMeter);null!=e&&(this.target=e)}).setXml(e=>{var e=c.loadFromXml(e).as(B.T.StiTargetIndicatorMeter);null!=e&&(this.target=e)}),new s("Series").check(()=>null!=this.series).set(e=>{var e=c.loadFromJson(e.value).as(B.T.StiSeriesIndicatorMeter);null!=e&&(this.series=e)}).setXml(e=>{var e=c.loadFromXml(e).as(B.T.StiSeriesIndicatorMeter);null!=e&&(this.series=e)}),new s("Title").check(()=>null!=this.title).set(e=>this.title=B.e.StiTitle.createFromJsonObject(e.value)).setXml(e=>this.title=B.e.StiTitle.createFromXml(e)),new s("Layout").check(()=>null!=this.layout).set(e=>this.layout=Vs.createFromJsonObject(e.value)).setXml(e=>this.layout=Vs.createFromXml(e)),new t("ForeColor","",N.transparent),new t("GlyphColor","",N.transparent),new n("Font").get(()=>a.Serialize.fontArial8(this.font)).set(e=>this.font=a.Deserialize.font(e.value,this.font)).setXml(e=>this.font=se.System.Convert.toFont(e.textContent)),new i("DataMode","",un,un.UsingDataFields),new n("ManuallyEnteredData"),new i("Style","",o,o.Auto),new n("Group"),new n("CustomStyleName"),new i("Icon","",yt,yt.Rating4),new i("IconSet","",Da,Da.Rating),new i("IconMode","",ya,ya.Auto),new i("IconRangeMode","",ba,ba.Percentage),new R("CustomIcon").check(()=>null!=this.customIcon).get(()=>Aa.toBase64String(this.customIcon)).set(e=>this.customIcon=Aa.fromBase64String(e.value.toString())).setXml(e=>this.customIcon=Aa.fromBase64String(e.textContent)),new i("IconAlignment","",At,At.Right),new i("TargetMode","",xa,xa.Variation),new i("FontSizeMode","",Ra,Ra.Auto),new s("IndicatorConditions").get(e=>a.Serialize.objectArray(this.indicatorConditions,e)).set(e=>this.indicatorConditions.addRange(e.value.properties().select(e=>B.T.StiIndicatorElementCondition.createFromJson(e.value)))).setXml(e=>this.indicatorConditions.addRange(e.childNodes.select(e=>B.T.StiIndicatorElementCondition.createFromXml(e)))),new n("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=h.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=h.tryParse(e.textContent)),new n("Shadow").get(()=>a.Serialize.jShadow(this.shadow)).set(e=>this.shadow=a.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ne.loadFromXml(e.textContent)),new s("DashboardInteraction").check(()=>null!=this.dashboardInteraction.as(Fa)).set(e=>{var e,e=null==(e=Xr.loadInteractionFromJsonObject(e.value))?void 0:e.as(Fa);null!=e&&(this.dashboardInteraction=e)}).setXml(e=>{var e,e=null==(e=Xr.loadInteractionFromXml(e))?void 0:e.as(Fa);null!=e&&(this.dashboardInteraction=e)})])}get componentId(){return Z.StiIndicatorElement}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}addValue2(e){this.value=null!=e?d.Indicator.getValue2(e):null}addValue(e){this.value=d.Indicator.getValue(e.as(B.e.StiMeter))}removeValue(){this.value=null}getValue(){return this.value}getValue2(e){return null!=e?d.Indicator.getValue(e.as(B.e.StiMeter)):null}createNewValue(){this.value=new ds,this.value.expression="Sum()"}addTarget2(e){this.target=null!=e?d.Indicator.getTarget2(e):null}addTarget(e){this.target=d.Indicator.getTarget(e.as(B.e.StiMeter))}removeTarget(){this.target=null}getTarget(){return this.target}getTarget2(e){return null!=e?d.Indicator.getTarget(e.as(B.e.StiMeter)):null}createNewTarget(){this.target=new B.T.StiTargetIndicatorMeter,this.target.expression="Sum()"}addSeries2(e){this.series=null!=e?d.Indicator.getSeries2(e):null}addSeries(e){this.series=d.Indicator.getSeries(e.as(B.e.StiMeter))}removeSeries(){this.series=null}getSeries(){return this.series}getSeries2(e){return null!=e?d.Indicator.getSeries(e.as(B.e.StiMeter)):null}createNewSeries(){this.series=new B.T.StiSeriesIndicatorMeter}getIconRanges(){let e=new le;return e.addRange(this.iconRanges),e}addRange(){var e=new B.T.StiIndicatorIconRange;return this.iconRanges.add(e),e}removeRange(e){e<this.iconRanges.length&&this.iconRanges.removeAt(e)}createdDefaultRanges(){this.iconRanges.clear(),this.iconRanges.add(new B.T.StiIndicatorIconRange(yt.Rating1,"0","25")),this.iconRanges.add(new B.T.StiIndicatorIconRange(yt.Rating2,"25","50")),this.iconRanges.add(new B.T.StiIndicatorIconRange(yt.Rating3,"50","75")),this.iconRanges.add(new B.T.StiIndicatorIconRange(yt.Rating4,"75","100"))}getManuallyEnteredDataTable(){if(this.dataMode!=un.ManuallyEnteringData)return null;return B.e.StiManuallyEnteredDataParser.getIndicatorDataTable(this.manuallyEnteredData,this)}addIndicatorCondition(e,t,r,i,s,n,l,a,o,u,h,m,d,c){this.indicatorConditions.add(new B.T.StiIndicatorElementCondition(e,t,r,i,s,n,l,a,o,u,h,m,d,c))}fetchIndicatorConditions(){let e=new le;return null!=this.indicatorConditions&&e.addRange(this.indicatorConditions),e}clearIndicatorConditions(){this.indicatorConditions.clear()}convertFrom(e){let t=e.fetchAllMeters();if(null==t)return;let r=t.firstOrDefault(e=>e.is(yr)),i=(null!=(r=null==r?t.firstOrDefault(e=>e.is(pt)):r)&&(this.value=null==this.value?new ds:this.value,this.value.loadFromJsonObject(r.saveToJsonObject(Me.Report))),t.firstOrDefault(e=>e.is(Si))),s=(null!=i&&(this.target=null==this.target?new B.T.StiTargetIndicatorMeter:this.target,this.target.loadFromJsonObject(i.saveToJsonObject(Me.Report))),t.firstOrDefault(e=>e.is(pi)));null!=(s=null==s?t.firstOrDefault(e=>e.is(Ie)):s)&&(this.series=null==this.series?new B.T.StiSeriesIndicatorMeter:this.series,this.series.loadFromJsonObject(s.saveToJsonObject(Me.Report))),null==this.dashboardInteraction&&(this.dashboardInteraction=new Fa)}shouldSerializeTextFormat(){return null==this.textFormat||!this.textFormat.is(Bt)}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&13==this.font.sizeInPoints&&this.font.style==L.Regular)}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}fetchAllMeters(){let e=new le;return this.dataMode==un.UsingDataFields&&(null!=this.value&&e.add(this.value),null!=this.target&&e.add(this.target),null!=this.series&&e.add(this.series)),e}getMeters(){let e=new le;return this.dataMode==un.UsingDataFields&&(null!=this.value&&e.add(this.value),null!=this.target&&e.add(this.target),null!=this.series&&e.add(this.series)),e}retrieveUsedDataNames(){return this.dataMode==un.UsingDataFields?Ns.getMany(this.value,this.target,this.series):null}get isDefined(){return null!=this.value||null!=this.target||null!=this.series||this.dataMode==un.ManuallyEnteringData}shouldSerializeLayout(){return null==this.layout||!this.layout.isDefault()}shouldSerializeDataTransformation(){return null==this.transformActions||this.transformActions.any()||null==this.transformFilters||this.transformFilters.any()||null==this.transformSorts||this.transformSorts.any()}isDefaultDataTransformation(){return!this.shouldSerializeDataTransformation()}get style(){return this._style}set style(e){(this._style=e)!=o.Custom&&(this.customStyleName="")}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break}}getString(e){switch(e){case"Title.Text":return this.title.text}throw new Error(`Property with name `+e)}getAllStrings(){return["Title.Text"]}get toolboxPosition(){return je.IndicatorElement}get localizedName(){return S.get("Components","StiIndicator")}get shouldSerializeDashboardInteraction(){return null==this.dashboardInteraction||!this.dashboardInteraction.isDefault()}shouldSerializeGlyphColor(){return!N.transparent.equals(this.foreColor)}shouldSerializeConditions(){return null==this.indicatorConditions||0<this.indicatorConditions.length}getNestedPages(){if(null==this.dashboardInteraction||this.dashboardInteraction.onClick==Fr.None)return null;let t=this.dashboardInteraction.drillDownPageKey;if(K.isEmptyKey(t))return null;var e=this.report.pages.toList().firstOrDefault(e=>e.guid==t);if(null==e)return null;return new le([e])}createNew(){return new Bu}}B.T.StiIndicatorElement=Bu}let Ea=se.Report.Dashboard.IStiIndicatorElementCondition,ka=se.Report.Dashboard.StiIndicatorFieldCondition,La=se.Report.Dashboard.StiIndicatorConditionPermissions;{class zc{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d,c){this.iconColor=N.fromArgb(68,114,196),this.icon=yt.Rating4,this.targetIconColor=N.fromArgb(68,114,196),this.targetIcon=yt.Rating4,this.condition=Pn.EqualTo,this.field=ka.Value,this.permissions=La.All,this.textColor=N.black,this.backColor=N.transparent,this.font=new z("Arial",8),this.iconAlignment=At.Right,this.targetIconAlignment=At.Right,null!=e&&(this.field=e),null!=t&&(this.condition=t),null!=r&&(this.value=r),null!=n&&(this.targetIcon=n),null!=l&&(this.targetIconColor=l),null!=i&&(this.icon=i),null!=s&&(this.iconColor=s),null!=a&&(this.customIcon=a),null!=o&&(this.iconAlignment=o),null!=u&&(this.targetIconAlignment=u),null!=h&&(this.permissions=h),null!=m&&(this.font=m),null!=d&&(this.textColor=d),null!=c&&(this.backColor=c)}implements(){return zc.ImplementsStiIndicatorElementCondition||(zc.ImplementsStiIndicatorElementCondition=[bt,Ea,l]),zc.ImplementsStiIndicatorElementCondition}meta(){return this._hash||(this._hash=[new R("Ident").get(()=>this.stimulsoft().getType().stimulsoft().getTypeName()),new i("Condition","",Pn,Pn.EqualTo),new i("Field","",ka,ka.Value),new n("Value"),new t("IconColor","",N.fromArgb(68,114,196)),new i("Icon","",yt,yt.Rating4),new t("TargetIconColor","",N.fromArgb(68,114,196)),new i("TargetIcon","",yt,yt.Rating4),new R("CustomIcon").check(()=>null!=this.customIcon).get(()=>Aa.toBase64String(this.customIcon)).set(e=>this.customIcon=Aa.fromBase64String(e.value.toString())).setXml(e=>this.customIcon=Aa.fromBase64String(e.textContent)),new i("Permissions","",La,La.All),new n("Font").get(()=>a.Serialize.fontArial8(this.font)).set(e=>this.font=a.Deserialize.font(e.value,this.font)).setXml(e=>this.font=se.System.Convert.toFont(e.textContent)),new t("TextColor","",N.black),new t("BackColor","",N.transparent),new i("IconAlignment","",At,At.Right),new i("TargetIconAlignment","",At,At.Right)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}static createFromJson(e){let t=new zc;return t.loadFromJsonObject(e),t}static createFromXml(e){let t=new zc;return t.loadFromXml(e),t}}B.T.StiIndicatorElementCondition=zc}let Va=se.Report.Dashboard.ImplementsStiIndicatorIconRange,Ba=se.Report.Dashboard.IStiIndicatorIconRange;{class Hc{constructor(e,t,r){this.icon=yt.Rating4,this.startExpression="0",this.endExpression="100",null!=e&&(this.icon=e),null!=t&&(this.startExpression=t),null!=r&&(this.endExpression=r)}implements(){return Hc.ImplementsStiIndicatorIconRange||(Hc.ImplementsStiIndicatorIconRange=[l,Ba,...Va,bt]),Hc.ImplementsStiIndicatorIconRange}clone(){return this.stimulsoft().memberwiseClone()}meta(){return this._hash||(this._hash=[new n("StartExpression"),new n("EndExpression"),new i("Icon","",yt)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}static loadFromJson(e){let t=new Hc;return t.loadFromJsonObject(e),t}static loadFromXml(e){let t=new Hc;return t.loadFromXml(e),t}saveToString(){return this.saveToJsonObject(Me.Report).serialize()}getStringRepresentation(){return this.startExpression+` - `+this.endExpression}}B.T.StiIndicatorIconRange=Hc}let Na=se.Report.Dashboard.ImplementsIStiListBoxElement,Pa=se.Report.Dashboard.IStiListBoxElement;{tt.add("StiListBoxElement","Stimulsoft.Dashboard.Export.Tools.StiListBoxElementExportTool");class Ih extends B.e.StiElement{constructor(e=P.empty){super(e),this.group="",this._style=o.Auto,this.customStyleName="",this.showAllValue=!1,this.showBlanks=!1,this.selectionMode=Zn.One,this.orientation=As.Vertical,this.title=new B.e.StiTitle,this.shadow=new Ne,this.cornerRadius=new h(0),this.userFilters=new le,this.transformActions=new le,this.transformFilters=new le,this.transformSorts=new le,this.dataTransformation={},this.dataFilters=new le,this.font=new z("Arial",8),this.foreColor=N.transparent,this.textFormat=new Bt,this.defaultClientRectangle=new P(0,0,200,300),this.helpUrl="user-manual/dashboards_data_filtering_list_box.htm",this.title.text=this.localizedName,this.title.visible=!1}implements(){return Ih.ImplementsStiListBoxElement||(Ih.ImplementsStiListBoxElement=super.implements().concat([Pa,Pe,Be,be,Es,...Na,...Oe,...Ve,...Bs,l])),Ih.ImplementsStiListBoxElement}clone(e){var e,e;let t=super.clone(e);return t.keyMeter=null!=this.keyMeter?this.keyMeter.clone():null,t.nameMeter=null!=this.nameMeter?this.nameMeter.clone():null,t.userFilters=this.userFilters.select(e=>e.clone()).toList(),t.transformActions=this.transformActions.select(e=>e.clone()).toList(),t.transformFilters=this.transformFilters.select(e=>e.clone()).toList(),t.transformSorts=this.transformSorts.select(e=>e.clone()).toList(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.textFormat=this.textFormat.clone(),t.title=null!=this.title?this.title.clone():null,t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}get componentId(){return Z.StiListBoxElement}meta(){return this._hash||(this._hash=[...super.meta(),new n("ParentKey"),new s("TransformActions").get(e=>a.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Dn.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Dn.loadFromXml(e)))),new s("TransformFilters").get(e=>a.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new s("TransformSorts").get(e=>a.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Mn.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Mn.loadFromXml(e)))),new s("DataFilters").get(e=>a.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new t("ForeColor","",N.transparent),new n("Font").get(()=>a.Serialize.fontArial8(this.font)).set(e=>this.font=a.Deserialize.font(e.value,this.font)).setXml(e=>this.font=se.System.Convert.toFont(e.textContent)),new u("ShowAllValue"),new u("ShowBlanks"),new i("SelectionMode","",Zn,Zn.One).set(e=>{var e=ge.parse(Zn,e.value);null!=e&&(this.selectionMode=e)}).setXml(e=>{var e=ge.parse(Zn,e.textContent);null!=e&&(this.selectionMode=e)}),new i("Orientation","",As,As.Vertical),new s("NameMeter").check(()=>null!=this.nameMeter).set(e=>{var e=c.loadFromJson(e.value).as(rs);null!=e&&(this.nameMeter=e)}).setXml(e=>{var e=c.loadFromXml(e).as(rs);null!=e&&(this.nameMeter=e)}),new s("KeyMeter").check(()=>null!=this.keyMeter).set(e=>{var e=c.loadFromJson(e.value).as(B.P.StiKeyListBoxMeter);null!=e&&(this.keyMeter=e)}).setXml(e=>{var e=c.loadFromXml(e).as(B.P.StiKeyListBoxMeter);null!=e&&(this.keyMeter=e)}),new s("Title").check(()=>null!=this.title).set(e=>this.title=B.e.StiTitle.createFromJsonObject(e.value)).setXml(e=>this.title=B.e.StiTitle.createFromXml(e)),new s("TextFormat").check(()=>!(this.textFormat.is(Bt)||null==this.textFormat)).set(e=>this.textFormat=or.createFromJsonObject(e.value)).setXml(e=>this.textFormat=or.loadFormatFromXml(e,this.report)),new i("Style","",o,o.Auto),new n("Group"),new n("CustomStyleName"),new n("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=h.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=h.tryParse(e.textContent)),new n("Shadow").get(()=>a.Serialize.jShadow(this.shadow)).set(e=>this.shadow=a.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ne.loadFromXml(e.textContent))])}get style(){return this._style}set style(e){(this._style=e)!=o.Custom&&(this.customStyleName="")}fetchAllMeters(){let e=new le;return null!=this.nameMeter&&e.add(this.nameMeter),null!=this.keyMeter&&e.add(this.keyMeter),e}getMeters(){let e=new le;return null!=this.nameMeter&&e.add(this.nameMeter),null!=this.keyMeter&&e.add(this.keyMeter),e}retrieveUsedDataNames(){return Ns.getMany(this.nameMeter,this.keyMeter)}get isDefined(){return null!=this.nameMeter||null!=this.keyMeter}getParentKey(){return this.parentKey}setParentKey(e){this.parentKey=e}applyDefaultFilters(){return se.tsfb(this,void 0,void 0,function*(){var e=yield B.P.StiListBoxHelper.fetchDefaultUserFilters(this);null!=e&&(this.userFilters=e)})}addKeyMeter2(e){this.keyMeter=null!=e?d.ListBox.getKey2(e):null}addKeyMeter(e){this.keyMeter=null!=e?d.ListBox.getKey(e.as(B.e.StiMeter)):null}getKeyMeter(){return this.keyMeter}removeKeyMeter(){this.keyMeter=null}createNewKeyMeter(){this.keyMeter=new B.P.StiKeyListBoxMeter}addNameMeter2(e){this.nameMeter=null!=e?d.ListBox.getName2(e):null}addNameMeter(e){this.nameMeter=null!=e?d.ListBox.getName(e.as(B.e.StiMeter)):null}getNameMeter(){return this.nameMeter}removeNameMeter(){this.nameMeter=null}createNewNameMeter(){this.nameMeter=new rs}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}createNextMeter(e){null!=this.keyMeter&&null==this.nameMeter?this.nameMeter=d.ListBox.getName2(e):this.keyMeter=d.ListBox.getKey2(e)}convertFrom(e){let t=e.fetchAllMeters();if(null==t)return;let r=t.firstOrDefault(e=>e.is(yr)),i=(null!=(r=null==r?t.firstOrDefault(e=>e.is(pt)):r)&&(this.keyMeter=null==this.keyMeter?new B.P.StiKeyListBoxMeter:this.keyMeter,this.keyMeter.loadFromJsonObject(r.saveToJsonObject(Me.Report))),t.firstOrDefault(e=>e.is(yr)));null!=(i=null==i?t.firstOrDefault(e=>e.is(Ie)):i)&&(this.nameMeter=null==this.nameMeter?new rs:this.nameMeter,this.nameMeter.loadFromJsonObject(i.saveToJsonObject(Me.Report)))}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&8==this.font.sizeInPoints&&this.font.style==L.Regular)}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}shouldSerializeTextFormat(){return!this.textFormat.is(Bt)}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break}}getString(e){switch(e){case"Title.Text":return this.title.text}throw new Error(`Property with name `+e)}getAllStrings(){return["Title.Text"]}get toolboxPosition(){return je.ListBoxElement}get localizedName(){return w.get("Components","StiListBox")}createNew(){return new Ih}}B.P.StiListBoxElement=Ih}B.P.StiListBoxHelper=class{static fetchItems(e,t,r){if(null==t||t==ct.nullTable||0==t.rows.length)return null;let i=this.getNameMeterIndex(t),s=this.getKeyMeterIndex(t);if(-1==i&&1==s)return null;-1==s&&(s=i),-1==i&&(i=s);let n=new le;for(var l of t.rows){var a;if(null==l[s])continue;var o=l[i];!r&&this.isBlank(o)||n.add(new B.P.StiListBoxItem(this.format(e,l[i]),l[s]))}return n}static isBlank(e){return null==e||e==$n.value||"string"==typeof e&&ne.isNullOrEmpty(e)}static fetchDefaultUserFilters(i){return se.tsfb(this,void 0,void 0,function*(){if(i.showAllValue)return null;if(i.selectionMode==Zn.Multi)return null;var e=this.getKeyMeterExpression(i);if(null==e)return null;var t=yield el.getOrCreate(i);let r=this.fetchItems(i,t,i.showBlanks);if(null==r)return null;var t=r.stimulsoft().toList().firstOrDefault().value;return _n.createEqualBasedOnValue(t,e,i).toList()})}static getNameMeterIndex(e){if(null==e)return-1;var t=e.meters.firstOrDefault(e=>e.is(B.P.StiNameListBoxMeter));return null!=t?e.meters.indexOf(t):-1}static getKeyMeterIndex(e){if(null==e)return-1;var t=e.meters.firstOrDefault(e=>e.is(B.P.StiKeyListBoxMeter));return null!=t?e.meters.indexOf(t):-1}static getKeyMeterExpression(e){if(null!=e.keyMeter)return e.keyMeter.expression;if(null!=e.nameMeter)return e.nameMeter.expression;return null}static format(e,t){var r,r;return t instanceof C&&!e.textFormat.is(Lr)?t.toShortDateString():Zr.isEligable(t,null==(r=null==e?void 0:e.report)?void 0:r.culture)?Zr.convert(t,null==(r=null==e?void 0:e.report)?void 0:r.culture):e.textFormat.format(t)}},B.P.StiListBoxItem=class{constructor(e,t=e){this.label=e,this.value=t}toString(){return null!=this.label?this.label:this.value.toString()}};{class Oa extends B.g.StiDashboardInteraction{constructor(e,t,r,i,s,n){super(),this.ident=Mr.OnlineMap,this.availableOnClick=Dr.None,this.availableOnHover=Ir.None,this.availableOnDataManipulation=Ar.None,this.showFullScreenButton=!0,this.showSaveButton=!0,this.showViewDataButton=!0,this.fileName=null,this.headerText=null,this.footerText=null,null!=e&&(this.fileName=e),null!=t&&(this.headerText=t),null!=r&&(this.footerText=r),null!=i&&(this.showFullScreenButton=i),null!=s&&(this.showSaveButton=s),null!=n&&(this.showViewDataButton=n)}implements(){return Oa.ImplementsIStiOnlineMapDashboardInteraction||(Oa.ImplementsIStiOnlineMapDashboardInteraction=super.implements().concat([l,sn])),Oa.ImplementsIStiOnlineMapDashboardInteraction}meta(){return this._hash||(this._hash=[...super.meta(),new u("ShowFullScreenButton","",!0),new u("ShowSaveButton","",!0),new u("ShowViewDataButton","",!0),new n("FileName"),new n("HeaderText"),new n("FooterText")])}get isDefaultLayout(){return this.showFullScreenButton&&this.showSaveButton&&this.showViewDataButton&&null==this.fileName&&null==this.headerText&&null==this.footerText}isDefault(){return this.isDefaultLayout}}B.g.StiOnlineMapDashboardInteraction=Oa}let Oa=B.g.StiOnlineMapDashboardInteraction,za=se.Report.Dashboard.ImplementsIStiOnlineMapElement,Ha=se.Report.Dashboard.IStiOnlineMapElement,Xa=se.Report.Dashboard.StiOnlineMapLocationType,Ga=se.Report.Dashboard.StiOnlineMapCulture,ja=se.Report.Dashboard.StiOnlineMapLocationColorType,Ja=se.Report.Dashboard.StiOnlineMapValueViewMode;{class Nh extends B.e.StiElement{constructor(e=P.empty){super(e),this.group="",this.title=new B.e.StiTitle,this.layout=new Vs,this.transformActions=new le,this.transformFilters=new le,this.transformSorts=new le,this.dataTransformation={},this.dataFilters=new le,this.shadow=new Ne,this.cornerRadius=new h(0),this.helpUrl="user-manual/dashboards_maps_online_map.htm",this.locationType=Xa.Auto,this.culture=Ga.en_US,this.locationColorType=ja.Single,this.valueViewMode=Ja.Bubble,this.locationColor=N.limeGreen,this.icon=yt.MapMarker,this.iconColor=N.maroon,this.crossFiltering=!0,this.title.text=this.localizedName,this.dashboardInteraction=new Oa}implements(){return Nh.ImplementsStiOnlineMapElement||(Nh.ImplementsStiOnlineMapElement=super.implements().concat([Ha,Pe,Be,be,Ls,Hr,Es,...za,...Oe,...Ve,...Bs,...ks,l])),Nh.ImplementsStiOnlineMapElement}clone(e){var e,e;let t=super.clone(e);return t.latitude=null!=this.latitude?this.latitude.clone():null,t.longitude=null!=this.longitude?this.longitude.clone():null,t.location=null!=this.location?this.location.clone():null,t.locationColorMeter=null!=this.locationColorMeter?this.locationColorMeter.clone():null,t.locationValue=null!=this.locationValue?this.locationValue.clone():null,t.locationArgument=null!=this.locationArgument?this.locationArgument.clone():null,t.transformActions=this.transformActions.select(e=>e.clone()).toList(),t.transformFilters=this.transformFilters.select(e=>e.clone()).toList(),t.transformSorts=this.transformSorts.select(e=>e.clone()).toList(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.title=null!=this.title?this.title.clone():null,t.layout=null!=this.layout?this.layout.clone():null,t.locationType=this.locationType,t.culture=this.culture,t.locationColorType=this.locationColorType,t.locationColor=this.locationColor,t.iconColor=this.iconColor,t.icon=this.icon,t.customIcon=null!=this.customIcon?Aa.fromBase64String(Aa.toBase64String(this.customIcon)):null,t.dashboardInteraction=this.dashboardInteraction.clone(),t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new s("TransformActions").get(e=>a.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Dn.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Dn.loadFromXml(e)))),new s("TransformFilters").get(e=>a.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new s("TransformSorts").get(e=>a.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Mn.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Mn.loadFromXml(e)))),new s("DataFilters").get(e=>a.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new s("Title").check(()=>null!=this.title).set(e=>this.title=B.e.StiTitle.createFromJsonObject(e.value)).setXml(e=>this.title=B.e.StiTitle.createFromXml(e)),new s("Layout").check(()=>null!=this.layout).set(e=>this.layout=Vs.createFromJsonObject(e.value)).setXml(e=>this.layout=Vs.createFromXml(e)),new s("Latitude").check(()=>null!=this.latitude).set(e=>this.latitude=c.loadFromJson(e.value).as(B.O.StiLatitudeMapMeter)).setXml(e=>this.latitude=c.loadFromXml(e).as(B.O.StiLatitudeMapMeter)),new s("Longitude").check(()=>null!=this.longitude).set(e=>this.longitude=c.loadFromJson(e.value).as(B.O.StiLongitudeMapMeter)).setXml(e=>this.longitude=c.loadFromXml(e).as(B.O.StiLongitudeMapMeter)),new s("Location").check(()=>null!=this.location).set(e=>this.location=c.loadFromJson(e.value).as(B.O.StiLocationMapMeter)).setXml(e=>this.location=c.loadFromXml(e).as(B.O.StiLocationMapMeter)),new s("LocationColorMeter").check(()=>null!=this.locationColorMeter).set(e=>this.locationColorMeter=c.loadFromJson(e.value).as(B.O.StiLocationColorMapMeter)).setXml(e=>this.locationColorMeter=c.loadFromXml(e).as(B.O.StiLocationColorMapMeter)),new s("LocationArgument").check(()=>null!=this.locationArgument).set(e=>this.locationArgument=c.loadFromJson(e.value).as(B.O.StiLocationArgumentMapMeter)).setXml(e=>this.locationArgument=c.loadFromXml(e).as(B.O.StiLocationArgumentMapMeter)),new s("LocationValue").check(()=>null!=this.locationValue).set(e=>this.locationValue=c.loadFromJson(e.value).as(B.O.StiLocationValueMapMeter)).setXml(e=>this.locationValue=c.loadFromXml(e).as(B.O.StiLocationValueMapMeter)),new n("Group"),new i("Culture","",Ga).set(e=>this.culture=ge.parse(Ga,e.value,!1)).setXml(e=>this.culture=ge.parse(Ga,e.textContent,!1)),new i("LocationType","",Xa),new t("LocationColor","",N.limeGreen),new i("LocationColorType","",ja),new i("ValueViewMode","",Ja),new i("Icon","",yt),new t("IconColor","",N.limeGreen),new u("CrossFiltering","",!0),new n("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=h.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=h.tryParse(e.textContent)),new n("Shadow").get(()=>a.Serialize.jShadow(this.shadow)).set(e=>this.shadow=a.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ne.loadFromXml(e.textContent)),new R("CustomIcon").check(()=>null!=this.customIcon).get(()=>Aa.toBase64String(this.customIcon)).set(e=>this.customIcon=Aa.fromBase64String(e.value.toString())).setXml(e=>this.customIcon=Aa.fromBase64String(e.textContent)),new s("DashboardInteraction").check(()=>null!=this.dashboardInteraction.as(Oa)).set(e=>{var e,e=null==(e=Xr.loadInteractionFromJsonObject(e.value))?void 0:e.as(Oa);null!=e&&(this.dashboardInteraction=e)}).setXml(e=>{var e,e=null==(e=Xr.loadInteractionFromXml(e))?void 0:e.as(Oa);null!=e&&(this.dashboardInteraction=e)})])}get componentId(){return Z.StiOnlineMapElement}shouldSerializeLayout(){return null==this.layout||!this.layout.isDefault()}fetchAllMeters(){let e=new le;return null!=this.latitude&&e.add(this.latitude),null!=this.longitude&&e.add(this.longitude),null!=this.location&&e.add(this.location),null!=this.locationColorMeter&&e.add(this.locationColorMeter),null!=this.locationValue&&e.add(this.locationValue),null!=this.locationArgument&&e.add(this.locationArgument),e}getMeters(){let e=new le;return this.isDefined&&(null!=this.latitude&&e.add(this.latitude),null!=this.longitude&&e.add(this.longitude),null!=this.location&&e.add(this.location),null!=this.locationColorMeter&&e.add(this.locationColorMeter),null!=this.locationValue&&e.add(this.locationValue),null!=this.locationArgument&&e.add(this.locationArgument)),e}retrieveUsedDataNames(){let e=new le;return e.addRange(Ns.getMany(this.latitude)),e.addRange(Ns.getMany(this.longitude)),e.addRange(Ns.getMany(this.location)),e.addRange(Ns.getMany(this.locationColorMeter)),e.addRange(Ns.getMany(this.locationValue)),e.addRange(Ns.getMany(this.locationArgument)),e.distinct().toList()}get isDefined(){return null!=this.latitude||null!=this.longitude||null!=Location||null!=this.locationValue||null!=this.locationColorMeter||null!=this.locationArgument}createNextMeter(e){this.location=d.OnlineMap.getLocation2(e)}addLatitudeMeter2(e){this.latitude=null!=e?d.OnlineMap.getLatitude2(e):null}addLatitudeMeter(e){this.latitude=null!=e?d.OnlineMap.getLatitude(e.as(B.e.StiMeter)):null}getLatitudeMeter(){return this.latitude}removeLatitudeMeter(){this.latitude=null}createNewLatitudeMeter(){this.latitude=new B.O.StiLatitudeMapMeter}addLongitudeMeter2(e){this.longitude=null!=e?d.OnlineMap.getLongitude2(e):null}addLongitudeMeter(e){this.longitude=null!=e?d.OnlineMap.getLongitude(e.as(B.e.StiMeter)):null}getLongitudeMeter(){return this.longitude}removeLongitudeMeter(){this.longitude=null}createNewLongitudeMeter(){this.longitude=new B.O.StiLongitudeMapMeter}addLocationMeter2(e){this.location=null!=e?d.OnlineMap.getLocation2(e):null}addLocationMeter(e){this.location=null!=e?d.OnlineMap.getLocation(e):null}getLocationMeter(){return this.location}removeLocationMeter(){this.location=null}createNewLocationMeter(){this.location=new B.O.StiLocationMapMeter}addLocationColorMeter2(e){this.locationColorMeter=null!=e?d.OnlineMap.getLocationColor2(e):null}addLocationColorMeter(e){this.locationColorMeter=null!=e?d.OnlineMap.getLocationColor(e.as(B.e.StiMeter)):null}getLocationColorMeter(){return this.locationColorMeter}removeLocationColorMeter(){this.locationColor=null}createNewLocationColorMeter(){this.locationColorMeter=new B.O.StiLocationColorMapMeter}addLocationValueMeter2(e){this.locationValue=null!=e?d.OnlineMap.getLocationValue2(e):null}addLocationValueMeter(e){this.locationValue=null!=e?d.OnlineMap.getLocationValue(e.as(B.e.StiMeter)):null}getLocationValueMeter(){return this.locationValue}removeLocationValueMeter(){this.locationValue=null}createNewLocationValueMeter(){this.locationValue=new B.O.StiLocationValueMapMeter}addLocationArgumentMeter(e){this.locationArgument=null!=e?d.OnlineMap.getLocationArgument2(e):null}addLocationArgumentMeter2(e){this.locationArgument=null!=e?d.OnlineMap.getLocationArgument(e):null}getLocationArgumentMeter(){return this.locationArgument}removeLocationArgumentMeter(){this.locationArgument=null}createNewLocationArgumentMeter(){this.locationArgument=new B.O.StiLocationArgumentMapMeter}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}convertFrom(e){let t=e.as(B.L.StiRegionMapElement);null==t||null==t.keyMeter||t.keyMeter.isDefault()||(this.location=new B.O.StiLocationMapMeter,this.location.label=t.keyMeter.label,this.location.expression=t.keyMeter.expression),null==this.dashboardInteraction&&(this.dashboardInteraction=new Oa)}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break}}getString(e){switch(e){case"Title.Text":return this.title.text}throw new Error(`Property with name `+e)}getAllStrings(){return["Title.Text"]}get toolboxPosition(){return je.OnlineMapElement}get localizedName(){return w.get("Components","StiOnlineMap")}get shouldSerializeDashboardInteraction(){return null==this.dashboardInteraction||!this.dashboardInteraction.isDefault()}createNew(){return new Nh}}B.O.StiOnlineMapElement=Nh}let Wa=se.System.Collections.Hashtable;{class Ya{static getSelected(e){let t=this.hash.get(e.key);if(null==t)return null;return t.keys.toList()}static getSelectedObjects(e){let t=this.getSelected(e);return null!=t?t.toList():null}static isSelected(e,t){let r=this.hash.get(e.key);return null==r&&(r=new Wa,this.hash.set(e.key,r)),null!=r.get(t)}static select(e,t){let r=this.hash.get(e.key);null==r&&(r=new Wa,this.hash.set(e.key,r)),r.set(t,t)}static resetSelection(e){this.hash.containsKey(e.key)&&this.hash.remove(e.key)}}Ya.hash=new Wa,B.h.StiPivotTableElementSelection=Ya}{class Ka extends B.g.StiDashboardInteraction{constructor(e,t,r,i,s,n){super(),this.ident=Mr.PivotTable,this.availableOnClick=Dr.None,this.availableOnHover=Ir.None,this.availableOnDataManipulation=Ar.None,this.showFullScreenButton=!0,this.showSaveButton=!0,this.showViewDataButton=!0,this.fileName=null,this.headerText=null,this.footerText=null,null!=e&&(this.fileName=e),null!=t&&(this.headerText=t),null!=r&&(this.footerText=r),null!=i&&(this.showFullScreenButton=i),null!=s&&(this.showSaveButton=s),null!=n&&(this.showViewDataButton=n)}implements(){return Ka.ImplementsIStiPivotTableDashboardInteraction||(Ka.ImplementsIStiPivotTableDashboardInteraction=super.implements().concat([l,sn])),Ka.ImplementsIStiPivotTableDashboardInteraction}meta(){return this._hash||(this._hash=[...super.meta(),new u("ShowFullScreenButton","",!0),new u("ShowSaveButton","",!0),new u("ShowViewDataButton","",!0),new n("FileName"),new n("HeaderText"),new n("FooterText")])}get isDefaultLayout(){return this.showFullScreenButton&&this.showSaveButton&&this.showViewDataButton&&null==this.fileName&&null==this.headerText&&null==this.footerText}isDefault(){return this.isDefaultLayout}}B.g.StiPivotTableDashboardInteraction=Ka}let Ua=se.Report.CrossTab.Core.StiSummaryDirection,Ka=B.g.StiPivotTableDashboardInteraction,qa=se.Report.Dashboard.ImplementsIStiPivotTableElement,Ya=B.h.StiPivotTableElementSelection,Za=se.Report.Dashboard.IStiPivotTableElement;{tt.add("StiPivotTableElement","Stimulsoft.Dashboard.Export.Tools.StiPivotTableElementExportTool");class ah extends B.e.StiElement{constructor(e=P.empty){super(e),this.maxIconSize=50,this.shadow=new Ne,this.cornerRadius=new h(0),this.group="",this.title=new B.e.StiTitle,this.layout=new Vs,this.transformActions=new le,this.transformFilters=new le,this.transformSorts=new le,this.dataTransformation={},this.dataFilters=new le,this.crossFiltering=!0,this._style=o.Auto,this.customStyleName="",this.summaryDirection=Ua.UpToDown,this.helpUrl="user-manual/dashboards_pivot_table.htm",this.columns=new le,this.rows=new le,this.summaries=new le,this.totalLabel="",this.pivotTableConditions=new le,this.title.text=this.localizedName,this.dashboardInteraction=new Ka}implements(){return ah.ImplementsStiPivotTableElement||(ah.ImplementsStiPivotTableElement=super.implements().concat([Za,Pe,Be,be,Ls,Hr,Es,...qa,...Oe,...Ve,...Bs,...ks,l])),ah.ImplementsStiPivotTableElement}clone(e){var e,e;let t=super.clone(e);return t.columns=this.columns.select(e=>e.clone()).toList(),t.rows=this.rows.select(e=>e.clone()).toList(),t.summaries=this.summaries.select(e=>e.clone()).toList(),t.transformActions=this.transformActions.select(e=>e.clone()).toList(),t.transformFilters=this.transformFilters.select(e=>e.clone()).toList(),t.transformSorts=this.transformSorts.select(e=>e.clone()).toList(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.title=null!=this.title?this.title.clone():null,t.layout=null!=this.layout?this.layout.clone():null,t.dashboardInteraction=this.dashboardInteraction.clone(),t.pivotTableConditions=this.pivotTableConditions.select(e=>e.clone()).toList(),t.totalLabel=this.totalLabel,t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new s("TransformActions").get(e=>a.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Dn.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Dn.loadFromXml(e)))),new s("TransformFilters").get(e=>a.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new s("TransformSorts").get(e=>a.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Mn.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Mn.loadFromXml(e)))),new s("DataFilters").get(e=>a.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new s("Columns").get(e=>a.Serialize.objectArray(this.columns,e)).set(e=>this.columns.addRange(e.value.properties().select(e=>c.loadFromJson(e.value).as(Zi)).where(e=>null!=e))).setXml(e=>this.columns.addRange(e.childNodes.select(e=>c.loadFromXml(e)))),new s("Rows").get(e=>a.Serialize.objectArray(this.rows,e)).set(e=>this.rows.addRange(e.value.properties().select(e=>c.loadFromJson(e.value).as(B.N.StiPivotRow)).where(e=>null!=e))).setXml(e=>this.rows.addRange(e.childNodes.select(e=>c.loadFromXml(e)))),new s("Summaries").get(e=>a.Serialize.objectArray(this.summaries,e)).set(e=>this.summaries.addRange(e.value.properties().select(e=>c.loadFromJson(e.value).as(_i)).where(e=>null!=e))).setXml(e=>this.summaries.addRange(e.childNodes.select(e=>c.loadFromXml(e)))),new u("CrossFiltering","",!0),new s("Title").check(()=>null!=this.title).set(e=>this.title=B.e.StiTitle.createFromJsonObject(e.value)).setXml(e=>this.title=B.e.StiTitle.createFromXml(e)),new s("Layout").check(()=>null!=this.layout).set(e=>this.layout=Vs.createFromJsonObject(e.value)).setXml(e=>this.layout=Vs.createFromXml(e)),new i("Style","",o,o.Auto),new n("Group"),new n("CustomStyleName"),new n("TotalLabel"),new s("PivotTableConditions").get(e=>a.Serialize.objectArray(this.pivotTableConditions,e)).set(e=>this.pivotTableConditions.addRange(e.value.properties().select(e=>B.N.StiPivotTableElementCondition.loadFromJson(e.value).as(B.N.StiPivotTableElementCondition)).where(e=>null!=e))).setXml(e=>this.pivotTableConditions.addRange(e.childNodes.select(e=>B.N.StiPivotTableElementCondition.loadFromXml(e)))),new i("SummaryDirection","",Ua,Ua.UpToDown),new n("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=h.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=h.tryParse(e.textContent)),new n("Shadow").get(()=>a.Serialize.jShadow(this.shadow)).set(e=>this.shadow=a.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ne.loadFromXml(e.textContent)),new s("DashboardInteraction").check(()=>null!=this.dashboardInteraction.as(Ka)).set(e=>{var e,e=null==(e=Xr.loadInteractionFromJsonObject(e.value))?void 0:e.as(Ka);null!=e&&(this.dashboardInteraction=e)}).setXml(e=>{var e,e=null==(e=Xr.loadInteractionFromXml(e))?void 0:e.as(Ka);null!=e&&(this.dashboardInteraction=e)})])}get componentId(){return Z.StiPivotTableElement}retrieveUsedDataNames(){let e=Ns.getMany2(this.columns);return e.addRange(Ns.getMany2(this.rows)),e.addRange(Ns.getMany2(this.summaries)),e}fetchAllMeters(){let e=this.columns.cast();return e.addRange(this.rows.cast()),e.addRange(this.summaries.cast()),e}getMeters(){let e=this.columns.cast();return e.addRange(this.rows.cast()),e.addRange(this.summaries.cast()),e}get isDefined(){return null!=this.columns&&0<this.columns.length||null!=this.rows&&0<this.rows.length||null!=this.summaries&&0<this.summaries.length}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}shouldSerializeLayout(){return null==this.layout||!this.layout.isDefault()}get style(){return this._style}set style(e){(this._style=e)!=o.Custom&&(this.customStyleName="")}createNextMeter(e){0==this.columns.length?this.columns.add(d.Pivot.getColumn2(e)):0==this.rows.length?this.rows.add(d.Pivot.getRow2(e)):0==this.summaries.length?this.summaries.add(d.Pivot.getSummary2(e)):this.columns.add(d.Pivot.getColumn2(e))}createNewColumn(){this.columns.add(new Zi)}getColumn2(e){return null!=e?d.Pivot.getColumn2(e):null}getColumn(e){return null!=e?d.Pivot.getColumn(e.as(B.e.StiMeter)):null}getColumnByIndex(e){return e<this.columns.length?this.columns[e]:null}insertColumn(e,t){var t=t.as(Zi);null!=t&&(0<=e&&e<this.columns.length?this.columns.insert(e,t):this.columns.add(t))}removeColumn(e){e<this.columns.length&&this.columns.removeAt(e)}removeAllColumns(){this.columns.clear()}createNewRow(){this.rows.add(new B.N.StiPivotRow)}getRow2(e){return null!=e?d.Pivot.getRow2(e):null}getRow(e){return null!=e?d.Pivot.getRow(e.as(B.e.StiMeter)):null}getRowByIndex(e){return e<this.rows.length?this.rows[e]:null}insertRow(e,t){var t=t.as(B.N.StiPivotRow);null!=t&&(0<=e&&e<this.rows.length?this.rows.insert(e,t):this.rows.add(t))}removeRow(e){e<this.rows.length&&this.rows.removeAt(e)}removeAllRows(){this.rows.clear()}createNewSummary(){let e=new _i;e.expression="Sum()",this.summaries.add(e)}getSummary2(e){return null!=e?d.Pivot.getSummary2(e):null}getSummary(e){return null!=e?d.Pivot.getSummary(e.as(B.e.StiMeter)):null}getSummaryByIndex(e){return e<this.summaries.length?this.summaries[e]:null}insertSummary(e,t){var t=t.as(_i);null!=t&&(0<=e&&e<this.summaries.length?this.summaries.insert(e,t):this.summaries.add(t))}removeSummary(e){e<this.summaries.length&&this.summaries.removeAt(e)}removeAllSummaries(){this.summaries.clear()}
addPivotTableCondition(e,t,r,i,s,n,l,a,o,u,h,m){this.pivotTableConditions.add(new B.N.StiPivotTableElementCondition(e,t,r,i,s,n,l,a,o,u,h,m))}getAllMeters(){let e=new le;return e.addRange(this.columns),e.addRange(this.rows),e.addRange(this.summaries),e}fetchPivotTableConditions(){let e=new le;return null!=this.pivotTableConditions&&e.addRange(this.pivotTableConditions),e}clearPivotTableConditions(){this.pivotTableConditions.clear()}convertFrom(e){let t=e.fetchAllMeters();if(this.columns.clear(),this.rows.clear(),this.summaries.clear(),null==t)return;let r=0;t.cast().forEach(t=>{if(t.is2(Ie))if(0==(1&r)){let e=new Zi;e.loadFromJsonObject(t.saveToJsonObject(Me.Report)),this.columns.add(e)}else{let e=new B.N.StiPivotRow;e.loadFromJsonObject(t.saveToJsonObject(Me.Report)),this.rows.add(e)}else if(t.is2(pt)){let e=new _i;e.loadFromJsonObject(t.saveToJsonObject(Me.Report)),this.summaries.add(e)}},this),null==this.dashboardInteraction&&(this.dashboardInteraction=new Ka)}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break;case"TotalLabel":this.totalLabel=t;break}let r=0;for(var i of this.columns){var s;e==`Column${r++}.Label`&&(i.label=t)}r=0;for(var n of this.rows){var l;e==`Row${r++}.Label`&&(n.label=t)}}getString(e){switch(e){case"Title.Text":return this.title.text;case"TotalLabel":return this.totalLabel}let t=0;for(var r of this.columns){var i;if(e==`Column${t++}.Label`)return r.label}t=0;for(var s of this.rows){var n;if(e==`Row${t++}.Label`)return s.label}throw new Error(`Property with name `+e)}getAllStrings(){let t=["Title.Text","TotalLabel"],r=0;return this.columns.forEach(e=>t.push(`Column${r++}.Label`)),r=0,this.rows.forEach(e=>t.push(`Row${r++}.Label`)),t}get toolboxPosition(){return je.PivotTableElement}get localizedName(){return S.get("Components","StiPivotTable")}get shouldSerializeDashboardInteraction(){return null==this.dashboardInteraction||!this.dashboardInteraction.isDefault()}shouldSerializeColumns(){return null==this.columns||0<this.columns.length}shouldSerializeRows(){return null==this.rows||0<this.rows.length}shouldSerializeSummaries(){return null==this.summaries||0<this.summaries.length}shouldSerializeConditions(){return null==this.pivotTableConditions||0<this.pivotTableConditions.length}createNew(){return new ah}getFormatObjects(){return Ya.getSelectedObjects(this)}}B.N.StiPivotTableElement=ah}let Qa=se.Report.Components.StiConditionPermissions,_a=se.Base.StiScale,$a=se.Report.Dashboard.IStiPivotTableElementCondition;{let d=B.a.StiFilterDataType,c=B.a.StiFilterCondition;class Xc{constructor(e,t,r,i,s,n,l,a,o,u,h,m){this.textColor=N.black,this.backColor=N.transparent,this.font=new z("Arial",8),this.permissions=Qa.All,this.icon=yt.Adjust,this.iconAlignment=At.None,this.condition=c.EqualTo,this.dataType=d.Numeric,this.iconColor=N.maroon,null!=e&&(this.keyValueMeter=e),null!=t&&(this.dataType=t),null!=r&&(this.condition=r),null!=i&&(this.value=i),null!=s&&(this.font=s),null!=n&&(this.textColor=n),null!=l&&(this.backColor=l),null!=a&&(this.permissions=a),null!=o&&(this.icon=o),null!=u&&(this.iconAlignment=u),null!=h&&(this.customIcon=h),null!=m&&(this.iconColor=m)}implements(){return Xc.ImplementsStiPivotTableElementCondition||(Xc.ImplementsStiPivotTableElementCondition=[$a,l]),Xc.ImplementsStiPivotTableElementCondition}is(e){if(e instanceof se.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}clone(){var e=this.saveToJsonObject(null);let t=new Xc;return t.loadFromJsonObject(e),t}meta(){return this._hash||(this._hash=[new R("Ident").get(()=>"StiPivotTableElementCondition"),new n("KeyValueMeter"),new i("Condition","",c),new i("DataType","",d),new n("Value"),new t("TextColor","",N.black),new t("BackColor","",N.transparent),new wt("Font"),new i("Permissions","",Qa),new i("IconAlignment","",At),new t("IconColor","",N.maroon),new i("Icon","",yt),new R("CustomIcon").check(()=>null!=this.customIcon).get(()=>Aa.toBase64String(this.customIcon)).set(e=>this.customIcon=Aa.fromBase64String(e.value.toString())).setXml(e=>this.customIcon=Aa.fromBase64String(e.textContent))])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}static loadFromJson(e){let t=new Xc;return t.loadFromJsonObject(e),t}static loadFromXml(e){let t=new Xc;return t.loadFromXml(e),t}get iconFontSize(){return 18*_a.factor}get customIcon(){return this._customIcon}set customIcon(e){this._customIcon=e,this._iconSize=null}isDefault(){return this.textColor.equals(N.black)&&this.condition==se.Report.Components.StiFilterCondition.EqualTo&&this.dataType==se.Report.Components.StiFilterDataType.Numeric&&""==this.value&&""==this.keyValueMeter}get iconSize(){try{if(null==this._iconSize&&null!=this.customIcon){let e=new ga;e.bytes=this.customIcon,this._iconSize=new ue(e.width,e.height)}else null==this._iconSize&&(this._iconSize=new ue(this.iconFontSize,this.iconFontSize))}catch(e){}return this._iconSize}getIcon(){return se.tsfb(this,void 0,void 0,function*(){var e;return null!=this.customIcon?this.customIcon:(yield Ca.convertFontIconToImageAsync(this.icon,this.iconColor,this.iconFontSize,this.iconFontSize,"0.9em")).bytes})}getUniqueCode(){return 0}}B.N.StiPivotTableElementCondition=Xc}B.aa.StiPivotColumnConverter=class extends e{},B.aa.StiPivotRowConverter=class extends e{},B.aa.StiPivotSummaryConverter=class extends e{};{class eo extends B.g.StiDashboardInteraction{constructor(e,t,r,i,s,n,l){super(),this.ident=Mr.Progress,this.availableOnClick=Dr.None,this.availableOnHover=Ir.None,this.availableOnDataManipulation=Ar.AllowSorting,this.allowUserSorting=!0,this.showFullScreenButton=!0,this.showSaveButton=!0,this.showViewDataButton=!0,this.fileName=null,this.headerText=null,this.footerText=null,null!=e&&(this.fileName=e),null!=t&&(this.headerText=t),null!=r&&(this.footerText=r),null!=i&&(this.showFullScreenButton=i),null!=s&&(this.showSaveButton=s),null!=n&&(this.allowUserSorting=n),null!=l&&(this.showViewDataButton=l)}implements(){return eo.ImplementsIStiProgressDashboardInteraction||(eo.ImplementsIStiProgressDashboardInteraction=super.implements().concat([rn,l,sn])),eo.ImplementsIStiProgressDashboardInteraction}meta(){return this._hash||(this._hash=[...super.meta(),new u("AllowUserSorting","",!0),new u("ShowFullScreenButton","",!0),new u("ShowSaveButton","",!0),new u("ShowViewDataButton","",!0),new n("FileName"),new n("HeaderText"),new n("FooterText")])}get isDefaultLayout(){return this.showFullScreenButton&&this.showSaveButton&&this.showViewDataButton&&null==this.fileName&&null==this.headerText&&null==this.footerText}isDefault(){return this.isDefaultLayout&&this.allowUserSorting}}B.g.StiProgressDashboardInteraction=eo}let eo=B.g.StiProgressDashboardInteraction,to=se.Report.Dashboard.ImplementsIStiProgressElement,ro=se.Report.Dashboard.StiProgressElementMode,io=se.Report.Dashboard.IStiProgressElement;{class Bh extends B.e.StiElement{constructor(e=P.empty){super(e),this.group="",this.dataMode=un.UsingDataFields,this.textFormat=new Bt,this.font=new z("Arial",13),this.foreColor=N.transparent,this.title=new B.e.StiTitle,this.layout=new Vs,this.shadow=new Ne,this.cornerRadius=new h(0),this.transformActions=new le,this.transformFilters=new le,this.transformSorts=new le,this.topN=new di,this.dataTransformation={},this.crossFiltering=!0,this.dataFilters=new le,this.userSorts=new le,this._style=o.Auto,this.customStyleName="",this.seriesColors=[],this.defaultClientRectangle=new P(0,0,160,160),this.helpUrl="user-manual/dashboards_progress.htm",this.colorEach=!0,this.mode=ro.Circle,this.progressConditions=new le,this.isSampleForStyles=!1,this.title.text=this.localizedName,this.dashboardInteraction=new eo}implements(){return Bh.ImplementsStiProgressElement||(Bh.ImplementsStiProgressElement=super.implements().concat([hr,Pe,Be,io,be,Qt,ur,Ls,Hr,Es,Ds,va,...jr,...Oe,...Ve,...to,...Bs,...Ut,...lr,...ks,...bn,...Ma,l])),Bh.ImplementsStiProgressElement}clone(e){var e,e;let t=super.clone(e);return t.value=null!=this.value?this.value.clone():null,t.target=null!=this.target?this.target.clone():null,t.series=null!=this.series?this.series.clone():null,t.userSorts=this.userSorts.select(e=>e.clone()).toList(),t.transformActions=this.transformActions.select(e=>e.clone()),t.transformFilters=this.transformFilters.select(e=>e.clone()),t.transformSorts=this.transformSorts.select(e=>e.clone()),t.dataFilters=this.dataFilters.select(e=>e.clone()),t.topN=this.topN.clone(),t.textFormat=this.textFormat.clone(),t.title=null!=this.title?this.title.clone():null,t.layout=null!=this.layout?this.layout.clone():null,t.seriesColors=null!=this.seriesColors?this.seriesColors.stimulsoft().clone():null,t.progressConditions=this.progressConditions.select(e=>e.clone()).toList(),t.dashboardInteraction=this.dashboardInteraction.clone(),t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new s("UserSorts").get(e=>a.Serialize.objectArray(this.userSorts,e)).set(e=>this.userSorts.addRange(e.value.properties().select(e=>Mn.loadFromJson(e.value)))).setXml(e=>this.userSorts.addRange(e.childNodes.select(e=>Mn.loadFromXml(e)))),new s("TransformActions").get(e=>a.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Dn.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Dn.loadFromXml(e)))),new s("TransformFilters").get(e=>a.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new s("TransformSorts").get(e=>a.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Mn.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Mn.loadFromXml(e)))),new s("DataFilters").get(e=>a.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new s("TopN").check(()=>null!=this.topN).set(e=>this.topN=di.createFromJsonObject(e.value)).setXml(e=>this.topN=di.createFromXml(e)),new s("TextFormat").check(()=>null!=this.textFormat).set(e=>this.textFormat=or.createFromJsonObject(e.value)).setXml(e=>this.textFormat=or.loadFormatFromXml(e,this.report)),new s("Value").check(()=>null!=this.value).set(e=>{var e=c.loadFromJson(e.value).as(B.M.StiValueProgressMeter);null!=e&&(this.value=e)}).setXml(e=>{var e=c.loadFromXml(e).as(B.M.StiValueProgressMeter);null!=e&&(this.value=e)}),new s("Target").check(()=>null!=this.target).set(e=>{var e=c.loadFromJson(e.value).as(qi);null!=e&&(this.target=e)}).setXml(e=>{var e=c.loadFromXml(e).as(qi);null!=e&&(this.target=e)}),new s("Series").check(()=>null!=this.series).set(e=>{var e=c.loadFromJson(e.value).as(B.M.StiSeriesProgressMeter);null!=e&&(this.series=e)}).setXml(e=>{var e=c.loadFromXml(e).as(B.M.StiSeriesProgressMeter);null!=e&&(this.series=e)}),new s("Title").check(()=>null!=this.title).set(e=>this.title=B.e.StiTitle.createFromJsonObject(e.value)).setXml(e=>this.title=B.e.StiTitle.createFromXml(e)),new s("Layout").check(()=>null!=this.layout).set(e=>this.layout=Vs.createFromJsonObject(e.value)).setXml(e=>this.layout=Vs.createFromXml(e)),new t("ForeColor","",N.transparent),new n("Font").get(()=>a.Serialize.fontArial8(this.font)).set(e=>this.font=a.Deserialize.font(e.value,this.font)).setXml(e=>this.font=se.System.Convert.toFont(e.textContent)),new i("DataMode","",un,un.UsingDataFields),new n("ManuallyEnteredData"),new s("SeriesColors").get(e=>a.Serialize.colorArray(this.seriesColors)).set(e=>this.seriesColors=a.Deserialize.colorArray(e)).setXml(e=>this.seriesColors=Ms.convertStringToColorArray(e.textContent)),new i("Mode","",ro,ro.Circle),new i("Style","",o,o.Auto),new n("CustomStyleName"),new n("Group"),new u("ColorEach","",!0),new s("ProgressConditions").get(e=>a.Serialize.objectArray(this.progressConditions,e)).set(e=>this.progressConditions.addRange(e.value.properties().select(e=>B.M.StiProgressElementCondition.createFromJson(e.value)))).setXml(e=>this.progressConditions.addRange(e.childNodes.select(e=>B.M.StiProgressElementCondition.createFromXml(e)))),new u("CrossFiltering","",!0),new n("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=h.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=h.tryParse(e.textContent)),new n("Shadow").get(()=>a.Serialize.jShadow(this.shadow)).set(e=>this.shadow=a.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ne.loadFromXml(e.textContent)),new s("DashboardInteraction").check(()=>null!=this.dashboardInteraction.as(eo)).set(e=>{var e,e=null==(e=Xr.loadInteractionFromJsonObject(e.value))?void 0:e.as(eo);null!=e&&(this.dashboardInteraction=e)}).setXml(e=>{var e,e=null==(e=Xr.loadInteractionFromXml(e))?void 0:e.as(eo);null!=e&&(this.dashboardInteraction=e)})])}get componentId(){return Z.StiProgressElement}addValue2(e){this.value=null!=e?d.Progress.getValue2(e):null}addValue(e){this.value=d.Progress.getValue(e.as(B.e.StiMeter))}removeValue(){this.value=null}getValue(){return this.value}getValue2(e){return null!=e?d.Progress.getValue(e.as(B.e.StiMeter)):null}createNewValue(){this.value=new B.M.StiValueProgressMeter,this.value.expression="Sum()"}addTarget2(e){this.target=null!=e?d.Progress.getTarget2(e):null}addTarget(e){this.target=d.Progress.getTarget(e.as(B.e.StiMeter))}removeTarget(){this.target=null}getTarget(){return this.target}getTarget2(e){return null!=e?d.Progress.getTarget(e.as(B.e.StiMeter)):null}createNewTarget(){this.target=new qi,this.target.expression="Sum()"}addSeries2(e){this.series=null!=e?d.Progress.getSeries2(e):null}addSeries(e){this.series=d.Progress.getSeries(e.as(B.e.StiMeter))}removeSeries(){this.series=null}getSeries(){return this.series}getSeries2(e){return null!=e?d.Progress.getSeries(e.as(B.e.StiMeter)):null}createNewSeries(){this.series=new B.M.StiSeriesProgressMeter}getManuallyEnteredDataTable(){if(this.dataMode!=un.ManuallyEnteringData)return null;return B.e.StiManuallyEnteredDataParser.getProgressDataTable(this.manuallyEnteredData,this)}convertFrom(e){let t=e.fetchAllMeters();if(null==t)return;let r=t.firstOrDefault(e=>e.is(yr)),i=(null!=(r=null==r?t.firstOrDefault(e=>e.is(pt)):r)&&(this.value=null==this.value?new B.M.StiValueProgressMeter:this.value,this.value.loadFromJsonObject(r.saveToJsonObject(Me.Report))),t.firstOrDefault(e=>e.is(Si))),s=(null!=i&&(this.target=null==this.target?new qi:this.target,this.target.loadFromJsonObject(i.saveToJsonObject(Me.Report))),t.firstOrDefault(e=>e.is(pi)));null!=(s=null==s?t.firstOrDefault(e=>e.is(Ie)):s)&&(this.series=null==this.series?new B.M.StiSeriesProgressMeter:this.series,this.series.loadFromJsonObject(s.saveToJsonObject(Me.Report))),null==this.dashboardInteraction&&(this.dashboardInteraction=new eo)}shouldSerializeTextFormat(){return null==this.textFormat||!this.textFormat.is(Bt)}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&13==this.font.sizeInPoints&&this.font.style==L.Regular)}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}shouldSerializeLayout(){return null==this.layout||!this.layout.isDefault()}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}fetchAllMeters(){let e=new le;return this.dataMode==un.UsingDataFields&&(null!=this.value&&e.add(this.value),null!=this.target&&e.add(this.target),null!=this.series&&e.add(this.series)),e}getMeters(){let e=new le;return this.dataMode==un.UsingDataFields&&(null!=this.value&&e.add(this.value),null!=this.target&&e.add(this.target),null!=this.series&&e.add(this.series)),e}retrieveUsedDataNames(){return this.dataMode==un.UsingDataFields?Ns.getMany(this.value,this.target,this.series):null}get isDefined(){return null!=this.value||null!=this.target||null!=this.series||this.dataMode==un.ManuallyEnteringData}shouldSerializeDataTransformation(){return null==this.transformActions||this.transformActions.any()||null==this.transformFilters||this.transformFilters.any()||null==this.transformSorts||this.transformSorts.any()}isDefaultDataTransformation(){return!this.shouldSerializeDataTransformation()}get style(){return this._style}set style(e){(this._style=e)!=o.Custom&&(this.customStyleName="")}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break}}getString(e){switch(e){case"Title.Text":return this.title.text}throw new Error(`Property with name `+e)}getAllStrings(){return["Title.Text"]}get toolboxPosition(){return je.ProgressElement}get localizedName(){return w.get("Components","StiProgress")}addProgressCondition(e,t,r,i,s,n,l,a){this.progressConditions.add(new B.M.StiProgressElementCondition(e,t,r,i,s,n,l,a))}fetchProgressConditions(){let e=new le;return null!=this.progressConditions&&e.addRange(this.progressConditions),e}clearProgressConditions(){this.progressConditions.clear()}get shouldSerializeDashboardInteraction(){return null==this.dashboardInteraction||!this.dashboardInteraction.isDefault()}shouldSerializeConditions(){return null==this.progressConditions||0<this.progressConditions.length}createNew(){return new Bh}}B.M.StiProgressElement=Bh}let so=se.Report.Dashboard.IStiProgressElementCondition,no=se.Report.Dashboard.StiProgressFieldCondition,lo=se.Report.Dashboard.StiProgressConditionPermissions;{class Gc{constructor(e,t,r,i,s,n,l,a){this.condition=Pn.EqualTo,this.field=no.Value,this.permissions=lo.All,this.textColor=N.black,this.color=N.transparent,this.trackColor=N.transparent,this.font=new z("Arial",8),null!=e&&(this.field=e),null!=t&&(this.condition=t),null!=r&&(this.value=r),null!=i&&(this.permissions=i),null!=s&&(this.font=s),null!=n&&(this.textColor=n),null!=l&&(this.color=l),null!=a&&(this.trackColor=a)}implements(){return Gc.ImplementsStiProgressElementCondition||(Gc.ImplementsStiProgressElementCondition=[bt,l,so]),Gc.ImplementsStiProgressElementCondition}meta(){return this._hash||(this._hash=[new R("Ident").get(()=>this.stimulsoft().getType().stimulsoft().getTypeName()),new i("Condition","",Pn,Pn.EqualTo),new i("Field","",no,no.Value),new n("Value"),new t("Color","",N.transparent),new i("Permissions","",lo,lo.All),new n("Font").get(()=>a.Serialize.fontArial8(this.font)).set(e=>this.font=a.Deserialize.font(e.value,this.font)).setXml(e=>this.font=se.System.Convert.toFont(e.textContent)),new t("TextColor","",N.black),new t("TrackColor","",N.transparent)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}clone(){return this.stimulsoft().memberwiseClone()}static createFromJson(e){let t=new Gc;return t.loadFromJsonObject(e),t}static createFromXml(e){let t=new Gc;return t.loadFromXml(e),t}}B.M.StiProgressElementCondition=Gc}{class ao extends B.g.StiDashboardInteraction{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d){super(e,t,r,i,s,n,l),this.ident=Mr.RegionMap,this.availableOnClick=Dr.ApplyFilter|Dr.OpenHyperlink|Dr.ShowDashboard,this.showFullScreenButton=!0,this.showSaveButton=!0,this.showViewDataButton=!0,this.fileName=null,this.headerText=null,this.footerText=null,null!=a&&(this.fileName=a),null!=o&&(this.headerText=o),null!=u&&(this.footerText=u),null!=h&&(this.showFullScreenButton=h),null!=m&&(this.showSaveButton=m),null!=d&&(this.showViewDataButton=d)}implements(){return ao.ImplementsIStiRegionMapDashboardInteraction||(ao.ImplementsIStiRegionMapDashboardInteraction=super.implements().concat([l,sn])),ao.ImplementsIStiRegionMapDashboardInteraction}meta(){return this._hash||(this._hash=[...super.meta(),new u("ShowFullScreenButton","",!0),new u("ShowSaveButton","",!0),new u("ShowViewDataButton","",!0),new n("FileName"),new n("HeaderText"),new n("FooterText")])}get isDefaultLayout(){return this.showFullScreenButton&&this.showSaveButton&&this.showViewDataButton&&null==this.fileName&&null==this.headerText&&null==this.footerText}isDefault(){return this.onHover==xr.ShowToolTip&&this.onClick==Fr.ApplyFilter&&this.hyperlinkDestination==Tr.NewTab&&ne.isNullOrEmpty(this.hyperlink)&&ne.isNullOrEmpty(this.drillDownPageKey)&&null!=this.drillDownParameters&&0==this.drillDownParameters.length&&ne.isNullOrEmpty(this.toolTip)&&this.isDefaultLayout}}B.g.StiRegionMapDashboardInteraction=ao}let ao=B.g.StiRegionMapDashboardInteraction,oo=se.Report.Dashboard.ImplementsIStiRegionMapElement,uo=se.Report.Maps.StiMap,ho=se.Report.Maps.StiDisplayNameType,mo=se.Report.Maps.StiMapType,co=se.Report.Maps.StiMapSource,go=se.Report.Dashboard.IStiRegionMapElement;{tt.add("StiRegionMapElement","Stimulsoft.Dashboard.Export.Tools.StiRegionMapElementExportTool");class Ph extends B.e.StiElement{constructor(e=P.empty){super(e),this.group="",this.shadow=new Ne,this.cornerRadius=new h(0),this.title=new B.e.StiTitle,this.layout=new Vs,this._style=o.Auto,this.customStyleName="",this.userFilters=new le,this.transformActions=new le,this.transformFilters=new le,this.transformSorts=new le,this.dataTransformation={},this.dataFilters=new le,this.helpUrl="user-manual/dashboards_maps_region_map.htm",this.mapIdent="USA",this.dataFrom=co.Manual,this.mapType=mo.Individual,this.showValue=!0,this.shortValue=!0,this.colorEach=!1,this.showBubble=!1,this.showName=ho.Full,this.crossFiltering=!0,this.title.text=this.localizedName,this.dashboardInteraction=new ao}implements(){return Ph.ImplementsStiRegionMapElement||(Ph.ImplementsStiRegionMapElement=super.implements().concat([go,Pe,Be,_,be,Ls,Es,...oo,...Oe,...Ve,...Fn,...Bs,...ks,l,Hr])),Ph.ImplementsStiRegionMapElement}clone(e){var e,e;let t=super.clone(e);return t.keyMeter=null!=this.keyMeter?this.keyMeter.clone():null,t.nameMeter=null!=this.nameMeter?this.nameMeter.clone():null,t.valueMeter=null!=this.valueMeter?this.valueMeter.clone():null,t.groupMeter=null!=this.groupMeter?this.groupMeter.clone():null,t.colorMeter=null!=this.colorMeter?this.colorMeter.clone():null,t.userFilters=this.userFilters.select(e=>e.clone()).toList(),t.transformActions=this.transformActions.select(e=>e.clone()).toList(),t.transformFilters=this.transformFilters.select(e=>e.clone()).toList(),t.transformSorts=this.transformSorts.select(e=>e.clone()).toList(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.title=null!=this.title?this.title.clone():null,t.layout=null!=this.layout?this.layout.clone():null,t.dashboardInteraction=this.dashboardInteraction.clone(),t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new s("TransformActions").get(e=>a.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Dn.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Dn.loadFromXml(e)))),new s("TransformFilters").get(e=>a.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new s("TransformSorts").get(e=>a.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Mn.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Mn.loadFromXml(e)))),new s("DataFilters").get(e=>a.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new s("DashboardInteraction").check(()=>null!=this.dashboardInteraction.as(ao)).set(e=>{var e,e=null==(e=Xr.loadInteractionFromJsonObject(e.value))?void 0:e.as(ao);null!=e&&(this.dashboardInteraction=e)}).setXml(e=>{var e,e=null==(e=Xr.loadInteractionFromXml(e))?void 0:e.as(ao);null!=e&&(this.dashboardInteraction=e)}),new s("Title").check(()=>null!=this.title).set(e=>this.title=B.e.StiTitle.createFromJsonObject(e.value)).setXml(e=>this.title=B.e.StiTitle.createFromXml(e)),new s("Layout").check(()=>null!=this.layout).set(e=>this.layout=Vs.createFromJsonObject(e.value)).setXml(e=>this.layout=Vs.createFromXml(e)),new s("KeyMeter").check(()=>null!=this.keyMeter).set(e=>{var e=c.loadFromJson(e.value).as(Ui);null!=e&&(this.keyMeter=e)}).setXml(e=>{var e=c.loadFromXml(e).as(Ui);null!=e&&(this.keyMeter=e)}),new s("NameMeter").check(()=>null!=this.nameMeter).set(e=>{var e=c.loadFromJson(e.value).as(B.L.StiNameMapMeter);null!=e&&(this.nameMeter=e)}).setXml(e=>{var e=c.loadFromXml(e).as(B.L.StiNameMapMeter);null!=e&&(this.nameMeter=e)}),new s("ValueMeter").check(()=>null!=this.valueMeter).set(e=>{var e=c.loadFromJson(e.value).as(B.L.StiValueMapMeter);null!=e&&(this.valueMeter=e)}).setXml(e=>{var e=c.loadFromXml(e).as(B.L.StiValueMapMeter);null!=e&&(this.valueMeter=e)}),new s("GroupMeter").check(()=>null!=this.groupMeter).set(e=>{var e=c.loadFromJson(e.value).as(B.L.StiGroupMapMeter);null!=e&&(this.groupMeter=e)}).setXml(e=>{var e=c.loadFromXml(e).as(B.L.StiGroupMapMeter);null!=e&&(this.groupMeter=e)}),new s("ColorMeter").check(()=>null!=this.colorMeter).set(e=>{var e=c.loadFromJson(e.value).as(B.L.StiColorMapMeter);null!=e&&(this.colorMeter=e)}).setXml(e=>{var e=c.loadFromXml(e).as(B.L.StiColorMapMeter);null!=e&&(this.colorMeter=e)}),new i("DataFrom","",co,co.Manual),new i("MapType","",mo,mo.Individual),new n("MapData"),new u("ShowValue","",!0),new u("ShortValue","",!0),new u("ColorEach"),new u("ShowBubble"),new i("ShowName","",ho,ho.Full),new i("Style","",o,o.Auto),new n("Group"),new n("Language"),new n("CustomStyleName"),new n(["MapIdent","MapID"]),new u("CrossFiltering","",!0),new n("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=h.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=h.tryParse(e.textContent)),new n("Shadow").get(()=>a.Serialize.jShadow(this.shadow)).set(e=>this.shadow=a.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ne.loadFromXml(e.textContent))])}get componentId(){return Z.StiRegionMapElement}get allowSkipOwnFilter(){return!0}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}fetchAllMeters(){let e=new le;return null!=this.keyMeter&&e.add(this.keyMeter),null!=this.nameMeter&&e.add(this.nameMeter),null!=this.valueMeter&&e.add(this.valueMeter),null!=this.groupMeter&&e.add(this.groupMeter),null!=this.colorMeter&&e.add(this.colorMeter),e}getMeters(){let e=new le;return this.isDefined&&this.dataFrom==co.DataColumns&&(null!=this.keyMeter&&(gs.isFunctionPresent(this.keyMeter.expression)?e.add(this.keyMeter):e.add(new Ui(this.keyMeter.key,`Iso2(${this.keyMeter.expression}, "${this.mapIdent}")`))),null!=this.nameMeter&&e.add(this.nameMeter),null!=this.valueMeter&&(gs.isAggregationFunctionPresent(this.valueMeter.expression)?e.add(this.valueMeter):e.add(new B.L.StiValueMapMeter(this.valueMeter.key,`First(${this.valueMeter.expression})`))),null!=this.groupMeter&&e.add(this.groupMeter),null!=this.colorMeter&&e.add(this.colorMeter)),e}retrieveUsedDataNames(){let e=new le;return this.dataFrom==co.DataColumns&&(e.addRange(Ns.getMany(this.keyMeter)),e.addRange(Ns.getMany(this.nameMeter)),e.addRange(Ns.getMany(this.valueMeter)),e.addRange(Ns.getMany(this.groupMeter)),e.addRange(Ns.getMany(this.colorMeter))),e.distinct()}get isDefined(){return this.dataFrom!=co.DataColumns||null!=this.keyMeter||null!=this.nameMeter||null!=this.valueMeter||null!=this.groupMeter||null!=this.colorMeter}get isQuerable(){return this.dataFrom==co.DataColumns}shouldSerializeLayout(){return null==this.layout||!this.layout.isDefault()}get style(){return this._style}set style(e){(this._style=e)!=o.Custom&&(this.customStyleName="")}createNextMeter(e){null==this.keyMeter?this.keyMeter=d.RegionMap.getKey2(e):null==this.nameMeter?this.nameMeter=d.RegionMap.getName2(e):null==this.valueMeter?this.valueMeter=d.RegionMap.getValue2(e):null==this.groupMeter?this.groupMeter=d.RegionMap.getGroup2(e):null==this.colorMeter?this.colorMeter=d.RegionMap.getColor2(e):this.keyMeter=d.RegionMap.getKey2(e)}addKeyMeter2(e){this.keyMeter=null!=e?d.RegionMap.getKey2(e):null}addKeyMeter(e){this.keyMeter=null!=e?d.RegionMap.getKey(e.as(B.e.StiMeter)):null}getKeyMeter(){return this.keyMeter}removeKeyMeter(){this.keyMeter=null}createNewKeyMeter(){this.keyMeter=new Ui}addNameMeter2(e){this.nameMeter=null!=e?d.RegionMap.getName2(e):null}addNameMeter(e){this.nameMeter=null!=e?d.RegionMap.getName(e.as(B.e.StiMeter)):null}getNameMeter(){return this.nameMeter}removeNameMeter(){this.nameMeter=null}createNewNameMeter(){this.nameMeter=new B.L.StiNameMapMeter}addValueMeter2(e){this.valueMeter=null!=e?d.RegionMap.getValue2(e):null}addValueMeter(e){this.valueMeter=null!=e?d.RegionMap.getValue(e.as(B.e.StiMeter),this.dashboard):null}getValueMeter(){return this.valueMeter}removeValueMeter(){this.valueMeter=null}createNewValueMeter(){this.valueMeter=new B.L.StiValueMapMeter}addGroupMeter2(e){this.groupMeter=null!=e?d.RegionMap.getGroup2(e):null}addGroupMeter(e){this.groupMeter=null!=e?d.RegionMap.getGroup(e.as(B.e.StiMeter)):null}getGroupMeter(){return this.groupMeter}removeGroupMeter(){this.groupMeter=null}createNewGroupMeter(){this.groupMeter=new B.L.StiGroupMapMeter}addColorMeter2(e){this.colorMeter=null!=e?d.RegionMap.getColor2(e):null}addColorMeter(e){this.colorMeter=null!=e?d.RegionMap.getColor(e.as(B.e.StiMeter)):null}getColorMeter(){return this.colorMeter}removeColorMeter(){this.colorMeter=null}createNewColorMeter(){this.colorMeter=new B.L.StiColorMapMeter}convertFrom(e){let t=e.as(B.O.StiOnlineMapElement);null==t||null==t.location||t.location.isDefault()||(this.keyMeter=new Ui,this.keyMeter.label=t.location.label,this.keyMeter.expression=t.location.expression),null==this.dashboardInteraction&&(this.dashboardInteraction=new ao)}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break}}getString(e){switch(e){case"Title.Text":return this.title.text}throw new Error(`Property with name `+e)}getAllStrings(){return["Title.Text"]}get toolboxPosition(){return je.RegionMapElement}get localizedName(){return w.get("Components","StiRegionMap")}get dashboardInteraction(){return this._dashboardInteraction}set dashboardInteraction(e){this._dashboardInteraction=e}get shouldSerializeDashboardInteraction(){return null==this.dashboardInteraction||!this.dashboardInteraction.isDefault()}getNestedPages(){if(null==this.dashboardInteraction||this.dashboardInteraction.onClick==Fr.None)return null;let t=this.dashboardInteraction.drillDownPageKey;if(K.isEmptyKey(t))return null;var e=this.report.pages.toList().firstOrDefault(e=>e.guid==t);if(null==e)return null;return new le([e])}getMapData(){let e=new uo;return e.mapData=this.mapData,e.mapIdent=this.mapIdent,e.page=this.page,e.getMapData()}createNew(){return new Ph}}B.L.StiRegionMapElement=Ph}let po=se.Report.Components.StiShapeTypeService,So=se.Report.Dashboard.ImplementsIStiShapeElement,wo=se.Report.Components.StiRectangleShapeType,fo=se.Report.Dashboard.IStiShapeElement;{tt.add("StiShapeElement","Stimulsoft.Dashboard.Export.Tools.StiShapeElementExportTool");class Mh extends B.e.StiElement{constructor(e=P.empty){super(e),this.helpUrl="user-manual/dashboards_shape.htm",this.title=new An,this.shapeType=new wo,this._size=1,this.fill=new F,this.stroke=N.black,this.title.text=this.localizedName,this.title.visible=!1,this.padding=Ke.create(0)}implements(){return Mh.ImplementsStiShapeElement||(Mh.ImplementsStiShapeElement=super.implements().concat([fo,be,Es,...So,...Bs,l])),Mh.ImplementsStiShapeElement}clone(e){let t=super.clone(e);return t.title=null!=this.title?this.title.clone():null,t}get componentId(){return Z.StiShapeElement}meta(){return this._hash||(this._hash=[...super.meta(),new s("Title").check(()=>null!=this.title),new Dt("Fill"),new t("Stroke","",N.black),new A("Size","",1),new s("ShapeType").set(e=>this.shapeType=po.createFromJsonObject(e.value)).setXml(e=>{this.shapeType=po.convertFromXml(e),this.shapeType.loadFromXml(e)}),new s("Padding").get(e=>this.padding.saveToJsonObject(0,0,0,0))])}get toolboxPosition(){return je.ShapeElement}get localizedName(){return w.get("Components","StiShape")}get isDefined(){return!0}get isQuerable(){return!1}shouldSerializePadding(){return!this.padding.isEmpty}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break}}getString(e){switch(e){case"Title.Text":return this.title.text}throw new Error(`Property with name `+e)}getAllStrings(){return["Title.Text"]}createNew(){return new Mh}get size(){return this._size}set size(e){e!=this._size&&(this._size=e<1?1:e)}}B.X.StiShapeElement=Mh}(Un=jn=B.K.StiDataBarsDirection||(B.K.StiDataBarsDirection={}))[Un["LeftToRight"]=0]="LeftToRight",Un[Un["RighToLeft"]=1]="RighToLeft",(Un=Jn=B.K.StiDataBarsBrushType||(B.K.StiDataBarsBrushType={}))[Un["Solid"]=0]="Solid",Un[Un["Gradient"]=1]="Gradient",(Un=Wn=B.K.StiSparklinesType||(B.K.StiSparklinesType={}))[Un["Line"]=0]="Line",Un[Un["Area"]=1]="Area",Un[Un["Column"]=2]="Column",Un[Un["WinLoss"]=3]="WinLoss",B.K.StiTableColumnVisibilityHelper=class{static getVisible(e,t){if(e.visibility==Rr.True)return!0;if(e.visibility==Rr.False)return!1;if(ne.isNullOrWhiteSpace(e.visibilityExpression))return!1;var e=ht.parse2(e.visibilityExpression,t);return O.tryToBool(e)}};{class Mo{static getSelected(e){let t=this.hash.get(e.key);if(null==t)return null;return t.keys.toList().cast()}static getSelectedObjects(e){let t=this.getSelected(e);return null!=t?t.cast():null}static isSelected(e,t){let r=this.hash.get(e.key);return null==r&&(r=new Wa,this.hash.set(e.key,r)),null!=r.get(t)}static select(e,t){let r=this.hash.get(e.key);null==r&&(r=new Wa,this.hash.set(e.key,r)),r.set(t,t)}static resetSelection(e){this.hash.containsKey(e.key)&&this.hash.remove(e.key)}}Mo.hash=new Wa,B.h.StiTableElementSelection=Mo}let Co=se.Report.Dashboard.IStiAllowUserColumnSelectionDashboardInteraction,bo=se.Report.Dashboard.IStiTableDashboardInteraction,yo=se.Report.Dashboard.IStiAllowUserFilteringDashboardInteraction;{class xo extends B.g.StiDashboardInteraction{constructor(e,t,r,i,s,n,l,a,o,u,h,m,d,c,g,p,S,w){super(e,t,r,i,s,n,l),this.allowUserColumnSelection=!0,this.allowUserSorting=!0,this.allowUserFiltering=!0,this.drillDownFiltered=!0,this.fullRowSelect=!1,this.ident=Mr.Table,this.availableOnClick=Dr.None,this.availableOnHover=Ir.None,this.availableOnDataManipulation=Ar.AllowFiltering|Ar.AllowSorting,this.showFullScreenButton=!0,this.showSaveButton=!0,this.showViewDataButton=!0,this.fileName=null,this.headerText=null,this.footerText=null,null!=u&&(this.allowUserColumnSelection=u),null!=a&&(this.allowUserFiltering=a),null!=o&&(this.allowUserSorting=o),null!=h&&(this.drillDownFiltered=h),null!=m&&(this.fullRowSelect=m),null!=d&&(this.fileName=d),null!=c&&(this.headerText=c),null!=g&&(this.footerText=g),null!=p&&(this.showFullScreenButton=p),null!=S&&(this.showSaveButton=S),null!=w&&(this.showViewDataButton=w)}implements(){return xo.ImplementsIStiTableDashboardInteraction||(xo.ImplementsIStiTableDashboardInteraction=super.implements().concat([bo,rn,Co,yo,l,sn])),xo.ImplementsIStiTableDashboardInteraction}meta(){return this._hash||(this._hash=[...super.meta(),new u("AllowUserColumnSelection","",!0),new u("AllowUserSorting","",!0),new u("AllowUserFiltering","",!0),new u("DrillDownFiltered","",!0),new u("FullRowSelect"),new u("ShowFullScreenButton","",!0),new u("ShowSaveButton","",!0),new u("ShowViewDataButton","",!0),new n("FileName"),new n("HeaderText"),new n("FooterText")])}get isDefaultLayout(){return this.showFullScreenButton&&this.showSaveButton&&this.showViewDataButton&&null==this.fileName&&null==this.headerText&&null==this.footerText}isDefault(){return this.isDefaultLayout&&this.allowUserColumnSelection&&this.allowUserFiltering&&this.allowUserSorting&&this.drillDownFiltered&&!this.fullRowSelect&&super.isDefault()}}B.g.StiTableDashboardInteraction=xo}let vo=se.Report.Dashboard.StiTableConditionPermissions;{class Io{constructor(e,t,r,i,s,n,l,a,o,u){this.keyDataFieldMeters=[],this.keyDestinationMeters=[],this.dataType=se.Report.Components.StiFilterDataType.Numeric,this.condition=se.Report.Components.StiFilterCondition.EqualTo,this.permissions=vo.All,this.font=new z("Arial",8),this.foreColor=N.black,this.backColor=N.transparent,this.isExpression=!1,null!=e&&(this.keyDataFieldMeters=e),null!=t&&(this.keyDestinationMeters=t),null!=r&&(this.dataType=r),null!=i&&(this.condition=i),null!=s&&(this.value=s),null!=n&&(this.permissions=n),null!=l&&(this.font=l),null!=a&&(this.foreColor=a),null!=o&&(this.backColor=o),null!=u&&(this.isExpression=u)}implements(){return Io.ImplementsStiTableElementCondition||(Io.ImplementsStiTableElementCondition=[bt,Ea,l]),Io.ImplementsStiTableElementCondition}meta(){return this._hash||(this._hash=[new R("Ident").get(()=>this.stimulsoft().getType().stimulsoft().getTypeName()),new s("KeyValueMeters").get(()=>a.Serialize.stringArray(this.keyValueMeters)).set(e=>this.keyValueMeters=a.Deserialize.stringArray(e.value)).setXml(e=>this.keyValueMeters=this.parseStringArray(e)),new s("KeyDataFieldMeters").get(()=>a.Serialize.stringArray(this.keyDataFieldMeters)).set(e=>this.keyValueMeters=a.Deserialize.stringArray(e.value)).setXml(e=>this.keyValueMeters=this.parseStringArray(e)),new s("KeyDestinationMeters").get(()=>a.Serialize.stringArray(this.keyDestinationMeters)).set(e=>this.keyDestinationMeters=a.Deserialize.stringArray(e.value)).setXml(e=>this.keyDestinationMeters=this.parseStringArray(e)),new i("DataType","",B.a.StiFilterDataType,B.a.StiFilterDataType.Numeric),new i("Condition","",Pn,Pn.EqualTo),new n("Value"),new u("IsExpression"),new i("Permissions","",vo,vo.All),new n("Font").get(()=>a.Serialize.fontArial8(this.font)).set(e=>this.font=a.Deserialize.font(e.value,this.font)).setXml(e=>this.font=se.System.Convert.toFont(e.textContent)),new t("ForeColor","",N.black),new t("BackColor","",N.transparent)])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}parseStringArray(t){let r=[];for(let e=0;e<t.childNodes.length;e++){var i=t.childNodes[e];"value"==i.nodeName&&(r[e]=i.textContent)}return r}clone(){return this.stimulsoft().memberwiseClone()}get keyValueMeters(){return this.keyDataFieldMeters}set keyValueMeters(e){this.keyDataFieldMeters=e,this.keyDestinationMeters=e}static createFromJson(e){let t=new Io;return t.loadFromJsonObject(e),t}static createFromXml(e){let t=new Io;return t.loadFromXml(e),t}}B.K.StiTableElementCondition=Io}let xo=B.g.StiTableDashboardInteraction,Fo=se.Report.Dashboard.StiTableSizeMode,To=se.Report.Dashboard.ImplementsIStiTableElement,Mo=B.h.StiTableElementSelection,Do=se.Report.Dashboard.IStiTableElement,Io=B.K.StiTableElementCondition;{tt.add("StiTableElement","Stimulsoft.Dashboard.Export.Tools.StiTableElementExportTool");class Lh extends B.e.StiElement{constructor(e=P.empty){super(e),this.shadow=new Ne,this.cornerRadius=new h(0),this.title=new B.e.StiTitle,this.layout=new Vs,this.group="",this.foreColor=N.transparent,this.font=new z("Arial",10),this._style=o.Auto,this.customStyleName="",this.userFilters=new le,this.userSorts=new le,this.transformActions=new le,this.transformFilters=new le,this.transformSorts=new le,this.dataTransformation={},this.dataFilters=new le,this.tableConditions=new le,this.crossFiltering=!0,this.helpUrl="user-manual/dashboards_table.htm",this.columns=new le,this.sizeMode=Fo.AutoSize,this.headerForeColor=N.transparent,this.headerFont=new z("Arial",10),this.footerForeColor=N.transparent,this.footerFont=new z("Arial",10),this.title.text=this.localizedName,this.dashboardInteraction=new xo}implements(){return Lh.ImplementsStiTableElement||(Lh.ImplementsStiTableElement=super.implements().concat([Do,Pe,Be,be,Ls,Es,...To,...Oe,...Ve,...Bs,...ks,l,Hr,_])),Lh.ImplementsStiTableElement}clone(e){var e,e;let t=super.clone(e);return t.columns=this.columns.select(e=>e.clone()).toList(),t.userFilters=this.userFilters.select(e=>e.clone()).toList(),t.userSorts=this.userSorts.select(e=>e.clone()).toList(),t.transformActions=this.transformActions.select(e=>e.clone()).toList(),t.transformFilters=this.transformFilters.select(e=>e.clone()).toList(),t.transformSorts=this.transformSorts.select(e=>e.clone()).toList(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.title=null!=this.title?this.title.clone():null,t.layout=null!=this.layout?this.layout.clone():null,t.tableConditions=this.tableConditions.select(e=>e.clone()).toList(),t.dashboardInteraction=this.dashboardInteraction.clone(),t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}meta(){return this._hash||(this._hash=[...super.meta(),new s("Columns").get(e=>a.Serialize.objectArray(this.columns,e)).set(e=>this.columns.addRange(e.value.properties().select(e=>c.loadFromJson(e.value).as(ns)).where(e=>null!=e))).setXml(e=>this.columns.addRange(e.childNodes.select(e=>c.loadFromXml(e)).where(e=>null!=e))),new s("UserFilters").get(e=>a.Serialize.objectArray(this.userFilters,e)).set(e=>this.userFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.userFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new s("UserSorts").get(e=>a.Serialize.objectArray(this.userSorts,e)).set(e=>this.userSorts.addRange(e.value.properties().select(e=>Mn.loadFromJson(e.value)))).setXml(e=>this.userSorts.addRange(e.childNodes.select(e=>Mn.loadFromXml(e)))),new s("TransformActions").get(e=>a.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Dn.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Dn.loadFromXml(e)))),new s("TransformFilters").get(e=>a.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new s("TransformSorts").get(e=>a.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Mn.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Mn.loadFromXml(e)))),new s("DataFilters").get(e=>a.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new t("HeaderForeColor","",N.transparent),new t("FooterForeColor","",N.transparent),new t("ForeColor","",N.transparent),new n("HeaderFont").get(()=>a.Serialize.fontArial8(this.headerFont)).set(e=>this.headerFont=a.Deserialize.font(e.value,this.headerFont)).setXml(e=>this.headerFont=se.System.Convert.toFont(e.textContent)),new n("FooterFont").get(()=>a.Serialize.fontArial8(this.footerFont)).set(e=>this.footerFont=a.Deserialize.font(e.value,this.footerFont)).setXml(e=>this.footerFont=se.System.Convert.toFont(e.textContent)),new wt("Font","","Arial",10),new u("CrossFiltering","",!0),new s("TableConditions").get(e=>a.Serialize.objectArray(this.tableConditions.select(e=>e.stimulsoft().as(Io)),e)).set(e=>this.tableConditions.addRange(e.value.properties().select(e=>Io.createFromJson(e.value)))).setXml(e=>this.tableConditions.addRange(e.childNodes.select(e=>Io.createFromXml(e)))),new s("Title").check(()=>null!=this.title),new s("Layout").check(()=>null!=this.layout),new s("DashboardInteraction").check(()=>null!=this.dashboardInteraction.as(xo)).set(e=>{var e,e=null==(e=Xr.loadInteractionFromJsonObject(e.value))?void 0:e.as(xo);null!=e&&(this.dashboardInteraction=e)}).setXml(e=>{var e,e=null==(e=Xr.loadInteractionFromXml(e))?void 0:e.as(xo);null!=e&&(this.dashboardInteraction=e)}),new i("Style","",o,o.Auto),new i("SizeMode","",Fo,Fo.AutoSize),new n("Group"),new n("CustomStyleName"),new n("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=h.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=h.tryParse(e.textContent)),new n("Shadow").get(()=>a.Serialize.jShadow(this.shadow)).set(e=>this.shadow=a.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ne.loadFromXml(e.textContent))])}get componentId(){return Z.StiTableElement}createMeters(e){var e=e.as(Lh),t;this.columns.clear();for(t of e.columns)this.columns.add(t)}createMeters2(e){this.columns.clear();for(var t of e.columns.list)null!=t&&null!=t.type&&xe.isNumericType(t.type)?this.columns.add(d.Table.getMeasure2(t)):this.columns.add(d.Table.getDimension2(t))}createMeter3(e){var t=e.as(_r),r=e.as(Ts),r=null!=t?t.type:null==r?void 0:r.type;if(null!=r&&xe.isNumericType(r)){let e=d.Table.getMeasure2(t);e.showTotalSummary=!0,e.summaryType=zr.Sum,this.columns.add(e)}else this.columns.add(d.Table.getDimension2(e))}removeMeter(e){e<this.columns.length&&this.columns.removeAt(e)}removeAllMeters(){this.columns.clear()}insertMeter(e,t){var t=t.as(ns);if(null==t)return;0<=e&&e<this.columns.length?this.columns.insert(e,t):this.columns.add(t)}insertNewDimension(e){let t=new B.K.StiDimensionColumn;t.horAlignment=ae.Left,this.insertMeter(e,t)}insertNewMeasure(e){let t=new B.K.StiMeasureColumn;t.expression="Sum()",t.horAlignment=ae.Right,this.insertMeter(e,t)}getMeasure(e){return d.Table.getMeasure2(e)}getDimension(e){return d.Table.getDimension2(e)}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}convertFrom(e){let t=e.fetchAllMeters();if(this.columns.clear(),null==t)return;t.cast().forEach(e=>{let t=null;e.is2(Ie)?t=new B.K.StiDimensionColumn:e.is2(qr)?t=new B.K.StiSparklinesColumn:e.is2(Kr)?t=new B.K.StiDataBarsColumn:e.is2(Wr)?t=new B.K.StiIndicatorColumn:e.is2(Ur)?t=new B.K.StiColorScaleColumn:e.is2(wr)?t=new B.K.StiBubbleColumn:e.is2(pt)&&((t=new B.K.StiMeasureColumn).horAlignment=ae.Right),null!=t&&(t.loadFromJsonObject(e.saveToJsonObject(Me.Report)),this.columns.add(t))},this),null==this.dashboardInteraction&&(this.dashboardInteraction=new xo)}fetchAllMeters(){return this.columns.cast()}getMeters(){return this.columns.cast()}retrieveUsedDataNames(){return Ns.getMany2(this.columns)}get isDefined(){return null!=this.columns&&0<this.columns.length}shouldSerializeLayout(){return null==this.layout||!this.layout.isDefault()}get allowSkipOwnFilter(){return!this.dashboardInteraction.drillDownFiltered}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&10==this.font.sizeInPoints&&this.font.style==L.Regular)}get style(){return this._style}set style(e){(this._style=e)!=o.Custom&&(this.customStyleName="")}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break}let r=0;for(var i of this.columns){var s;e==`Column${r++}.Label`&&(i.label=t)}}getString(e){switch(e){case"Title.Text":return this.title.text}let t=0;for(var r of this.columns){var i;if(e==`Column${t++}.Label`)return r.label}throw new Error(`Property with name `+e)}getAllStrings(){let t=["Title.Text"],r=0;return this.columns.forEach(e=>t.push(`Column${r++}.Label`)),t}get shouldSerializeDashboardInteraction(){return null==this.dashboardInteraction||!this.dashboardInteraction.isDefault()}addTableCondition(e,t,r,i,s,n,l,a,o,u){null==this.tableConditions&&(this.tableConditions=new le),this.tableConditions.add(new Io(e,t,r,i,s,n,l,a,o,u))}get toolboxPosition(){return je.TableElement}get localizedName(){return w.get("Components","StiTable")}shouldSerializeColumns(){return null==this.columns||0<this.columns.length}shouldSerializeHeaderForeColor(){return!N.transparent.equals(this.headerForeColor)}shouldSerializeHeaderFont(){return!(null!=this.headerFont&&"Arial"==this.headerFont.name&&10==this.headerFont.sizeInPoints&&this.headerFont.style==L.Regular)}shouldSerializeFooterForeColor(){return!N.transparent.equals(this.footerForeColor)}shouldSerializeFooterFont(){return!(null!=this.footerFont&&"Arial"==this.footerFont.name&&10==this.footerFont.sizeInPoints&&this.footerFont.style==L.Regular)}getNestedPages(){var e,t,e,r,t;let i=new le,s="";null!=this.dashboardInteraction&&this.dashboardInteraction.onClick!=Fr.None&&(s=null==(e=this.dashboardInteraction)?void 0:e.drillDownPageKey,K.isKey(s)&&null!=(e=this.report.pages.toList().firstOrDefault(e=>e.guid==s))&&i.add(e));for(r of this.columns){null!=(null===r||void 0===r?void 0:r.dashboardInteraction)&&r.dashboardInteraction.onClick!=Fr.None&&(s=null==(t=null===r||void 0===r?void 0:r.dashboardInteraction)?void 0:t.drillDownPageKey,K.isKey(s)&&null!=(t=this.report.pages.toList().firstOrDefault(e=>e.guid==s))&&i.add(t))}return 0==i.length?null:i.distinct()}getFormatObjects(){return Mo.getSelectedObjects(this)}createNew(){return new Lh}}B.K.StiTableElement=Lh}B.K.StiTableElementConditionHelper=class{static getConditionResult(r,i,s){var e=!1,n;if(null!=r){try{i.dataType==se.Report.Components.StiFilterDataType.Numeric?r=null==r?0:r.stimulsoft().toNumber():i.dataType==B.a.StiFilterDataType.DateTime&&(r=null!=(n=C.fromString(r.toString(),!1))?n:C.fromOADate(r.stimulsoft().toNumber()))}catch(e){}let t=this.getConditionValue(i,s),e=r;if(null!=e&&null!=t){r.stimulsoft().getType()!=t.stimulsoft().getType()&&(r=r.toString(),t=t.stimulsoft().toString(),e=r);try{switch(i.condition){case se.Report.Components.StiFilterCondition.EqualTo:return 0==e.stimulsoft().compareTo(t);case se.Report.Components.StiFilterCondition.NotEqualTo:return 0!=e.stimulsoft().compareTo(t);case se.Report.Components.StiFilterCondition.GreaterThan:return 1==e.stimulsoft().compareTo(t);case se.Report.Components.StiFilterCondition.GreaterThanOrEqualTo:return 0<=e.stimulsoft().compareTo(t);case se.Report.Components.StiFilterCondition.LessThan:return-1==e.stimulsoft().compareTo(t);case se.Report.Components.StiFilterCondition.LessThanOrEqualTo:return e.stimulsoft().compareTo(t)<=0;case se.Report.Components.StiFilterCondition.Containing:{let e=r.toString();var l=t.toString();return-1!=e.indexOf(l)}case se.Report.Components.StiFilterCondition.NotContaining:{let e=r.toString();var a=t.toString();return-1==e.indexOf(a)}case se.Report.Components.StiFilterCondition.BeginningWith:{let e=r.toString();var o=t.toString();return e.stimulsoft().startsWith(o)}case se.Report.Components.StiFilterCondition.EndingWith:{let e=r.toString();var u=t.toString();return e.stimulsoft().endsWith(u)}}}catch(e){}}}return e}static getConditionValue(t,r){try{let e=t.isExpression?ht.parse(`{${t.value}}`,r):t.value;switch(t.dataType){case B.a.StiFilterDataType.String:return e;case B.a.StiFilterDataType.Numeric:return null!=e?e.stimulsoft().toNumber():0;case B.a.StiFilterDataType.DateTime:var i=C.fromString(e);if(null!=i)return i;break;case B.a.StiFilterDataType.Boolean:return"true"==e.toLowerCase()}}catch(e){se.System.StiError.showError("Problem when parsing Table Element "+t+" value\n",!1)}return null}static processBackColor(e,t,r,i,s){for(var n of r.tableConditions.where(e=>0<=e.keyDestinationMeters.indexOf(t)))for(let e=0;e<s.length;e++){var l=s[e],a=i[e];if(0<=n.keyDataFieldMeters.indexOf(l)&&0<(n.permissions&vo.BackColor)&&this.getConditionResult(a,n,r))return n.backColor}return e}static processForeColor(e,t,r,i,s){for(var n of r.tableConditions.where(e=>0<=e.keyDestinationMeters.indexOf(t)))for(let e=0;e<s.length;e++){var l=s[e],a=i[e];if(0<=n.keyDataFieldMeters.indexOf(l)&&0<(n.permissions&vo.ForeColor)&&this.getConditionResult(a,n,r))return n.foreColor}return e}static processFontStyle(e,t,r,i,s){var n=this.processFontBold(e.bold,t,r,i,s),l=this.processFontItalic(e.italic,t,r,i,s),a=this.processFontUnderline(e.underline,t,r,i,s),e=this.processFontStrikeout(e.strikeout,t,r,i,s);let o=L.Regular;return n&&(o^=L.Bold),l&&(o^=L.Italic),a&&(o^=L.Underline),e&&(o^=L.Strikeout),o}static processFontStrikeout(e,t,r,i,s){for(var n of r.tableConditions.where(e=>0<=e.keyDestinationMeters.indexOf(t)))for(let e=0;e<s.length;e++){var l=s[e],a=i[e];if(0<=n.keyDataFieldMeters.indexOf(l)&&0<(n.permissions&vo.FontStyleStrikeout)&&this.getConditionResult(a,n,r))return n.font.strikeout}return e}static processFontUnderline(e,t,r,i,s){for(var n of r.tableConditions.where(e=>0<=e.keyDestinationMeters.indexOf(t)))for(let e=0;e<s.length;e++){var l=s[e],a=i[e];if(0<=n.keyDataFieldMeters.indexOf(l)&&0<(n.permissions&vo.FontStyleUnderline)&&this.getConditionResult(a,n,r))return n.font.underline}return e}static processFontItalic(e,t,r,i,s){for(var n of r.tableConditions.where(e=>0<=e.keyDestinationMeters.indexOf(t)))for(let e=0;e<s.length;e++){var l=s[e],a=i[e];if(0<=n.keyDataFieldMeters.indexOf(l)&&0<(n.permissions&vo.FontStyleItalic)&&this.getConditionResult(a,n,r))return n.font.italic}return e}static processFontBold(e,t,r,i,s){for(var n of r.tableConditions.where(e=>0<=e.keyDestinationMeters.indexOf(t)))for(let e=0;e<s.length;e++){var l=s[e],a=i[e];if(0<=n.keyDataFieldMeters.indexOf(l)&&0<(n.permissions&vo.FontStyleBold)&&this.getConditionResult(a,n,r))return n.font.bold}return e}},B.ab.StiDataBarsColumnConverter=class extends e{},B.ab.StiDimensionColumnConverter=class extends e{},B.ab.StiSparklinesColumnConverter=class extends e{},B.ab.StiTableColumnConverter=class extends e{},B.g.StiTextDashboardInteraction=class extends B.g.StiDashboardInteraction{constructor(e,t,r,i,s,n,l){super(e,t,r,i,s,n,l),this.ident=Mr.Text,this.availableOnClick=Dr.OpenHyperlink|Dr.ShowDashboard,this.onClick=Fr.OpenHyperlink}isDefault(){return this.onHover==xr.ShowToolTip&&this.onClick==Fr.OpenHyperlink&&this.hyperlinkDestination==Tr.NewTab&&ne.isNullOrEmpty(this.hyperlink)&&ne.isNullOrEmpty(this.drillDownPageKey)&&null!=this.drillDownParameters&&0==this.drillDownParameters.length&&ne.isNullOrEmpty(this.toolTip)}};let Ao=se.Report.StiParserType,Ro=B.g.StiTextDashboardInteraction,Eo=se.Report.Dashboard.StiDashboardDesignAssembly,ko=se.Report.Dashboard.ImplementsIStiTextElement,Lo=se.Report.Dashboard.IStiTextElement,Vo=se.Report.Components.IStiTextFont;{tt.add("StiTextElement","Stimulsoft.Dashboard.Export.Tools.StiTextElementExportTool");class kh extends B.e.StiElement{constructor(e=P.empty){super(e),this.title=new B.e.StiTitle,this.shadow=new Ne,this.cornerRadius=new h(0),this.text="",this.group="",this.foreColor=N.transparent,this.crossFiltering=!0,this.vertAlignment=Lt.Center,this.defaultClientRectangle=new P(0,0,100,40),this.helpUrl="user-manual/dashboards_text.htm",this.sizeMode=St.Fit,this.title.text=this.localizedName,this.title.visible=!1,this.padding=Ke.create(0),this.dashboardInteraction=new Ro}implements(){return kh.ImplementsStiTextElement||(kh.ImplementsStiTextElement=super.implements().concat([Vo,Pe,Be,ur,$t,_t,Lo,be,Es,...jr,...Oe,...Ve,...lr,...qt,...Kt,...ko,...Bs,l,Hr])),kh.ImplementsStiTextElement}clone(e){var e,e;let t=super.clone(e);return t.title=null!=this.title?this.title.clone():null,t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}get componentId(){return Z.StiTextElement}meta(){return this._hash||(this._hash=[...super.meta(),new E("HorAlignment"),new E("Padding"),new n("Group"),new s("DashboardInteraction").check(()=>null!=this.dashboardInteraction).set(e=>{var e,e=null==(e=Xr.loadInteractionFromJsonObject(e.value))?void 0:e.as(Ro);null!=e&&(this.dashboardInteraction=e)}).setXml(e=>{var e,e=null==(e=Xr.loadInteractionFromXml(e))?void 0:e.as(Ro);null!=e&&(this.dashboardInteraction=e)}),new s("Padding").get(()=>this.padding.saveToJsonObject(0,0,0,0)),new t("ForeColor","",N.transparent),new n("Text"),new i("VertAlignment","",Lt,Lt.Center),new i("SizeMode","",St,St.Fit),new u("CrossFiltering","",!0),new n("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=h.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=h.tryParse(e.textContent)),new n("Shadow").get(()=>a.Serialize.jShadow(this.shadow)).set(e=>this.shadow=a.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ne.loadFromXml(e.textContent)),new s("Title").check(()=>null!=this.title).set(e=>this.title=B.e.StiTitle.createFromJsonObject(e.value)).setXml(e=>this.title=B.e.StiTitle.createFromXml(e))])}get isDefined(){return!ne.isNullOrWhiteSpace(this.text)}get isQuerable(){return k.Engine.dashboardTextElementExpressionParser==Ao.DataParser&&!ne.isNullOrEmpty(this.text)&&this.text.stimulsoft().contains("{")}fetchAllMeters(){return this.getMeters()}getMeters(){var e;if(k.Engine.dashboardTextElementExpressionParser==Ao.ReportParser)return new le;if(ne.isNullOrEmpty(this.text))return null;return null==(e=gs.fetchBlocksFromExpression(this.text))?void 0:e.select(e=>new B.V.StiTextMeter(e,e,e)).cast().toList();return null}retrieveUsedDataNames(){return k.Engine.dashboardTextElementExpressionParser==Ao.ReportParser?super.retrieveUsedDataNames():Ns.getMany2(this.getMeters()).distinct().toList()}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}getSimpleText(){return this.getHtmlTextHelper().getSimpleText(this.text,he.getForeColor(this))}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}getFont(){let e=this.getHtmlTextHelper();if(null==e)return null;return e.getFont(this,this.text,he.getForeColor(this))}setFontName(e){let t=this.getHtmlTextHelper();null!=t&&(this.text=t.setFontName(this,this.text,e,he.getForeColor(this)))}setFontSize(e){let t=this.getHtmlTextHelper();null!=t&&(this.text=t.setFontSize(this,this.text,e,he.getForeColor(this)))}growFontSize(){let e=this.getHtmlTextHelper();null!=e&&(this.text=e.growFontSize(this,this.text,he.getForeColor(this)))}shrinkFontSize(){let e=this.getHtmlTextHelper();null!=e&&(this.text=e.shrinkFontSize(this,this.text,he.getForeColor(this)))}setFontBoldStyle(e){let t=this.getHtmlTextHelper();null!=t&&(this.text=t.setFontBoldStyle(this,this.text,e,he.getForeColor(this)))}setFontItalicStyle(e){let t=this.getHtmlTextHelper();null!=t&&(this.text=t.setFontItalicStyle(this,this.text,e,he.getForeColor(this)))}setFontUnderlineStyle(e){let t=this.getHtmlTextHelper();null!=t&&(this.text=t.setFontUnderlineStyle(this,this.text,e,he.getForeColor(this)))}get horAlignment(){let e=this.getHtmlTextHelper();return e.getHorAlign(this,this.text,he.getForeColor(this))}set horAlignment(e){this.text=this.getHtmlTextHelper().setHorAlignment(this,this.text,e,he.getForeColor(this))}shouldSerializePadding(){return!this.padding.isEmpty}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break;case"Text":this.text=t;break}}get shouldSerializeDashboardInteraction(){return null==this.dashboardInteraction||!this.dashboardInteraction.isDefault()}getString(e){switch(e){case"Title.Text":return this.title.text;case"Text":return this.text}throw new Error(`Property with name `+e)}getAllStrings(){return["Title.Text","Text"]}get toolboxPosition(){return je.TextElement}get localizedName(){return w.get("Components","StiText")}getNestedPages(){if(null==this.dashboardInteraction||this.dashboardInteraction.onClick==Fr.None)return null;let t=this.dashboardInteraction.drillDownPageKey;if(K.isEmptyKey(t))return null;var e=this.report.pages.toList().firstOrDefault(e=>e.guid==t);if(null==e)return null;return new le([e])}createNew(){return new kh}getHtmlTextHelper(){return Eo.getHtmlTextHelper()}}B.V.StiTextElement=kh}{class jc extends B.e.StiDimensionMeter{constructor(e,t,r){super(e,t,r),this.ident=B.e.StiMeterIdent.TextMeter}implements(){return jc.ImplementsStiTextMeter||(jc.ImplementsStiTextMeter=super.implements().concat([yr])),jc.ImplementsStiTextMeter}get localizedName(){return S.get("PropertyMain","Text")}}B.V.StiTextMeter=jc}B.Z.StiTextConverter=class{},B.J.StiTreeItem=class{constructor(e,t){this.key=e,this.meter=t}toString(){return null==this.key?"":this.key.toString()}};let Bo=se.Report.Dashboard.ImplementsIStiTreeViewElement,No=se.Report.Dashboard.IStiTreeViewElement;{tt.add("StiTreeViewElement","Stimulsoft.Dashboard.Export.Tools.StiTreeViewElementExportTool");class Rh extends B.e.StiElement{constructor(e=P.empty){super(e),this.group="",this.shadow=new Ne,this.cornerRadius=new h(0),this.title=new B.e.StiTitle,this._style=o.Auto,this.customStyleName="",this.userFilters=new le,this.transformActions=new le,this.transformFilters=new le,this.transformSorts=new le,this.dataTransformation={},this.dataFilters=new le,this.font=new z("Arial",8),this.foreColor=N.transparent,this.showAllValue=!1,this.showBlanks=!1,this.selectionMode=Zn.Multi,this.textFormat=new Bt,this.defaultClientRectangle=new P(0,0,200,300),this.helpUrl="user-manual/dashboards_data_filtering_tree_view.htm",this.keyMeters=new le,this.title.text=this.localizedName,this.title.visible=!1}implements(){return Rh.ImplementsStiTreeViewElement||(Rh.ImplementsStiTreeViewElement=super.implements().concat([No,Pe,Be,be,Es,...Bo,...Oe,...Ve,...Bs,l])),Rh.ImplementsStiTreeViewElement}clone(e){var e,e;let t=super.clone(e);return t.keyMeters=this.keyMeters.select(e=>e.clone()).toList(),t.userFilters=this.userFilters.select(e=>e.clone()).toList(),t.transformActions=this.transformActions.select(e=>e.clone()).toList(),t.transformFilters=this.transformFilters.select(e=>e.clone()).toList(),t.transformSorts=this.transformSorts.select(e=>e.clone()).toList(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.textFormat=this.textFormat.clone(),t.title=null!=this.title?this.title.clone():null,t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}get componentId(){return Z.StiTreeViewElement}meta(){return this._hash||(this._hash=[...super.meta(),new n("ParentKey"),new s("TransformActions").get(e=>a.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Dn.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Dn.loadFromXml(e)))),new s("TransformFilters").get(e=>a.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new s("TransformSorts").get(e=>a.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Mn.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Mn.loadFromXml(e)))),new s("DataFilters").get(e=>a.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new t("ForeColor","",N.transparent),new n("Font").get(()=>a.Serialize.fontArial8(this.font)).set(e=>this.font=a.Deserialize.font(e.value,this.font)).setXml(e=>this.font=se.System.Convert.toFont(e.textContent)),new u("ShowAllValue"),new u("ShowBlanks"),new s("KeyMeters").get(e=>a.Serialize.objectArray(this.keyMeters,e)).set(e=>this.keyMeters.addRange(e.value.properties().select(e=>c.loadFromJson(e.value)))).setXml(e=>this.keyMeters.addRange(e.childNodes.select(e=>c.loadFromXml(e)))),new s("Title").check(()=>null!=this.title).set(e=>this.title=B.e.StiTitle.createFromJsonObject(e.value)).setXml(e=>this.title=B.e.StiTitle.createFromXml(e)),new i("SelectionMode","",Zn,Zn.Multi),new i("Style","",o,o.Auto),new n("Group"),new n("CustomStyleName"),new n("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=h.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=h.tryParse(e.textContent)),new n("Shadow").get(()=>a.Serialize.jShadow(this.shadow)).set(e=>this.shadow=a.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ne.loadFromXml(e.textContent)),new s("TextFormat").check(()=>null!=this.textFormat).set(e=>this.textFormat=or.createFromJsonObject(e.value)).setXml(e=>this.textFormat=or.loadFormatFromXml(e,this.report))])}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}getParentKey(){return this.parentKey}setParentKey(e){this.parentKey=e}applyDefaultFilters(){return se.tsfb(this,void 0,void 0,function*(){var e=yield B.J.StiTreeViewHelper.fetchDefaultUserFilters2(this);null!=e&&(this.userFilters=e)})}get style(){return this._style}set style(e){(this._style=e)!=o.Custom&&(this.customStyleName="")}fetchAllMeters(){let e=new le;return e.addRange(this.keyMeters),e}getMeters(){let e=new le;return e.addRange(this.keyMeters),e}retrieveUsedDataNames(){return Ns.getMany2(this.keyMeters)}get isDefined(){return null!=this.keyMeters&&0<this.keyMeters.length}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&8==this.font.sizeInPoints&&this.font.style==L.Regular)}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}getKeyMeter(e){return null!=e?d.TreeView.getKey2(e):null}getKeyMeterByIndex(e){return e<this.keyMeters.length?this.keyMeters[e]:null}insertKeyMeter(e,t){var t=t.as(B.J.StiKeyTreeViewMeter);null!=t&&(0<=e&&e<this.keyMeters.length?this.keyMeters.insert(e,t):this.keyMeters.add(t))}removeKeyMeter(e){e<this.keyMeters.length&&this.keyMeters.removeAt(e)}removeAllKeyMeters(){this.keyMeters.clear()}addNewKeyMeter(){var e=new B.J.StiKeyTreeViewMeter;return this.keyMeters.add(e),e}addKey(e){null==this.keyMeters&&(this.keyMeters=new le),this.keyMeters.add(d.TreeView.getKey2(e))}convertFrom(e){let t=e.fetchAllMeters();if(null==t)return;let r=t.firstOrDefault(e=>e.is(yr));if(null!=(r=null==r?t.firstOrDefault(e=>e.is(pt)):r)){let e=new B.J.StiKeyTreeViewMeter;e.loadFromJsonObject(r.saveToJsonObject(Me.Report)),this.keyMeters.clear(),this.keyMeters.add(e)}}shouldSerializeTextFormat(){return!this.textFormat.is(Bt)}setString(e,t){switch(e){case"Title.Text":this.title.text=t;break}}getString(e){switch(e){case"Title.Text":return this.title.text}throw new Error(`Property with name `+e)}getAllStrings(){return["Title.Text"]}get toolboxPosition(){return je.TreeViewElement}get localizedName(){return w.get("Components","StiTreeView")}createNew(){return new Rh}}B.J.StiTreeViewElement=Rh}let Po=B.J.StiTreeItem,Oo=(B.J.StiTreeViewHelper=class{static fetchItems(s,e){var t=new Po,n;for(n of s.rows){let r=0,i=t;for(let t of n){var l=null==t,a=ne.isNullOrEmpty(t),o;if(e||!(l||a)){let e=null!=i.items?i.items.firstOrDefault(e=>e.key==t):null;null==e&&(e=new Po(t,s.meters[r]),null==i.items&&(i.items=new le),i.items.add(e)),i=e}r++}}return t.items}static fetchDefaultUserFilters(s){return se.tsfb(this,void 0,void 0,function*(){if(s.showAllValue)return null;if(s.selectionMode==Zn.Multi)return null;var e=yield el.getOrCreate(s);let t=this.fetchItems(e,s.showBlanks);if(null==t)return null;var e=t.firstOrDefault();if(null==e)return null;var r,i=e.meter.expression;return _n.createEqualBasedOnValue(e.key,i,s).toList()})}static fetchDefaultUserFilters2(s){return se.tsfb(this,void 0,void 0,function*(){if(s.showAllValue)return null;if(s.selectionMode==Zn.Multi)return null;var e=yield el.getOrCreate(s);let t=this.fetchItems(e,s.showBlanks);if(null==t)return null;var e=t.firstOrDefault();if(null==e)return null;var r,i=e.meter.expression;return _n.createEqualBasedOnValue(e.key,i,s).toList()})}static format(e,t){var r,r;return t instanceof C&&!e.textFormat.is(Lr)?t.toShortDateString():Zr.isEligable(t,null==(r=null==e?void 0:e.report)?void 0:r.culture)?Zr.convert(t,null==(r=null==e?void 0:e.report)?void 0:r.culture):e.textFormat.format(t)}static format2(e,t){var r,r;return t instanceof C&&!e.textFormat.is(Lr)?t.toShortDateString():Zr.isEligable(t,null==(r=null==e?void 0:e.report)?void 0:r.culture)?Zr.convert(t,null==(r=null==e?void 0:e.report)?void 0:r.culture):e.textFormat.format(t)}},se.Report.Dashboard.ImplementsIStiTreeViewBoxElement),zo=B.J.StiTreeViewHelper,Ho=se.Report.Dashboard.IStiTreeViewBoxElement;{tt.add("StiTreeViewBoxElement","Stimulsoft.Dashboard.Export.Tools.StiTreeViewBoxElementExportTool");class Ah extends B.e.StiElement{constructor(e=P.empty){super(e),this.group="",this.shadow=new Ne,this.cornerRadius=new h(0),this._style=o.Auto,this.customStyleName="",this.userFilters=new le,this.transformActions=new le,this.transformFilters=new le,this.transformSorts=new le,this.dataTransformation={},this.dataFilters=new le,this.font=new z("Arial",8),this.foreColor=N.transparent,this.showAllValue=!1,this.showBlanks=!1,this.selectionMode=Zn.Multi,this.textFormat=new Bt,this.defaultClientRectangle=new P(0,0,200,40),this.helpUrl="user-manual/dashboards_data_filtering_tree_view_box.htm",this.keyMeters=new le}implements(){return Ah.ImplementsStiTreeViewBoxElement||(Ah.ImplementsStiTreeViewBoxElement=super.implements().concat([Ho,Pe,Be,Zt,...Oo,...Oe,...Ve,...Wt,l])),Ah.ImplementsStiTreeViewBoxElement}get componentId(){return Z.StiTreeViewBoxElement}meta(){return this._hash||(this._hash=[...super.meta(),new n("ParentKey"),new s("TransformActions").get(e=>a.Serialize.objectArray(this.transformActions,e)).set(e=>this.transformActions.addRange(e.value.properties().select(e=>Dn.loadFromJson(e.value)))).setXml(e=>this.transformActions.addRange(e.childNodes.select(e=>Dn.loadFromXml(e)))),new s("TransformFilters").get(e=>a.Serialize.objectArray(this.transformFilters,e)).set(e=>this.transformFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.transformFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new s("TransformSorts").get(e=>a.Serialize.objectArray(this.transformSorts,e)).set(e=>this.transformSorts.addRange(e.value.properties().select(e=>Mn.loadFromJson(e.value)))).setXml(e=>this.transformSorts.addRange(e.childNodes.select(e=>Mn.loadFromXml(e)))),new s("DataFilters").get(e=>a.Serialize.objectArray(this.dataFilters,e)).set(e=>this.dataFilters.addRange(e.value.properties().select(e=>f.loadFromJson(e.value)))).setXml(e=>this.dataFilters.addRange(e.childNodes.select(e=>f.loadFromXml(e)))),new t("ForeColor","",N.transparent),new n("Font").get(()=>a.Serialize.fontArial8(this.font)).set(e=>this.font=a.Deserialize.font(e.value,this.font)).setXml(e=>this.font=se.System.Convert.toFont(e.textContent)),new u("ShowAllValue"),new u("ShowBlanks"),new i("SelectionMode","",Zn,Zn.One).set(e=>{var e=ge.parse(Zn,e.value);null!=e&&(this.selectionMode=e)}).setXml(e=>{var e=ge.parse(Zn,e.textContent);null!=e&&(this.selectionMode=e)}),new s("KeyMeters").get(e=>a.Serialize.objectArray(this.keyMeters,e)).set(e=>this.keyMeters.addRange(e.value.properties().select(e=>c.loadFromJson(e.value)))).setXml(e=>this.keyMeters.addRange(e.childNodes.select(e=>c.loadFromXml(e)))),new i("Style","",o,o.Auto),new n("Group"),new n("CustomStyleName"),new n("CornerRadius").get(()=>this.cornerRadius.toString()).set(e=>this.cornerRadius=h.tryParse(e.value.toString())).setXml(e=>this.cornerRadius=h.tryParse(e.textContent)),new n("Shadow").get(()=>a.Serialize.jShadow(this.shadow)).set(e=>this.shadow=a.Deserialize.simpleSahdow(e.value)).setXml(e=>this.shadow=Ne.loadFromXml(e.textContent)),new s("TextFormat").check(()=>null!=this.textFormat).set(e=>this.textFormat=or.createFromJsonObject(e.value)).setXml(e=>this.textFormat=or.loadFormatFromXml(e,this.report))])}clone(e){var e,e;let t=super.clone(e);return t.keyMeters=this.keyMeters.select(e=>e.clone()).toList(),t.userFilters=this.userFilters.select(e=>e.clone()).toList(),t.transformActions=this.transformActions.select(e=>e.clone()).toList(),t.transformFilters=this.transformFilters.select(e=>e.clone()).toList(),t.transformSorts=this.transformSorts.select(e=>e.clone()).toList(),t.dataFilters=this.dataFilters.select(e=>e.clone()).toList(),t.textFormat=this.textFormat.clone(),t.shadow=null==(e=this.shadow)?void 0:e.clone(),t.cornerRadius=null==(e=this.cornerRadius)?void 0:e.clone(),t}getParentKey(){return this.parentKey}setParentKey(e){this.parentKey=e}applyDefaultFilters(){return se.tsfb(this,void 0,void 0,function*(){var e=yield zo.fetchDefaultUserFilters(this);null!=e&&(this.userFilters=e)})}shouldSerializeShadow(){return null==this.shadow||!this.shadow.isDefault}shouldSerializeCornerRadius(){return null==this.cornerRadius||!this.cornerRadius.isDefault()}get style(){return this._style}set style(e){(this._style=e)!=o.Custom&&(this.customStyleName="")}fetchAllMeters(){let e=new le;return e.addRange(this.keyMeters),e}getMeters(){let e=new le;return e.addRange(this.keyMeters),e}retrieveUsedDataNames(){return Ns.getMany2(this.keyMeters)}get isDefined(){return null!=this.keyMeters&&0<this.keyMeters.length}shouldSerializeFont(){return!(null!=this.font&&"Arial"==this.font.name&&8==this.font.sizeInPoints&&this.font.style==L.Regular)}shouldSerializeForeColor(){return!N.transparent.equals(this.foreColor)}getKeyMeter(e){return null!=e?d.TreeViewBox.getKey2(e):null}getKeyMeterByIndex(e){return e<this.keyMeters.length?this.keyMeters[e]:null}insertKeyMeter(e,t){var t=t.as(B.I.StiKeyTreeViewBoxMeter);null!=t&&(0<=e&&e<this.keyMeters.length?this.keyMeters.insert(e,t):this.keyMeters.add(t))}removeKeyMeter(e){e<this.keyMeters.length&&this.keyMeters.removeAt(e)}removeAllKeyMeters(){this.keyMeters.clear()}addNewKeyMeter(){var e=new B.I.StiKeyTreeViewBoxMeter;return this.keyMeters.add(e),e}addKey(e){null==this.keyMeters&&(this.keyMeters=new le),this.keyMeters.add(d.TreeViewBox.getKey2(e))}convertFrom(e){let t=e.fetchAllMeters();if(null==t)return;let r=t.firstOrDefault(e=>e.is(yr));if(null!=(r=null==r?t.firstOrDefault(e=>e.is(pt)):r)){let e=new B.I.StiKeyTreeViewBoxMeter;e.loadFromJsonObject(r.saveToJsonObject(Me.Report)),this.keyMeters.clear(),this.keyMeters.add(e)}}shouldSerializeTextFormat(){return!this.textFormat.is(Bt)}get toolboxPosition(){return je.TreeViewBoxElement}get localizedName(){return w.get("Components","StiTreeViewBox")}get minSize(){var e=null!=this.report?this.report.getCurrentPage():null;if(null==e)return ue.empty;var e=Rt.alignToMaxGrid(this.defaultClientRectangle.height,e.gridSize,!0);return new ue(0,e)}set minSize(e){}get maxSize(){var e=null!=this.report?this.report.getCurrentPage():null;if(null==e)return ue.empty;var e=Rt.alignToMaxGrid(this.defaultClientRectangle.height,e.gridSize,!0);return new ue(0,e)}set maxSize(e){}createNew(){return new Ah}}B.I.StiTreeViewBoxElement=Ah}B.k.StiInplaceDesigner=class{},(Un=Kn=B.r.StiRichTextAlignment||(B.r.StiRichTextAlignment={}))[Un["Left"]=1]="Left",Un[Un["Right"]=2]="Right",Un[Un["Center"]=3]="Center",Un[Un["Justify"]=4]="Justify";let Xo=se.Base.Drawing.StiFontUtils,Go=(B.r.StiRichBoxControl=class{constructor(){this.selectionFont=new z("Arial",12),this.selectionColor=N.black,this.font=new z("Arial",12),this.text="",this.selectedText=""}selectAll(){this.selectedText=this.text}select(e,t){!ne.isNullOrEmpty(this.text)&&e<this.text.length&&(this.selectedText=this.text.substr(e,t))}beginUpdate(){}endUpdate(){}setSelectionFont(e){return this.selectionFont=Xo.changeFontName(this.selectionFont,e),!0}setSelectionSize(e){return this.selectionFont=Xo.changeFontSize(this.selectionFont,e),!0}setSelectionBold(e){return this.selectionFont=Xo.changeFontStyleBold(this.selectionFont,e),!0}setSelectionItalic(e){return this.selectionFont=Xo.changeFontStyleItalic(this.selectionFont,e),!0}setSelectionUnderlined(e){return this.selectionFont=Xo.changeFontStyleUnderline(this.selectionFont,e),!0}},se.Base.Drawing.StiTextRenderer),jo=B.r.StiRichTextAlignment,Jo=se.System.Drawing.ColorTranslator,Wo=se.Base.Drawing.StiHtmlState,Uo=se.Base.Drawing.StiHtmlTagsState,Ko=B.r.StiRichBoxControl,qo=(B.r.StiHtmlTextHelper=class{setFontName(e,t,r,i){let s=new Ko;return this.setHtmlText(t,e,s,i),s.selectAll(),s.setSelectionFont(r),this.getHtmlText(s,i)}setFontSize(e,t,r,i){let s=new Ko;return this.setHtmlText(t,e,s,i),s.selectAll(),s.setSelectionSize(Math.round(r)),this.getHtmlText(s,i)}growFontSize(e,t,r){let i=new Ko;return this.setHtmlText(t,e,i,r),i.selectAll(),i.setSelectionSize(Math.round(i.selectionFont.size+1)),this.getHtmlText(i,r)}shrinkFontSize(e,t,r){let i=new Ko;return this.setHtmlText(t,e,i,r),i.selectAll(),0<i.selectionFont.size-1&&i.setSelectionSize(Math.round(i.selectionFont.size-1)),this.getHtmlText(i,r)}setFontBoldStyle(e,t,r,i){let s=new Ko;return this.setHtmlText(t,e,s,i),s.selectAll(),s.setSelectionBold(r),this.getHtmlText(s,i)}setFontItalicStyle(e,t,r,i){let s=new Ko;return this.setHtmlText(t,e,s,i),s.selectAll(),s.setSelectionItalic(r),this.getHtmlText(s,i)}setFontUnderlineStyle(e,t,r,i){let s=new Ko;return this.setHtmlText(t,e,s,i),s.selectAll(),s.setSelectionUnderlined(r),this.getHtmlText(s,i)}setColor(e,t,r,i){let s=new Ko;return this.setHtmlText(t,e,s,i),s.selectAll(),s.selectionColor=r,this.getHtmlText(s,i)}setHorAlignment(e,t,r,i){let s=new Ko;return this.setHtmlText(t,e,s,i),s.selectAll(),s.selectionAlignment=this.getAlignment(r),this.getHtmlText(s,i)}getFont(e,t,r){let i=new Ko;return this.setHtmlText(t,e,i,r),i.selectAll(),i.selectionFont}getColor(e,t,r){let i=new Ko;return this.setHtmlText(t,e,i,r),i.selectAll(),i.selectionColor}getHorAlign(e,t,r){let i=new Ko;return this.setHtmlText(t,e,i,r),i.selectAll(),this.getAlignment2(i.selectionAlignment)}setHtmlText(e,t,r,i){var s="Arial",n=12,n=(r.selectAll(),r.setSelectionFont(s),r.setSelectionSize(n),new Uo(!1,!1,!1,!1,n,s,i,N.white,!1,!1,0,0,0,Vt.Center));let l=null;var s=new Wo(n,0),a,o;for(o of Go.parseHtmlToStates(e,s,!1)){var u=r.text.length;r.select(u,0);let e=null,t=(e=ne.isNullOrEmpty(o.ts.href)?o.text.toString():`<a href="${o.ts.href}">${o.text.toString()}</a>`,r.text+=e,r.select(u,o.text.length),L.Regular);o.ts.bold&&(t|=L.Bold),o.ts.italic&&(t|=L.Italic),o.ts.underline&&(t|=L.Underline);var u=o.ts.fontName,h=o.ts.fontSize;null==l&&(l=r.font=new z(u,h)),r.selectionFont=Xo.changeFontStyle2(u,h,t),r.selectionColor=o.ts.fontColor,r.selectionAlignment=this.getAlignment(o.ts.textAlign)}r.select(0,0)}getHtmlText(r,i){let s=!1,n=!1,l=!1,a=i,o="";r.selectAll();var e=null!=r.selectionFont?r.selectionFont.name:"Arial",t=null!=r.selectionFont?r.selectionFont.sizeInPoints:12,u=ge.getName(jo,r.selectionAlignment);o=o+`<font face="${e}" size="${t}">`+`<text-align="${u}">`;for(let t=0;t<r.text.length;t++){r.select(t,1);var h=r.selectionFont,m=null!=h&&h.style&L.Bold,d=null!=h&&h.style&L.Italic,h=null!=h&&h.style&L.Underline,c;let e=r.selectionColor;"\n"==r.text[t]&&(o+="<br />"),m&&!s&&(s=!0,o+="<b>"),!m&&s&&(s=!1,o+="</b>"),d&&!n&&(n=!0,o+="<i>"),!d&&n&&(n=!1,o+="</i>"),h&&!l&&(l=!0,o+="<u>"),!h&&l&&(l=!1,o+="</u>"),a.equals(e)||(a=(a.equals(i)?o+=`<font-color="${Jo.toHtml(e)}">`:e.equals(i)?o+="</font-color>":o=(o+="</font-color>")+`<font-color="${Jo.toHtml(e)}">`,e)),o+=r.text[t]}return a.equals(i)||(o+="</font-color>"),l&&(o+="</u>"),n&&(o+="</i>"),s&&(o+="</b>"),(o=o+"</text-align>"+"</font>").toString()}getAlignment(e){switch(e){case Vt.Left:return jo.Left;case Vt.Center:return jo.Center;case Vt.Right:return jo.Right;case Vt.Width:return jo.Justify;default:throw new Error("NotSupportedException")}}getAlignment2(e){switch(e){case jo.Left:return Vt.Left;case jo.Center:return Vt.Center;case jo.Right:return Vt.Right;case jo.Justify:return Vt.Width;default:throw new Error("NotSupportedException")}}getSimpleText(e,t){var r=new Ko;return this.setHtmlText(e,null,r,t),r.text}},se.System.Drawing.StringTrimming),Yo=se.System.Drawing.Text.HotkeyPrefix,Zo=se.Base.Drawing.StiTextOptions,Qo=(B.h.StiAutoSizeHtmlTextHelper=class{static measure(e,t,r,i,s=null){var n=this.getDefaultTextOptions(),s=this.getTextScale(s,i),i=(t.height=1e3,new z("Arial",12));return Go.measureText(e,r,i,t.clone(),1,n.wordWrap,n.rightToLeft,s,n.angle,n.trimming,n.lineLimit,!0,n)}static getDefaultTextOptions(){return new Zo(!1,!1,!1,0,Yo.None,qo.None)}static getTextScale(e,t){if(null!=e)return e;var e=t.stimulsoft().as(ie);return null!=e&&e.isDesigning?t.zoom:1}},se.Base.Drawing.StiTextDrawing),_o=(B.h.StiAutoSizeTextHelper=class{static toAlignment(e){switch(e){case ae.Left:return Vt.Left;case ae.Center:return Vt.Center;case ae.Right:return Vt.Right;default:throw new Wl(e)}}static measure(e,t,r){var e=Qo.measureString(e,t,r);return new ue(e.width,e.height)}static measureFontSize(e,t,r,i){var e=this.measure(e,t,i),t=e.width>r.width?r.width/e.width:1,r=e.height>r.height?r.height/e.height:1,e=Math.min(Math.abs(t),Math.abs(r));return i.size*e}},B.h.StiCardsElementHelper=class{static minDataColumnValue(e,t,r){if(!(e.is2(vi)||e.is2(yi)||e.is2(bi)))return 0;return t.rows.any()?t.rows.min(e=>O.tryToNumber(e[r])):0}static maxDataColumnValue(e,t,r){if(!(e.is2(vi)||e.is2(yi)||e.is2(bi)))return 0;return t.rows.any()?t.rows.max(e=>O.tryToNumber(e[r])):0}},se.Base.Context.StiLinesSegmentGeom),$o=(B.j.StiVisual=class{draw(e,t){}drawArrowMore(e,t,r){let i=[];i[0]=new Il(t.right-5*r,t.bottom-5*r),i[1]=new Il(t.right-5*r,t.bottom-15*r),i[2]=new Il(t.right-15*r,t.bottom-5*r);var r=new le([new _o(i)]);e.fillPath(N.fromArgb(140,140,140),r,t.clone(),null)}},se.Base.Context.StiFontGeom),eu=se.Base.Drawing.StiRotationMode,tu=(B.h.StiStringFormatHelper=class{static getStringFormatGeom(e){let t=e.getGenericStringFormat();return t.trimming=qo.None,t.alignment=Gs.Center,t.lineAlignment=Gs.Center,t}static measureAlignmentParameters(e,t,r,i){switch(e){case ae.Left:r.ref=eu.LeftCenter,i.ref.x=t.x,i.ref.y=t.y+t.height/2;break;case ae.Center:r.ref=eu.CenterCenter,i.ref.x=t.x+t.width/2,i.ref.y=t.y+t.height/2;break;case ae.Right:r.ref=eu.RightCenter,i.ref.x=t.x+t.width,i.ref.y=t.y+t.height/2;break}}static getFontSize(e,t,r,i){var i=new z(i.fontFamily.name,25/.72,i.style,i.unit),e=e.measureString(r,$o.create(i));if(0==e.width||0==e.height)return 0;var r=t.width/e.width,i=t.height/e.height,s;return 25*(i<r?i:r)}static getFontSize2(e,t,r,i){var t=new z(t.fontFamily.name,25/.72),e=e.measureString(i,$o.create(t));if(0==e.width||0==e.height)return 0;var i=r.width/e.width,t=r.height/e.height,s;return 25*(t<i?t:i)}},se.Report.Components.StiImageHelper),ru=se.Base.Context.StiLineSegmentGeom,iu=se.Report.Painters.StiWinLossSparklinesCellPainter,su=se.Report.Painters.StiLineSparklinesCellPainter,nu=se.Report.Painters.StiColumnSparklinesCellPainter,lu=B.K.StiSparklinesType,au=B.h.StiStringFormatHelper;{class mu{static DataBarsDraw(e,t,r,i,s,n,l,a,o,u){var r=zi.formatBasedOnColumnType2(r,n.textFormat,n,a);if(null==a||0==a)return;0<o&&(o=0),u<0&&(u=0);let h=t.clone();h.inflate(-1*l,-1*l),e.fillRectangle(N.fromArgb(40,i.cellDataBarsPositive),h.clone(),null);var m=u+Math.abs(o),o=h.width*Math.abs(o)/m,u=h.width*u/m;let d=h.width*Math.abs(a)/m;var m=d>u,u,o,a=(m&&(d=u),h.x+=a<0?o-d:o,h.width=d,0<h.width&&0<h.height&&(u=a<0?i.cellDataBarsNegative:i.cellDataBarsPositive,e.fillRectangle(u,h,null),m&&(o=new P(h.right-6*l,h.y,6*l,h.height),e.fillRectangle(i.cellDataBarsOverlapped,o,null))),e.measureString(r,new $o(n.font.fontFamily.name,n.font.size,n.font.style,se.System.Drawing.GraphicsUnit.Point)));mu.drawText(e,r,n.font,s,n.horAlignment,n.vertAlignment,t,a,l)}static colorScaleDraw(e,t,r,i,s,n,l,a,o,u){var r=zi.formatBasedOnColumnType2(r,n.textFormat,n,a),a=this.getScaleColor(O.tryToNumber(a),o,u,i.cellBackColor,n.minimumColor,n.maximumColor);let h=t.clone();h.inflate(-1*l,-1*l),e.fillRectangle(a,h,null);var o=e.measureString(r,new $o(n.font.fontFamily.name,n.font.size,n.font.style,se.System.Drawing.GraphicsUnit.Point));this.drawText(e,r,n.font,s,n.horAlignment,n.vertAlignment,t,o,l)}static getScaleColor(e,t,r,i,s,n){var l=(r-t)/2,r,r;e=Math.min(e,r),e=Math.max(e,t);let a=0,o,u;var n=((u=l<e?0!=(r=r-l)?(a=(e-l)/r,o=N.fromArgb(255,i),N.fromArgb(255,n)):(o=N.lightGray,N.lightGray):0!=(r=l-t)?(a=e/r,o=N.fromArgb(255,s),N.fromArgb(255,i)):(o=N.lightGray,N.lightGray)).a-o.a)*a+o.a,l=(u.r-o.r)*a+o.r,t=(u.g-o.g)*a+o.g,e=(u.b-o.b)*a+o.b,n=Math.min(n,255),l=Math.min(l,255),t=Math.min(t,255),e=Math.min(e,255);return n=Math.max(n,0),l=Math.max(l,0),t=Math.max(t,0),e=Math.max(e,0),N.fromArgb(Math.round(n),Math.round(l),Math.round(t),Math.round(e))}static sparklinesDraw(e,t,r,i,s){let n=this.castToArray(i);if(null!=n){var l=n.stimulsoft().toList();switch(r.type){case lu.Column:nu.draw(e,t,l,r.allowCustomColors?r.positiveColor:s.cellSparkline,r.allowCustomColors?r.negativeColor:s.cellSparkline);break;case lu.Line:su.draw(e,t,l,r.allowCustomColors?r.positiveColor:s.cellSparkline,!1,r.showFirstLastPoints,r.showHighLowPoints);break;case lu.Area:su.draw(e,t,l,r.allowCustomColors?r.positiveColor:s.cellSparkline,!0,r.showFirstLastPoints,r.showHighLowPoints);break;case lu.WinLoss:iu.draw(e,t,l,r.allowCustomColors?r.positiveColor:s.cellWinLossPositive,r.allowCustomColors?r.negativeColor:s.cellWinLossNegative);break;default:throw new Wl(r.type)}}}static castToArray(e){return dn.isArray(e)?e:null}static bubbleDraw(e,t,r,i,s,n,l,a,o,u,h=!0){if(0==a)return;var r=zi.formatBasedOnColumnType2(r,n.textFormat,n,a),m=(0<o&&(o=0),u<0&&(u=0),n.horAlignment),o,u,h,m,d;let c=t.clone();c.inflate(-1,-1),c=this.calculateBubbleRect(c,n,Math.abs(a),o,u,l),h&&m!=ae.Center&&(o=n.horAlignment==ae.Left?ae.Right:ae.Left,u=e.measureString(r,new $o(n.font.fontFamily.name,n.font.size,n.font.style,se.System.Drawing.GraphicsUnit.Point)),this.drawText(e,r,n.font,s,o,n.vertAlignment,t,u,l)),0<c.width&&0<c.height&&(h=n.allowCustomColors?n.positiveColor:i.cellDataBarsPositive,m=n.allowCustomColors?n.negativeColor:i.cellDataBarsNegative,e.fillEllipse(a<0?m:h,c.x,c.y,c.width,c.height,null))}static calculateBubbleRect(e,t,r,i,s,n){var t=t.as(mr);if(null==t)return e;var l=e.height,i=Math.max(Math.abs(i),Math.abs(s)),a=Math.abs(l*r/i);switch(t.horAlignment){case ae.Right:return new P(e.right-l+(l-a)/2,e.y+(e.height-a)/2,a,a);case ae.Center:return new P(e.x+(e.width-a)/2,e.y+(e.height-a)/2,a,a);case ae.Left:return new P(e.x+(l-a)/2,e.y+(e.height-a)/2,a,a)}return e}static indicatorDraw(e,t,r,i,s,n,l){var a=this.getCellText(r,s,l),o=B.t.StiCardsVisual.getFontGeom(s.font,n),o=e.measureString(a,o).width,u=this.calculateIndicatorRect(t,s,n,o,r.isExporting),u=(this.drawIndicator(e,u,l,i,r.isExporting),this.getColor(s.foreColor,l,i)),l=mu.calculateTextRect(t,s,n,o,r.isExporting),i=e.measureString(a,new $o(s.font.fontFamily.name,s.font.size,s.font.style,se.System.Drawing.GraphicsUnit.Point));this.drawText(e,a,s.font,u,s.horAlignment,s.vertAlignment,l,i,n)}static calculateTextRect(e,t,r,i,s){var n,l=2*this.calculateIndicatorRect(e,t,r,i,s).width;switch(this.getHorAlignment(t)){case ae.Left:return new P(e.x+l,e.y,e.width-l,e.height);case ae.Right:return new P(e.x,e.y,e.width-l,e.height);case ae.Center:return new P(e.x,e.y,e.width,e.height)}return e}static getColor(e,t,r){if(!e.equals(N.transparent))return e;if(0<t)return r.cellIndicatorPositive;if(t<0)return r.cellIndicatorNegative;return r.cellIndicatorNeutral}static calculateIndicatorRect(e,t,r,i,s){var n=16*r;switch(this.getHorAlignment(t)){case ae.Left:e=new P(e.x,e.y,n,e.height);break;case ae.Right:e=new P(e.right-n,e.y,n,e.height);break;case ae.Center:var l=i+n;e=new P(e.right-(e.width-l)/2-n,e.y,n,e.height);break}return e.inflate(-4*r,-4*r),e}static getHorAlignment(e){var e=e.as(mr);return null!=e?e.horAlignment:ae.Right}static getCellText(e,t,r){if(null==r)return"";return zi.formatAsPercentage2(null==e?void 0:e.report,t.textFormat,r)}static drawIndicator(s,n,l,a,e){var o=Math.min(n.width,n.height);if(null==l||0==l)s.fillRectangle(a.cellIndicatorNeutral,new P(n.x+(n.width-o)/2,n.y+(n.height-4)/2,o,5),null);else{var u=.75*o,o=(n=new P(n.x+(n.width-o)/2,n.y+(n.height-u)/2,o,u)).width/2;let e,t,r;r=0<l?(e=new Il(n.left+o,n.top),t=new Il(n.left,n.bottom),new Il(n.right,n.bottom)):(e=new Il(n.left+o,n.bottom),t=new Il(n.left,n.top),new Il(n.right,n.top));var u=0<l?a.cellIndicatorPositive:a.cellIndicatorNegative;let i=new le;var o=new ru(e,t),l=new ru(t,r),a=new ru(r,e);i.add(o),i.add(l),i.add(a),s.fillPath(u,i,n,null)}}static imageDraw(e,t,r){var r=tu.getImageBytesFromObject(r);e.drawImage(r,t)}static drawText(e,t,r,i,s,n,l,a,o){let u=au.getStringFormatGeom(e),h=(u.alignment=Gs.Far,0);var m=(l.width<a.width?l:a).width;switch(s){case ae.Left:h=l.x;break;case ae.Center:h=l.x+l.width/2-m/2;break;case ae.Right:h=l.x+l.width-m;break}let d=0;switch(n){case Lt.Top:d=l.y;break;case Lt.Center:d=l.y+l.height/2-a.height/2;break;case Lt.Bottom:d=l.y+l.height-a.height;break}var s=new P(h,d,m,a.height),n=B.t.StiCardsVisual.getFontGeom(r,o),r=this.getMeasureText(e,t,n,l.width);e.drawString(r,n,i,s,u)}static getMeasureText(r,i,s,n){if(!ne.isNullOrEmpty(i))for(let t=0;i.length>t;t++){let e=i.substring(0,t);if(n<r.measureString(e,s).width){if(4<e.length)return e.substring(0,e.length-3)+"...";if(1<e.length)return e.substring(0,1)+"..."}}return i}}B.t.StiCardsCellDrawer=mu}let ou=se.Report.Painters.StiContextRoundedRectangleCreator,uu=se.Base.Context.StiContextPainter,hu=se.Report.Dashboard.Helpers.StiElementScale,me=se.Base.Dashboard.StiElementConsts,mu=B.t.StiCardsCellDrawer,du=se.Base.Context.StiPenGeom,cu=B.F.StiCardsColumnVisibilityHelper,gu=B.h.StiCardsElementHelper,pu=se.Base.Context.StiContext;{class Su extends B.j.StiVisual{constructor(e,t){super(),this.element=e,this.dataTable=t,this.style=he.getCardsStyle(this.element)}draw(e,t){this.paintCards(e,t)}paintCards(t,r){var i=t.options.zoom,s=this.dataTable.meters.where(e=>e.is(cr)).cast().toList(),n=he.getCardsStyle(this.element),e={},l={},a=(this.getCardRectanglesList(s,r,i,e,l),e.ref),o=l.ref,e;let u=new le,h=new le;for(let e=0;e<s.length;e++){var m=s[e],d=gu.minDataColumnValue(m,this.dataTable,e),m=gu.maxDataColumnValue(m,this.dataTable,e);u.add(d),h.add(m)}let c;for(let e=0;e<this.dataTable.rows.length;e++){var g=this.dataTable.rows[e],p=a[e],S=o[e];!c&&(1<p.right-r.right||1<p.bottom-r.bottom)&&(c=!0),this.paintCardItem(t,p,this.element,e,S,s,g,u,h,n,i)}c&&(e=hu.factor(this.element),this.drawArrowMore(t,r,e))}getCardRectanglesList(e,t,r,i,s){var n=new le;let l=new le;var a=new uu,o=new pu(a,!0,!1,!1,r),u;let h=0,m=0;for(u of this.dataTable.rows){var d={ref:new le},c=Su.measureCards(o,this.element,e,u,d,r),d=d.ref;h=Math.max(h,c.width),m=Math.max(m,c.height),l.add(d)}0<this.element.columnCount&&this.element.orientation==se.Report.Dashboard.StiItemOrientation.Horizontal?h=t.width/this.element.columnCount:0<this.element.columnCount&&this.element.orientation==se.Report.Dashboard.StiItemOrientation.Vertical&&(m=t.height/this.element.columnCount),n=this.element.orientation==se.Report.Dashboard.StiItemOrientation.Horizontal?this.getRectanglesHorizontalOrientation(t,h,m):this.getRectanglesVerticalOrientation(t,h,m),i.ref=n,s.ref=l}getRectanglesHorizontalOrientation(t,r,i){let s=new le,n=Math.floor(t.width/r),l=(0==n&&(n=1),r=t.width/n,t.x),a=t.y,o=0;for(let e=0;e<this.dataTable.rows.length;e++){var u=new P(l,a,r,i);s.add(u),l+=u.width,++o>=n&&(l=t.x,a+=u.height,o=0)}return s}getRectanglesVerticalOrientation(t,r,i){let s=new le;var n=Math.floor(t.height/i);1<n&&(i=t.height/n);let l=t.x,a=t.y,o=0;for(let e=0;e<this.dataTable.rows.length;e++){var u=new P(l,a,r,i);s.add(u),a+=u.height,++o>=n&&(a=t.y,l+=u.width,o=0)}return s}getContentRectangle(e){if(null==this.dataTable||this.dataTable.rows.length<=1)return e;var t=this.dataTable.meters.where(e=>e.is(cr)).cast().toList(),r={},i,t=(this.getCardRectanglesList(t,e,1,r,{}),r.ref),s;let n=P.empty;for(s of t)n=P.union(s,n);return n}paintCardItem(r,i,s,e,t,n,l,a,o,u,h){var m=new P(i.x+s.cards.margin.left*h,i.y+s.cards.margin.top*h,i.width-s.cards.margin.left*h-s.cards.margin.right*h,i.height-s.cards.margin.top*h-s.cards.margin.bottom*h),d,c,g;r.pushClip(m),null==s.cards.cornerRadius||s.cards.cornerRadius.isEmpty?r.fillRectangle(this.getColor(e),m,null):(d=ou.create(m,s.cards.cornerRadius,h),r.fillPath(this.getColor(e),d,m,null));let p=new le,S=new le;for(let e=0;e<n.length;e++){var w=n[e];S.add(e),!w.wrapLine&&e!=n.length-1||(p.add(S),S=new le)}let f=new le;for(c of p){var C=(i.width-s.cards.margin.left*h-s.cards.margin.right*h-s.cards.padding.left*h-s.cards.padding.right*h)/c.length;for(let e=0;e<c.length;++e){var b,y=t[c[e]];f.add(new P(C*e,y.y,C,y.height))}}for(let e=0;e<l.length;e++){let t=n[e];if(!cu.getVisible(t,s.report))continue;var v=l[e],x=a[e],F=o[e],T=Su.getForeColor(s,n[e],u),M=t.font,D=f[e],I=i.x+s.cards.margin.left*h+s.cards.padding.left*h+D.x,A=i.y+s.cards.margin.top*h+s.cards.padding.top*h+D.y,R=D.width,D=D.height-s.cards.padding.top*h-s.cards.padding.bottom*h,E=new P(I,A,R,D);if(t.is2(vi)){var I=t.as(vi);mu.DataBarsDraw(r,E,s,u,T,I,h,O.tryToNumber(v),x,F)}else if(t.is2(yi)){var A=t.as(yi);mu.colorScaleDraw(r,E,s,u,T,A,h,O.tryToNumber(v),x,F)}else if(t.is2(xi)){var R=t.as(xi);mu.sparklinesDraw(r,E,R,v,u)}else if(t.is2(bi)){var D=t.as(bi);mu.bubbleDraw(r,E,s,u,T,D,h,O.tryToNumber(v),x,F)}else if(t.is2(Ci)){var I=t.as(Ci);mu.indicatorDraw(r,E,s,u,I,h,O.tryToNullableNumber(v))}else{var A=tu.getImageFromObject(v);if(null!=A){var R=E.height/A.height,k=A.width*R;let e=0;switch(t.horAlignment){case ae.Left:e=E.x;break;case ae.Center:e=E.x+(E.width-k)/2;break;case ae.Right:e=E.x+E.width-k;break}var D=new P(e,E.y,k,E.height);mu.imageDraw(r,D,v)}else{var x=zi.formatBasedOnColumnType2(s,t.textFormat,t,v),F=r.measureString(x,new $o(M.fontFamily.name,M.size,M.style,se.System.Drawing.GraphicsUnit.Point));mu.drawText(r,x,M,T,t.horAlignment,t.vertAlignment,E,F,h)}}}r.popClip();var e=new du(u.lineColor,1),d;null==s.cards.cornerRadius||s.cards.cornerRadius.isEmpty?r.drawRectangle(e,m):(d=ou.create(m,s.cards.cornerRadius,h),r.drawPath(e,d,m))}static measureItem(e,t,r,i,s){let n;var l,l,l,l,a,o,l,o,l,a=(n=r.is2(vi)||r.is2(yi)?this.measureDataBarsCell(e,t,r,i,s):r.is2(xi)?(l=r.as(xi),this.measureSparklinesCell(l,s)):r.is2(Ci)?(l=r.as(Ci),this.measureIndicatorCell(e,t,l,i,s)):r.is2(bi)?(l=r.as(bi),this.measureBubbleCell(e,t,l,i,s)):null!=(l=tu.getImageFromObject(i))?(o=(a=50*s)/l.height,l=l.width*o,new ue(l,a)):(o=zi.formatBasedOnColumnType2(t,r.textFormat,r,i),l=this.getFontGeom(r.font,s),e.measureString(o,l)),Math.max(n.height,r.height*s));return new ue(n.width,a)}static measureCards(t,s,r,i,e,n){let l=e.ref,a=0,o=0,u=new le,h=new le;for(let e=0;e<i.length;e++){var m=r[e];h.add(e),!m.wrapLine&&e!=i.length-1||(u.add(h),h=new le)}let d=new le;for(let e=0;e<i.length;e++){var c=r[e],g=i[e],p;cu.getVisible(c,s.report)||d.add(ue.empty),d.add(this.measureItem(t,s,c,g,n))}for(let e=0;e<u.length;e++){var S=u[e];let t=0,r=0;for(let e=0;e<S.length;e++){var w=S[e],w=d[w];t=Math.max(w.height,t),r+=w.width}var f=new ue(r,t);let i=0;for(let e=0;e<S.length;e++){var C=S[e],C=d[C],b=new P(i,o,C.width+s.cards.padding.left*n+s.cards.padding.right*n,f.height+s.cards.padding.top*n+s.cards.padding.bottom*n);i+=C.width,l.add(b)}a=Math.max(a,f.width+s.cards.padding.left*n+s.cards.padding.right*n),o+=f.height}return e.ref=l,new ue(a,o+s.cards.padding.top*n+s.cards.padding.bottom*n+s.cards.margin.top*n+s.cards.margin.bottom*n)}static measureDataBarsCell(e,t,r,i,s){var t=mu.getCellText(t,r,O.tryToNullableNumber(i)),i=this.getFontGeom(r.font,s),r=e.measureString(t,i);return new ue(r.width,1.5*r.height)}static measureSparklinesCell(e,t){var e=0==e.height?20:e.height;return new ue(0,e*t)}static measureIndicatorCell(e,t,r,i,s){var n=r.as(Ci),t=mu.getCellText(t,n,O.tryToNullableNumber(i)),n=this.getFontGeom(r.font,s),i=e.measureString(t,n);return new ue(i.width,1.5*i.height)}static measureBubbleCell(e,t,r,i,s){var t=zi.formatBasedOnColumnType2(t,r.textFormat,r,i),i=this.getFontGeom(r.font,s);let n=e.measureString(t,i);return n.width+=4,n=new ue(n.width+n.height,1.5*n.height)}static getForeColor(e,t,r){if(!t.foreColor.equals(N.transparent))return t.foreColor;let i=he.getForeColor(e);if(!i.equals(N.transparent))return i;if(null!=r)return r.cellForeColor;return me.Table.Font.Color}static getFontGeom(e,t){var r;return $o.changeFontSize(e,e.size*t)}getColor(e){return this.element.cards.colorEach?this.getStyleColor(e):this.style.cellBackColor}getStyleColor(e){var t=(null!=this.element.seriesColors&&0<this.element.seriesColors.length?this.element:he.getCardsStyle(this.element)).seriesColors;return t[e%=t.length]}}B.t.StiCardsVisual=Su}let Su=B.t.StiCardsVisual,wu=se.Report.Dashboard.Visuals.IStiCardsVisualSvgHelper,fu=se.Report.Dashboard.IStiManuallyEnteredData,Cu=se.Report.Export.Services.Helpers.StiContextSvgHelper;{class Jc{implements(){return Jc.ImplementsStiCardsVisualSvgHelper||(Jc.ImplementsStiCardsVisualSvgHelper=[wu]),Jc.ImplementsStiCardsVisualSvgHelper}writeCards(n,l,a,o,u){return se.tsfb(this,void 0,void 0,function*(){let t=new P(0,0,l.width,l.height);var e=l.component.as(B.F.StiCardsElement),r=yield Jc.getDataTable(e);if(null==r)return;var i=new uu,i=new pu(i,!0,!1,!1,1);let s=new Su(e,r);if(a&&(a.needToVertScroll||a.needToHorScroll)){let e=s.getContentRectangle(t);a.needToVertScroll=e.height>t.height+5,a.needToHorScroll=e.width>t.width+5,a.needToVertScroll&&(t.width-=15,e=s.getContentRectangle(t),t=e,a.needToHorScroll||(t.height+=10),o.ref=se.System.Convert.toInt32(t.height)),a.needToHorScroll&&(t.height-=15,e=s.getContentRectangle(t),t=e,a.needToVertScroll||(t.height+=10),u.ref=se.System.Convert.toInt32(t.width))}s.draw(i,t.clone()),n.writeStartElement("g");var e=a&&(a.needToVertScroll||a.needToHorScroll)?0:l.x+.5,r=a&&(a.needToVertScroll||a.needToHorScroll)?0:l.y+.5;n.writeAttributeString("transform",`translate(${e},${r})`),Cu.writeGeoms(n,i,!1,!1),n.writeEndElement()})}static getDataTable(t){var r;return se.tsfb(this,void 0,void 0,function*(){var e=null==(r=t.as(fu))?void 0:r.getManuallyEnteredDataTable();if(null!=e)return e;return yield el.tryToGetOrCreate(t)})}}B.h.StiCardsVisualSvgHelper=Jc}{class Lm{static getSumRectangle(e){let t=new P(0,0,0,0);for(var r of e)r.right>t.right&&(t=new P(t.x,t.y,r.right-t.x,t.height)),r.bottom>t.bottom&&(t=new P(t.x,t.y,t.width,r.bottom-t.y));return t}static getLocationRectangles(t,r,e){if(1==r)return new le([this.checkMinRect(t.clone(),e)]);var i=t.toString()+" "+r.toString();if(this.hashLocations.contains(i))return this.hashLocations.get(i);let s=this.getSimpleRect(t.clone(),r,e);var e=this.getSimpleRect(new P(t.x,t.y,t.height,t.width),r,e),n,l;s.width*s.height<e.width*e.height&&(s=new P(e.x,e.y,e.height,e.width));let a=new le,o=s.x,u=s.y;for(let e=0;e<r;e++){var h=new P(o,u,s.width,s.height);a.add(h),o=Math.floor(h.right+h.width)<=t.right?h.right:(u=h.bottom,t.x)}this.hashLocations.add(i,a);let m=this.getSumRectangle(a);var e=m.toString()+" "+r.toString();return this.hashLocations.contains(e)||this.hashLocations.add(e,a),a}static getMinRectangle(e,t){var r=e.width*e.height/t;let i=e;while(i.width*i.height>r||i.isEmpty)i=i.width>i.height?new P(i.x,i.y,i.width/2,i.height):new P(i.x,i.y,i.width,i.height/2);return i}static prepareColumnRow(t,r,i,s,n){t.ref=1,r.ref=1;let l=s.x,a=s.y;for(let e=0;e<n-1;e++){var o=new P(l,a,s.width,s.height);l=o.right+o.width<=i.right?(1==r.ref&&t.ref++,o.right):(r.ref++,a=o.bottom,i.x)}}static getUsingRect(t,r,i){let s=r,n=r.x,l=r.y,a=r.width,o=r.height;for(let e=0;e<i;e++){var u=new P(n,l,r.width,r.height);a<u.right-t.x&&(a=u.right-t.x),o<u.bottom-t.y&&(o=u.bottom-t.y),s=new P(t.x,t.y,a,o),n=u.right+u.width<=t.right?u.right:(l=u.bottom,t.x)}return s}static checkMinRect(e,t){var t=hu.factor(t);return e.width<80*t&&(e.width=80*t),e.height<50*t&&(e.height=50*t),e}static getSimpleRect(e,t,r){let i=this.getMinRectangle(e.clone(),t);i=this.checkMinRect(i,r);var r={ref:0},s={ref:0},t=(this.prepareColumnRow(r,s,e.clone(),i,t),this.getUsingRect(e.clone(),i,t));return t.width<e.width&&(i=new P(e.x,e.y,i.width+(e.width-t.width)/r.ref,i.height)),i=t.height<e.height?new P(e.x,e.y,i.width,i.height+(e.height-t.height)/s.ref):i}}Lm.hashLocations=new Wa,B.h.StiElementLocationHelper=Lm}let bu=se.Report.Components.Gauge.StiRadialTickLabelCustomValue,yu=se.Report.Components.Gauge.StiLinearTickLabelCustomValue,vu=se.System.Drawing.Orientation,xu=se.Report.Export.StiGaugeSvgHelper,Fu=se.System.Drawing.Graphics,Tu=se.Report.Export.StiSvgData,Mu=se.Report.Dashboard.Visuals.IStiGaugeVisualSvgHelper;{class md{implements(){return md.ImplementsStiGaugeVisualSvgHelper||(md.ImplementsStiGaugeVisualSvgHelper=[Mu]),md.ImplementsStiGaugeVisualSvgHelper}writeGauge(c,g,p,S,w){return se.tsfb(this,void 0,void 0,function*(){let e=new P(g.x,g.y,g.width,g.height),t=g.component;var r=yield md.getDataTable(t);if(null==r)return;var i=new ue(g.width,g.height);let s=(new B.i.StiGaugeElementBuilder).render2(t,i,r),n=B.h.StiElementLocationHelper.getLocationRectangles(e.clone(),s().count2(),t);if(null==(s=1<s().count2()?(new B.i.StiGaugeElementBuilder).render2(t,new ue(n[0].width,n[0].height),r):s)||!s().any())return;let l=md.getTitleHeight(null,s,e.clone(),t,null),a=null!=l?l:0;var i=n[0].clone(),o=md.getTitleMinFontSize(null,s,t.font,i.width,i.height),i,u;o<t.font.size&&(l=md.getTitleHeight(null,s,e.clone(),t,o),a=null!=l?l:0);let h=0;S&&S.needToVertScroll&&(i=B.h.StiElementLocationHelper.getSumRectangle(n),S.needToVertScroll=i.height>e.height+e.top+5,S.needToVertScroll&&(e.width-=15,n=B.h.StiElementLocationHelper.getLocationRectangles(e.clone(),s().count2(),t),s=(new B.i.StiGaugeElementBuilder).render2(t,new ue(n[0].width,n[0].height),r),e=B.h.StiElementLocationHelper.getSumRectangle(n),w.ref=se.System.Convert.toInt32(e.height),a=0));for(u of s()){var m=n[h].clone(),d,d;null!=l&&(d=new P(m.x,m.y,m.width,a),this.paintTitle(t,null,c,d,u.series,o));let e=new Tu;e.x=m.x/2,e.y=(m.y+a)/2,e.width=m.width,e.height=m.height-a,e.component=u.gauge,!this.isEmptyData(t,r)||t["isSampleForStyles"]||null!=(d=this.getEmptyDataGauge(t))&&(e.component=d),xu.writeGauge(c,e,1,p,t["isSampleForStyles"]),t.previousAnimations=e.component.previousAnimations,h++}})}paintTitle(e,t,r,i,s,n){if(ne.isNullOrEmpty(s))return;var l=Xo.changeFontSize(e.font,n),t=B.h.StiTitleMeasureHelper.measureTitle4(t,i.clone(),e.font,s),t=new P(i.x,i.y,i.width,t.height),a,e,a,a;ne.isNullOrWhiteSpace(s)||(a=Cl.getForeColor(e,e.foreColor),e=N.transparent.equals(a)?he.getForeColor(e):a,a=Fu.measureString(s,l),a=new Il(t.x+i.width/2-.39*a.width,t.y+a.height/2),xu.writeText(r,s,l,new F(e),a,n)),i.y+=t.height,i.height-=t.height}static getTitleMinFontSize(e,t,r,i,s){let n=null;var l=new P(0,0,i,s),a;for(a of t()){var o=B.h.StiAutoSizeTextHelper.measureFontSize(e,a.series,l,r);n=null==n?o:Math.min(n,o)}return n}static getTitleHeight(e,t,r,i,s){var t=t().firstOrDefault(e=>!ne.isNullOrEmpty(e.series));if(null==t)return null;let n=i.font;null!=s&&(n=new z(n.name,s,n.style));var i=B.h.StiTitleMeasureHelper.measureTitle4(e,r.clone(),n,t.series).height;if(i>r.height/2)return null;return i}isEmptyData(e,t){return null!=t&&t.isEmpty&&e.isQuerable}static getDataTable(t){var r;return se.tsfb(this,void 0,void 0,function*(){var e=null==(r=t.as(fu))?void 0:r.getManuallyEnteredDataTable();if(null!=e)return e;return yield el.tryToGetOrCreate(t)})}getEmptyDataGauge(e){switch(e.type){case kl.FullCircular:return this.getFullCircularEmptyDataGauge(e);case kl.HalfCircular:return this.getHalfCircularEmptyDataGauge(e);case kl.Linear:return this.getLinearEmptyDataGauge(e);case kl.HorizontalLinear:return this.getHorizontalLinearEmptyDataGauge(e);case kl.Bullet:return this.getBulletEmptyDataGauge(e)}return null}getBulletEmptyDataGauge(e){var t=he.getDataEmptyColor(e),e=he.getDataEmptyForeColor(e);let r=new Ll,i=new Pl,s=(i.allowApplyStyle=!1,i.relativeHeight=.85,i.orientation=vu.Horizontal,i.startWidth=.1,i.endWidth=.1,i.maximum=1,i.majorInterval=1,i.borderBrush=new Je,i.brush=new F(t),new Ml),n=(s.allowApplyStyle=!1,s.textBrush=new F(e),i.items.add(s),new wl);return n.offset=.1,n.font=new z("Arial",14),n.textBrush=new F(e),n.placement=p.Inside,n.textObj=w.get("Dashboard","Blank"),n.values.add(new yu(.5,w.get("Dashboard","Blank"))),i.items.add(n),r.scales.add(i),r}getHorizontalLinearEmptyDataGauge(e){var t=he.getDataEmptyColor(e),e=he.getDataEmptyForeColor(e);let r=new Ll,i=new Pl,s=(i.allowApplyStyle=!1,i.relativeHeight=.92,i.orientation=vu.Horizontal,i.startWidth=.1,i.endWidth=.1,i.maximum=1,i.majorInterval=1,i.borderBrush=new Je,i.brush=new F(t),new Ml),n=(s.allowApplyStyle=!1,s.textBrush=new F(e),i.items.add(s),new wl);return n.offset=.1,n.font=new z("Arial",14),n.textBrush=new F(e),n.placement=p.Inside,n.textObj=w.get("Dashboard","Blank"),n.values.add(new yu(.5,w.get("Dashboard","Blank"))),i.items.add(n),r.scales.add(i),r}getLinearEmptyDataGauge(e){var t=he.getDataEmptyColor(e),e=he.getDataEmptyForeColor(e);let r=new Ll,i=new Pl,s=(i.allowApplyStyle=!1,i.relativeHeight=.84,i.orientation=vu.Vertical,i.startWidth=.1,i.endWidth=.1,i.maximum=1,i.majorInterval=1,i.borderBrush=new Je,i.brush=new F(t),new Ml),n=(s.allowApplyStyle=!1,s.textBrush=new F(e),i.items.add(s),new wl);return n.font=new z("Arial",14),n.textBrush=new F(e),n.placement=p.Overlay,n.textObj=w.get("Dashboard","Blank"),n.values.add(new yu(.5,w.get("Dashboard","Blank"))),i.items.add(n),r.scales.add(i),r}getHalfCircularEmptyDataGauge(e){var t=he.getDataEmptyColor(e),e=he.getDataEmptyForeColor(e);let r=new Ll,i=new Jl,s=(i.allowApplyStyle=!1,i.startAngle=180,i.sweepAngle=180,i.startWidth=.13,i.endWidth=.13,i.minimum=0,i.maximum=1,i.radius=.92,i.majorInterval=1,i.center=new Il(.5,.7),i.borderBrush=new Je,i.brush=new F(t),new Gl),n=(s.allowApplyStyle=!1,s.textBrush=new F(e),i.items.add(s),new fl);return n.offset=.8,n.font=new z("Arial",14),n.textBrush=new F(e),n.placement=p.Overlay,n.values.add(new bu(.5,w.get("Dashboard","Blank"))),i.items.add(n),r.scales.add(i),r}getFullCircularEmptyDataGauge(e){var t=he.getDataEmptyColor(e),e=he.getDataEmptyForeColor(e);let r=new Ll,i=new Jl,s=(i.allowApplyStyle=!1,i.startAngle=120,i.sweepAngle=300,i.startWidth=.13,i.endWidth=.13,i.minimum=0,i.maximum=1,i.majorInterval=1,i.borderBrush=new Je,i.brush=new F(t),new Gl),n=(s.allowApplyStyle=!1,s.textBrush=new F(e),i.items.add(s),r.scales.add(i),new fl);return n.offset=.8,n.font=new z("Arial",14),n.textBrush=new F(e),n.placement=p.Overlay,n.values.add(new bu(.5,w.get("Dashboard","Blank"))),i.items.add(n),r.scales.add(i),r}}B.h.StiGaugeVisualSvgHelper=md}B.u.StiIndicatorIteration=class{constructor(e,t,r){this.series=e,this.value=t,this.target=r}};let Du=se.Data.Engine.StiDataSortDirection,Iu=se.Data.Engine.StiDataSortVariation,Au=se.Data.Engine.StiDataTopNMode,Ru=B.u.StiIndicatorIteration;{class Pu extends B.i.StiElementBuilder{render(n,l){this.storedCulture=Qr.set(n.report);try{let t=this.getValueMeterIndex(l),r=this.getTargetMeterIndex(l),i=this.getSeriesMeterIndex(l),e=this.getSeriesKeys(l,i,this.getSeriesKeysLimitCount(n)),s=e.count2();var a=e.select(e=>new Ru(this.getSeries(l,i,e,n.report),this.getValue(l,t,i,s,e),this.getNullableValue(l,r,i,s,e))),a=Pu.processVariationSort(n,a);return Pu.processTopNElements(n,a)}finally{B.h.StiCultureHelper.restore(this.storedCulture)}}static processVariationSort(e,t){let r=e.userSorts;return t=null!=r&&r.any(e=>e.key==Iu.ident)?r.firstOrDefault().direction==Du.Ascending?t.orderBy(e=>0!=e.target?e.value/e.target:0):t.orderByDescending(e=>0!=e.target?e.value/e.target:0):t}static processTopNElements(t,r){if(t.topN.mode==Au.None)return r;let i=(r=t.topN.mode==Au.Bottom?r.orderBy(e=>e.value):r.orderByDescending(e=>e.value)).take(t.topN.count);if(r.count2()>t.topN.count&&t.topN.showOthers){var s=r.skip(t.topN.count).sum(e=>O.tryToNumber(e.value));let e=r.skip(t.topN.count);var r=e.all(e=>null!=e?null==e.target:null)?null:e.sum(e=>O.tryToNullableNumber(e.target)),t=ne.isNullOrEmpty(t.topN.othersText)?S.get("FormDesigner","Others"):ht.parse(t.topN.othersText,t);i.add(new Ru(t,s,r))}return i}getValueMeterIndex(e){if(null==e)return-1;var t=e.meters.firstOrDefault(e=>e.is(ds));return null!=t?e.meters.indexOf(t):-1}getTargetMeterIndex(e){if(null==e)return-1;var t=e.meters.firstOrDefault(e=>e.is(cs));return null!=t?e.meters.indexOf(t):-1}getSeriesMeterIndex(e){if(null==e)return-1;var t=e.meters.firstOrDefault(e=>e.is(ms));return null!=t?e.meters.indexOf(t):-1}}B.i.StiIndicatorElementBuilder=Pu}let Eu=se.Report.Components.TextFormats.StiNegativeColorChecker,ku=se.System.Drawing.GraphicsUnit,Lu=se.Base.Context.StiInteractionDataGeom,Vu=se.Base.Context.StiIndicatorInteractionData,Bu=(B.u.StiIndicatorVisual=class extends B.j.StiVisual{constructor(e,t){super(),this.indent=4,this.minSide=20,this.element=e,this.iterations=t}draw(e,t){let r=.06*t.width;12<(r=r<4?4:r)&&(r=12);var i=new P(t.x+r/2,t.y+r/2,t.width-r,t.height-r);try{e.pushClip(t),1==this.iterations.length?this.drawSingleMode(e,t,i):1<this.iterations.length&&this.drawMultiMode(e,i),e.popClip()}finally{}}getContentRectangle(t){if(1<this.iterations.length){let e=t.height/this.iterations.length;return e<this.minSide&&(e=this.minSide),new P(t.x,t.y,t.width,e*this.iterations.length)}return t}drawSingleMode(t,r,e){if(0==this.iterations.length)return;var i=null!=this.iterations[0].target,s,n,l,a={ref:s=null},o={ref:n=null},u={ref:l=null},h=zi.format(this.element.report,this.element.textFormat,this.iterations[0].value),e=(this.getRectanglesSingleMode(t,h,e,a,o,u),s=a.ref,n=o.ref,l=u.ref,this.processFontName(this.element.font.fontFamily.name,this.iterations[0])),a=this.processFontStyle(this.element.font,this.iterations[0]),o=new z(e,8,a);let m=this.processBackColor(this.iterations[0]);var u=this.processForeColor(this.iterations[0]),d=this.processGlyphColor(this.iterations[0]),c=this.processIcon(this.element.icon,this.iterations[0]),g=this.processIconAlignment(this.iterations[0]),p=this.processCustomIcon(this.iterations[0]),S;null!=m&&t.fillRectangle(m,r,null),this.element.report.isDesigning||(S=he.getHotBackColor(this.element),null==m&&(m=N.transparent),t.fillRectangle3(m,S,r,this.getInteractionDataGeom(this.iterations[0])));let w=u;if(this.iterations[0].value<0&&Eu.isNegativeInRed(this.element.textFormat)&&(w=k.Engine.negativeColor),this.drawTextIcon(t,h,o,Ca.getContent(c),w,d,s,g,p),i){var S=this.getVariation(this.iterations[0]),r=he.getIndicatorStyle(this.element),h=0<=S?r.positiveColor:r.negativeColor,h=this.processTargetIconColor(h,this.iterations[0]),c=0<=S?yt.ArrowUp:yt.ArrowDown,c=this.processTargetIcon(c,this.iterations[0]);let e=new Nr;e.decimalDigits=3;var d=zi.formatAsPercentage2(this.element.report,e,S),s=0==S?At.None:At.Right,g=this.processTargetIconAlignment(s,this.iterations[0]);this.drawTextIcon(t,d,o,Ca.getContent(c),h,h,n,g,null)}var p,i={ref:p=null},r,S;this.measureFontSize(t,l,this.iterations[0].series,i),null!=(p=.88*i.ref)&&0<p&&(r=new z(e,p,a),S=$o.create(r),t.drawRotatedString5(this.iterations[0].series,S,u,l,au.getStringFormatGeom(t),eu.CenterCenter,0,!0))}getVariation(e){var t=e.value,r=O.tryToNumber(e.target);let i=0;if(0!=r)switch(this.element.targetMode){case xa.Variation:i=t/r-1,r<0&&(i=-i);break;case xa.Percentage:i=t/r;break}return i}getFactorByFontSize(e,t,r,i){switch(r.fontSizeMode){case Ra.Auto:return.7;case Ra.Value:case Ra.Target:var s;return e.measureString(t,$o.create(r.font)).height/i.height}return 0}getRectanglesSingleMode(e,t,r,i,s,n){var l,a=null!=this.iterations[0].target,o=!ne.isNullOrEmpty(this.iterations[0].series);let u=.7,h=(1-u)/2,m=1-h-u,d=r.y;!o&&a?(this.element.fontSizeMode==Ra.Value?(u=this.getFactorByFontSize(e,t,this.element,r),h=1-u):this.element.fontSizeMode==Ra.Target&&(h=this.getFactorByFontSize(e,t,this.element,r),u=1-h),m=0):o&&!a?(h=0,m=1-u):o||a||(this.element.fontSizeMode!=Ra.Value?u=1:(u=this.getFactorByFontSize(e,t,this.element,r),d=r.y+(r.height-r.height*u)/2),h=0,m=0),i.ref=new P(r.x,d,r.width,r.height*u),s.ref=new P(i.ref.x,i.ref.bottom,r.width,r.height*h),n.ref=new P(i.ref.x,s.ref.bottom,r.width,r.height*m)}processFontStyle(e,t){var r=this.processFontBold(e.bold,t),i=this.processFontItalic(e.italic,t),s=this.processFontUnderline(e.underline,t),e=this.processFontStrikeout(e.strikeout,t);let n=L.Regular;return r&&(n^=L.Bold),i&&(n^=L.Italic),s&&(n^=L.Underline),e&&(n^=L.Strikeout),n}processFontStrikeout(e,t){for(var r of this.element.indicatorConditions)if(0<(r.permissions&La.FontStyleStrikeout)&&this.getConditionResult(t,r))return r.font.strikeout;return e}processFontUnderline(e,t){for(var r of this.element.indicatorConditions)if(0<(r.permissions&La.FontStyleUnderline)&&this.getConditionResult(t,r))return r.font.underline;return e}processFontItalic(e,t){for(var r of this.element.indicatorConditions)if(0<(r.permissions&La.FontStyleItalic)&&this.getConditionResult(t,r))return r.font.italic;return e}processFontBold(e,t){for(var r of this.element.indicatorConditions)if(0<(r.permissions&La.FontStyleBold)&&this.getConditionResult(t,r))return r.font.bold;return e}processFontName(e,t){for(var r of this.element.indicatorConditions)if(0<(r.permissions&La.Font)&&this.getConditionResult(t,r))return r.font.name;return e}processIcon(e,t){for(var r of this.element.indicatorConditions)if(0<(r.permissions&La.Icon)&&this.getConditionResult(t,r))return r.icon;return e}processTargetIcon(e,t){for(var r of this.element.indicatorConditions)if(0<(r.permissions&La.TargetIcon)&&this.getConditionResult(t,r))return r.targetIcon;return e}processCustomIcon(e){for(var t of this.element.indicatorConditions)if(0<(t.permissions&La.Icon)&&this.getConditionResult(e,t))return t.customIcon;return this.element.customIcon}processIconAlignment(e){for(var t of this.element.indicatorConditions)if(0<(t.permissions&La.Icon)&&this.getConditionResult(e,t))return t.iconAlignment;return this.element.iconAlignment}processTargetIconAlignment(e,t){for(var r of this.element.indicatorConditions)if(0<(r.permissions&La.TargetIcon)&&this.getConditionResult(t,r))return r.targetIconAlignment;return e}processBackColor(e){for(var t of this.element.indicatorConditions)if(0<(t.permissions&La.BackColor)&&this.getConditionResult(e,t))return t.backColor;return null}processForeColor(e){for(var t of this.element.indicatorConditions)if(0<(t.permissions&La.TextColor)&&this.getConditionResult(e,t))return t.textColor;return he.getForeColor(this.element)}processGlyphColor(e){for(var t of this.element.indicatorConditions)if(0<(t.permissions&La.Icon)&&this.getConditionResult(e,t))return t.iconColor;return he.getGlyphColor(this.element)}processTargetIconColor(e,t){for(var r of this.element.indicatorConditions)if(0<(r.permissions&La.TargetIcon)&&this.getConditionResult(t,r))return r.targetIconColor;return e}getConditionResult(r,t){let i=null;switch(t.field){case ka.Value:i=r.value;break;case ka.Series:i=r.series;break;case ka.Target:i=r.target;break;case ka.Variation:{var s=this.getVariation(r);let e=new Nr,t=(e.decimalDigits=3,zi.formatAsPercentage2(this.element.report,e,s));i=t.replace("%","").stimulsoft().toNumber();break}}var e=!1;let n=this.getConditionValue(t);if(null!=i){let e=i=t.field!=ka.Value&&t.field!=ka.Target&&t.field!=ka.Variation?i:null==i?0:i.stimulsoft().toNumber();if(null!=e&&null!=n){i.stimulsoft().getType()!=n.stimulsoft().getType()&&(i=i.toString(),n=n.stimulsoft().toString(),e=i);try{switch(t.condition){case se.Report.Components.StiFilterCondition.EqualTo:return 0==e.stimulsoft().compareTo(n);case se.Report.Components.StiFilterCondition.NotEqualTo:return 0!=e.stimulsoft().compareTo(n);case se.Report.Components.StiFilterCondition.GreaterThan:return 1==e.stimulsoft().compareTo(n);case se.Report.Components.StiFilterCondition.GreaterThanOrEqualTo:return 0<=e.stimulsoft().compareTo(n);case se.Report.Components.StiFilterCondition.LessThan:return-1==e.stimulsoft().compareTo(n);case se.Report.Components.StiFilterCondition.LessThanOrEqualTo:return e.stimulsoft().compareTo(n)<=0;case se.Report.Components.StiFilterCondition.Containing:{let e=i.toString();var l=n.toString();return-1!=e.indexOf(l)}case se.Report.Components.StiFilterCondition.NotContaining:{let e=i.toString();var a=n.toString();return-1==e.indexOf(a)}case se.Report.Components.StiFilterCondition.BeginningWith:{let e=i.toString();var o=n.toString();return e.stimulsoft().startsWith(o)}case se.Report.Components.StiFilterCondition.EndingWith:{let e=i.toString();var u=n.toString();return e.stimulsoft().endsWith(u)}}}catch(e){}}}return e}getConditionValue(e){if(ne.isNullOrEmpty(e.value))return null;switch(e.field){case ka.Value:case ka.Target:case ka.Variation:return e.value.stimulsoft().toNumber();default:return e.value.toString()}}drawMultiMode(e,t){if(0==this.iterations.length)return;let r=this.getTargetValues();r.any(e=>null!=e)?this.drawMultiModeWithTarget(e,t.clone(),r):this.drawMultiModePresent(e,t.clone())}drawMultiModePresent(i,s){let e=this.iterations.select(e=>e.value);var t=e.max(),r=e.min(),n=t-r;let l=s.height/this.iterations.length,a=(l<this.minSide&&(l=this.minSide),new le),o=new le,u=new le;var h=Ca.getFontIcons(this.element.iconSet);let m=new le;if(this.element.iconMode==ya.Auto){var d=1/h.length;for(let e=0;e<h.length;e++){var c=r+e*d*n,g=r+(1+e)*d*n;m.add(new B.u.StiIndicatorIconRangeValue(c,g,h[e]))}}else for(var p of this.element.iconRanges){let e=O.tryToNumber(ht.parse(p.startExpression,this.element)),t=O.tryToNumber(ht.parse(p.endExpression,this.element));this.element.iconRangeMode==ba.Percentage&&(e=r+e/100*n,t=r+t/100*n),m.add(new B.u.StiIndicatorIconRangeValue(e,t,p.icon))}for(let t of this.iterations){a.add(t.series),o.add(zi.format(this.element.report,this.element.textFormat,t.value));var S=m.where(e=>e.isBetween(t.value)).firstOrDefault();null!=S?u.add(S.icon):u.add(null)}var w=this.element.font;let f=null;var C=new z(w.fontFamily.name,1,w.style,w.unit);for(let e=0;e<this.iterations.length;e++){var b=a[e]+o[e]+"Icon",y=new P(s.x,s.y,s.width,l),y=au.getFontSize(i,y,b,C);(null==f||f>y)&&(f=y)}var v=au.getStringFormatGeom(i);let x=this.element.font.size/13*f;if((x=x>f?f:x)<1)return;let F=new le,T=null;var M=new $o("Stimulsoft",.6*x,se.System.Drawing.FontStyle.Regular,se.System.Drawing.GraphicsUnit.Point);for(let t=0;t<this.iterations.length;t++){var D=this.processFontName(w.fontFamily.name,this.iterations[t]),I=this.processFontStyle(w,this.iterations[t]),D=new z(D,x,I),I=$o.create(D);let e=new le;var D=s.y+l*t,D=new P(s.x,D,s.width,l),I=(e.add(D),i.measureString(a[t],I)),I=new P(D.x,D.y,I.width,l),I=(e.add(I),i.measureString(Ca.getContent(u[t]),M)),D=((null==T||T>s.right-I.width-this.indent)&&(T=s.right-I.width-this.indent),new P(T,D.y,I.width,l));e.add(D),F.add(e)}for(let r=0;r<this.iterations.length;r++){var A=this.processFontName(w.fontFamily.name,this.iterations[r]),R=this.processFontStyle(w,this.iterations[r]),A=new z(A,x,R),R=$o.create(A),A=F[r],E;let e=A[0];if(!e.intersectsWith(s))return;let t=this.processBackColor(this.iterations[r]);null!=t&&i.fillRectangle(t,e,null),this.element.report.isDesigning||(E=he.getHotBackColor(this.element),null==t&&(t=N.transparent),i.fillRectangle3(t,E,e,this.getInteractionDataGeom(this.iterations[r])));var E=new P(A[1].x+this.indent,A[1].y,A[1].width,A[1].height),k=this.processForeColor(this.iterations[r]),A=(i.drawRotatedString5(a[r],R,k,E,v,eu.CenterCenter,0,!0),A[2]),L=this.processGlyphColor(this.iterations[r]),V=u[r],V;null!=V&&(V=this.processIcon(V,this.iterations[r]),i.drawRotatedString5(Ca.getContent(V),M,L,A,au.getStringFormatGeom(i),eu.CenterCenter,0,!0)),i.drawRotatedString4(o[r],R,k,new Il(T-4,A.y+A.height/2),v,eu.RightCenter,0,!0)}}drawMultiModeWithTarget(s,n,e){let l=n.height/this.iterations.length,a=(l<this.minSide&&(l=this.minSide),new le),o=new le,u=new le,h=new le,m=new le;for(let t=0;t<this.iterations.length;t++){var r=this.iterations[t],r=(a.add(r.series),o.add(zi.format(this.element.report,this.element.textFormat,r.value)),this.getVariation(this.iterations[t]));let e=new Nr;e.decimalDigits=3;var i=zi.formatAsPercentage2(this.element.report,e,r),d=0<=r?yt.ArrowUp:yt.ArrowDown;u.add(i),h.add(d),m.add(0==r?At.None:At.Right)}let t=null;var c=this.element.font,g=new z(c.fontFamily.name,1,c.style,c.unit);for(let e=0;e<this.iterations.length;e++){var p=a[e]+o[e]+u[e]+"DeltaIcon",S=new P(n.x,n.y,n.width,l),S=au.getFontSize(s,S,p,g);(null==t||t>S)&&(t=S)}var w=au.getStringFormatGeom(s);let f=this.element.font.size/13*t;if((f=f>t?t:f)<1)return;let C=new $o(c.fontFamily.name,f,c.style,c.unit);var b=new $o("Stimulsoft",.99*f,se.System.Drawing.FontStyle.Regular,se.System.Drawing.GraphicsUnit.Point);let y=null;for(let e=0;e<this.iterations.length;e++){var v=h[e],v;null!=v&&(v=s.measureString(Ca.getContent(v),b),(null==y||y>n.right-v.width-+this.indent)&&(y=n.right-v.width-+this.indent))}let x=null;for(let e=0;e<this.iterations.length;e++){var F=s.measureString(u[e],C);(null==x||x>y-F.width)&&(x=y-F.width)}var T=he.getIndicatorStyle(this.element);for(let i=0;i<this.iterations.length;i++){let e=this.processForeColor(this.iterations[i]);var M=this.processFontName(c.fontFamily.name,this.iterations[i]),D=this.processFontStyle(c,this.iterations[i]),M=new z(M,f,D),D=(C=$o.create(M),n.y+l*i),M;let t=new P(n.x,D,n.width,l);if(!t.intersectsWith(n))return;let r=this.processBackColor(this.iterations[i]);null!=r&&s.fillRectangle(r,t,null),this.element.report.isDesigning||(M=he.getHotBackColor(this.element),null==r&&(r=N.transparent),s.fillRectangle3(r,M,t,this.getInteractionDataGeom(this.iterations[i])));var M=s.measureString(a[i],C),M=new P(t.x+this.indent,t.y,M.width,l),M=(s.drawString(a[i],C,e,M,w),h[i]==yt.ArrowUp?T.positiveColor:T.negativeColor),M=this.processTargetIconColor(M,this.iterations[i]),I=s.measureString(Ca.getContent(h[i]),b),I=new P(y,t.y,I.width,l),A=s.measureString(u[i],C),A=new P(y-A.width,t.y,A.width,l),R=h[i],R=this.processTargetIcon(R,this.iterations[i]);s.drawRotatedString5(u[i],C,M,A,w,eu.CenterCenter,0,!0);var E,A=(this.processTargetIconAlignment(m[i],this.iterations[i])!=At.None&&s.drawRotatedString5(Ca.getContent(R),b,M,I,au.getStringFormatGeom(s),eu.CenterCenter,0,!0),this.iterations[i].value<0&&Eu.isNegativeInRed(this.element.textFormat)&&(e=k.Engine.negativeColor),s.measureString(o[i],C)),R=new P(x-A.width,D,A.width,l);s.drawRotatedString4(o[i],C,e,new Il(R.right,R.y+R.height/2),w,eu.RightCenter,0,!0)}}getInteractionDataGeom(e){var e,e;let t=new Vu,r=(t.value=e.value,t.seriesText=e.series,t.target=e.target,new Lu);return r.interactionToolTip=null==(e=this.element.interaction)?void 0:e.toolTip,r.interactionHyperlink=null==(e=this.element.interaction)?void 0:e.hyperlink,r.interactionData=t,r}getMaxValue(){let e=0;for(var t of this.iterations)e<t.value&&(e=t.value);return e}getTargetValues(){let e=new le;for(var t of this.iterations)e.add(t.target);return e}drawTextIcon(e,t,r,i,s,n,l,a,o){let u,h,m=null;if(a==At.None){u=P.empty,h=new P(l.x,l.y,l.width,l.height);var d={ref:m};this.measureFontSize(e,h.clone(),t,d),m=d.ref}else if(a==At.Right||a==At.Left){var d={ref:m};if(this.measureFontSize(e,l.clone(),t,d),null==(m=d.ref)&&m<=0)return;var d=new $o("Stimulsoft",m,se.System.Drawing.FontStyle.Regular,se.System.Drawing.GraphicsUnit.Point),c=new $o(r.fontFamily.name,m,r.style,se.System.Drawing.GraphicsUnit.Point),c=e.measureString(t,c),d=e.measureString(i,d),g=c.width+d.width>l.width?l.width/(c.width+d.width):1,c=(m*=g,new ue(c.width*g,c.height*g)),d=new ue(d.width*g,d.height*g),g=a==At.Right?l.x+(l.width-c.width-d.width)/2:l.x+(l.width-c.width-d.width)/2+d.width,p=l.y+(l.height-c.height)/2,g=(h=new P(g,p,c.width,c.height),a==At.Right?h.right:h.x-d.width),p=l.y+(l.height-d.height)/2;u=new P(g,p,d.width,d.height)}else{h=a==At.Bottom?new P(l.x,l.y,l.width,l.height/2):new P(l.x,l.y+l.height/2,l.width,l.height/2),u=a==At.Bottom?new P(l.x,l.y+l.height/2,l.width,l.height/2):new P(l.x,l.y,l.width,l.height/2);var c={ref:m};this.measureFontSize(e,h,t,c),m=c.ref}var g,p;null!=m&&0<m&&(g=new $o(r.fontFamily.name,m,r.style,ku.Pixel),e.drawRotatedString5(t,g,s,h,au.getStringFormatGeom(e),eu.CenterCenter,0,!0)),null!=m&&0<m&&a!=At.None&&(null==o||0==o.length?(p=new $o("Stimulsoft",.6*m,se.System.Drawing.FontStyle.Regular,se.System.Drawing.GraphicsUnit.Point),e.drawRotatedString5(i,p,n,u,au.getStringFormatGeom(e),eu.CenterCenter,0,!0)):e.drawImage(o,u))}getFontGeom(e){return new $o("Arial",e,L.Bold,ku.Point)}measureFontSize(e,t,r,i){var e=e.measureString(r,this.getFontGeom(1e3));if(0==e.width||0==e.height)return void(i.ref=0);var r=t.width/e.width*1e3,t=t.height/e.height*1e3,e=t<r?t:r;(null==i.ref||i.ref>e)&&(i.ref=e)}getElementSide(e,t){var r=e?t.height:t.width,e=e?t.width:t.height;let i=r/this.iterations.length;return i=i>e?e:i}},B.T.StiIndicatorElement),Nu=se.Report.Dashboard.Visuals.IStiIndicatorVisualSvgHelper,Pu=B.i.StiIndicatorElementBuilder,Ou=B.u.StiIndicatorVisual;{class Wc{implements(){return Wc.ImplementsStiIndicatorVisualSvgHelper||(Wc.ImplementsStiIndicatorVisualSvgHelper=[Nu]),Wc.ImplementsStiIndicatorVisualSvgHelper}writeIndicator(a,o,u,h){return se.tsfb(this,void 0,void 0,function*(){let e=new P(0,0,o.width,o.height),t=o.component.as(B.T.StiIndicatorElement);var r=yield Wc.getDataTable(t);if(null==r)return;let i=(new Pu).render(t,r);if(t["isSampleForStyles"]?i=this.getStyleSampleIterations():this.isEmptyData(t,r)&&(i=this.getEmptyDataIterations(),t=this.getEmptyDataIndicatorElement(t)),null==i||!i.any())return;var r=new uu,r=new pu(r,!0,!1,!1,1),s;let n=new Ou(t,i.toList());u&&u.needToVertScroll&&(s=n.getContentRectangle(e),u.needToVertScroll=s.height>e.height+5,u.needToVertScroll&&(e.width-=15,s=n.getContentRectangle(e),(e=s).height+=10,h.ref=se.System.Convert.toInt32(e.height))),n.draw(r,e.clone()),a.writeStartElement("g");var s=u&&u.needToVertScroll?0:o.x+.5,l=u&&u.needToVertScroll?0:o.y+.5;a.writeAttributeString("transform",ne.format("translate({0},{1})",this.p(s),this.p(l))),Cu.writeGeoms(a,r,!1,!1),a.writeEndElement()})}p(e){return e.toString().split(",").join(".")}isEmptyData(e,t){return null!=t&&t.isEmpty&&e.isQuerable}getStyleSampleIterations(){let e=new le,t=new Ru;return t.value=100,e.add(t),e}getEmptyDataIterations(){let e=new le,t=new Ru;return t.value=0,t.series=w.get("Dashboard","Blank"),e.add(t),e}getEmptyDataIndicatorElement(e){let t=e.clone(!0).as(Bu);return t.glyphColor=N.fromArgb(240,240,240),t}static getDataTable(t){var r;return se.tsfb(this,void 0,void 0,function*(){var e=null==(r=t.as(fu))?void 0:r.getManuallyEnteredDataTable();if(null!=e)return e;return yield el.tryToGetOrCreate(t)})}}B.h.StiIndicatorVisualSvgHelper=Wc}let zu=se.Data.Comparers.StiArrayEqualityComparer,Hu=se.Base.Helpers.StiBingMapHelper,Xu=se.Base.Drawing.StiColorUtils,Gu=se.Report.Maps.StiMapHelper;{class Uc{static get ICON(){return null==this._ICON&&(this._ICON=Aa.toBase64String(Xn.UTF8.getBytes('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" fill="#af6682" stroke="#663a4c"/><circle cx="12" cy="9" r="3" fill="#f7f4f2"/></svg>'))),this._ICON}static get EMPTY_ICON(){return null==this._EMPTY_ICON&&(this._EMPTY_ICON=Aa.toBase64String(Xn.UTF8.getBytes('<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1" ></svg>'))),this._EMPTY_ICON}static getBingMapScript(l,e){return se.tsfb(this,void 0,void 0,function*(){var r=yield el.tryToGetOrCreate(l);let i=this.calculateMapData(r,l);if(e){var r=l.padding;i["outerStyle"]="display: table;\r\n"+`padding:${r.top}px ${r.right}px ${r.bottom}px ${r.left}px;`;let t=l.title;if(t.visible){let e="";var r,r=(t.font.bold&&(e+="font-weight: bold;"),t.font.italic&&(e+="font-style: italic;"),(t.font.strikeout||t.font.underline)&&(r=t.font.underline?t.font.strikeout?"underline line-through":"underline":t.font.strikeout?"line-through":"none",e+=`text-decoration: ${r};`),Jo.toHtml(N.transparent.equals(t.foreColor)?he.getTitleForeColor(l):t.foreColor)),s=Jo.toHtml(N.transparent.equals(t.backColor)?he.getBackColor(l):t.backColor),n=t.horAlignment.toString().toLowerCase();i["title"]=`font-family: ${t.font.name}; font-size: ${t.font.size}pt; color: ${r};`+`${e}background-color:${s};text-align:${n}'>${t.text}</div>`}}return Hu.getScript(i)})}static calculateMapData(a,o){let u={};var r=this.getLongitudeMeterIndex(a),i=this.getLatitudeMeterIndex(a),h=this.getLocationMeterIndex(a),m=this.getLocationColorMeterIndex(a),d=this.getLocationArgumentMeterIndex(a),c=this.getLocationValueMeterIndex(a),e=he.isDarkStyle(o.dashboard);if(null!=a)if(-1!=i&&-1!=r){let e=[],t=0;for(var s of a.rows){t++;var n=s[i],s=s[r];if(null==n||null==s)continue;var n=O.tryToNumber(n).toString().replace(",","."),s=O.tryToNumber(s).toString().replace(",",".");if(null==o.customIcon?e.push({lat:n,lon:s,fontIcon:Ca.getContent(o.icon).charCodeAt(0),fontIconColor:`rgb(${o.iconColor.r}, ${o.iconColor.g}, ${o.iconColor.b})`}):e.push({lat:n,lon:s,anchorX:this.MAX_RADIUS,anchorY:2*this.MAX_RADIUS}),t>this.MAX_LOCATIONS)break}u["pushpins"]=e}else if(-1!=h){let r=null,i=null;if(o.locationColorType==ja.ColorEach)r=this.getColors(Math.min(a.rows.length,this.MAX_LOCATIONS));else if(o.locationColorType==ja.Group&&-1!=m){let t=[];for(let e=0;e<a.rows.length;e++){var g=null!=a.rows[e][m]?a.rows[e][m].toString():"";t.stimulsoft().contains(g)||t.push(g)}var p=this.getColors(t.length);i=new Wa;for(let e=0;e<t.length;e++)i.set(t[e],p[e])}let t=new le;if(0<=c)for(let e=0;e<Math.min(a.rows.length,this.MAX_LOCATIONS);e++)t.add(O.tryToNumber(a.rows[e][c]));dn.sort(t);let s=t,n=new Object,l=0;while(l<a.rows.length&&l<this.MAX_LOCATIONS){var S=a.rows[l][h],w,w,f,C,b,y,v,f;if(null==S){l++;continue}let e=N.limeGreen,t=null;o.locationColorType==ja.Single?(e=o.locationColor,t=N.transparent.equals(o.locationColor)?"Transparent":null):o.locationColorType==ja.ColorEach?e=r[l]:(o.locationColorType==ja.Group||o.locationColorType==ja.Value)&&0<=m&&(w=null!=a.rows[l][m]?a.rows[l][m].toString():"",o.locationColorType==ja.Group&&i.containsKey(w)&&(e=i.get(w)),o.locationColorType!=ja.Value||ne.isNullOrEmpty(w)||(t=w)),n[S]={fillStyle:null!=t?t:`rgba(${e.r}, ${e.g}, ${e.b}, 0.5)`,strokeStyle:"Transparent"==t?t:"#d3d3d3"},(0<=c||o.valueViewMode==Ja.Icon)&&(o.valueViewMode==Ja.Bubble?(w=s.indexOf(O.tryToNumber(a.rows[l][c]))/s.length,f=2*this.MAX_RADIUS+2,C=this.MIN_RADIUS+Math.ceil(w*this.DELTA_RADIUS),b=this.MAX_RADIUS+1,y=Xu.dark(null!=t?this.parseColor(t):e,70),v=null!=t?t:`rgba(${e.r}, ${e.g}, ${e.b}, 0.5)`,f=`<svg xmlns="http://www.w3.org/2000/svg" width="${f}" height="${f}">`+`<circle cx="${b}" cy="${b}" r="${C}" stroke="rgba(${y.r}, ${y.g}, ${y.b}, ${y.a})" `+`stroke-width="1" fill="${v}"/>`+"</svg>",n[S]["icon"]=Aa.toBase64String(Xn.UTF8.getBytes(f)),n[S]["anchorX"]=b,n[S]["anchorY"]=b):o.valueViewMode==Ja.Value?(n[S]["icon"]=this.EMPTY_ICON,n[S]["title"]=null!=a.rows[l][c]?a.rows[l][c].toString():"",n[S]["anchorX"]=1,n[S]["anchorY"]=7):o.valueViewMode==Ja.Icon?(null==o.customIcon&&(n[S]["fontIcon"]=Ca.getContent(o.icon).charCodeAt(0),n[S]["fontIconColor"]=`rgb(${o.iconColor.r}, ${o.iconColor.g}, ${o.iconColor.b})`),0<c&&(n[S]["title"]=null!=a.rows[l][c]?a.rows[l][c].toString():"")):o.valueViewMode==Ja.Chart&&(n[S]["chart"]=this.getChartData(a,h,c,d,a.rows[l][h]),n[S]["icon"]=this.EMPTY_ICON)),l++}u["locations"]=n,u["locationType"]=ge.getName(Xa,o.locationType)}(o.valueViewMode==Ja.Icon||-1!=i&&-1!=r)&&null!=o.customIcon&&this.getCustomIcon(o.customIcon,u),u["theme"]=e?"canvasDark":"canvasLight",u["culture"]=Ga[o.culture].toString().replace("_","-");let t=he.getBackColor(o);return N.transparent.equals(t)&&null!=o.report&&o.report.info.fillComponent&&o.isDesigning&&(t=N.fromArgb(153,N.white)),u["backgroundColor"]=Jo.toHtml(t),u}static getChartData(t,n,l,a,o){let u=new Wa;try{if(0<=n&&0<=l&&0<=a){var h=this.CHART_RADIUS,m=t.meters[a],d=t.meters[l],c=t.meters[n];let e=t.rows.where(e=>e[n]==o);var g=e.groupBy(e=>[e[a]],new zu).select(e=>e.key.stimulsoft().toArray()[0]).toList();let r=new le;for(let t of g)r.add(e.where(e=>e[a]==t).select(e=>e[l]).sum(e=>O.tryToNumber(e)));var p=r.sum(),S=this.getColors(Math.min(g.countItems,this.MAX_CHART_SECTORS));let i=0,s=[];for(let t=0;t<Math.min(g.countItems,this.MAX_CHART_SECTORS);t++){let e=g[t];var w=r[t],f=w/p*6.28318530716,C=h+1+h*Math.cos(i),b=h+1+h*Math.sin(i),y=h+1+h*Math.cos(i+f),v=h+1+h*Math.sin(i+f),x=.5<w/p?1:0,F=Xu.dark(S[t],100);s.push({stroke:`rgb(${F.r}, ${F.g}, ${F.b})`,fill:`rgb(${S[t].r}, ${S[t].g}, ${S[t].b})`,_color:Jo.toHtml(S[t]),d:`M ${h+1} ${h+1} L ${this.toUnits(C)} ${this.toUnits(b)} A ${h} ${h} 0 ${x} 1 ${this.toUnits(y)} ${this.toUnits(v)}z`,_text0:c.label,_text1:null!=o?o.toString():null,_text2:m.label,_text3:null!=e?e.toString():null,_text4:d.label,_text5:w.toString}),i+=f}u["paths"]=s,u["anchor"]=h}}catch(e){}return u}static toUnits(e){var t=2,r;return V.round2(e,t).toString().replace(",",".")}static getCustomIcon(r,i){try{var s,s,n;let e=0,t=0;tu.isSvg(r)||(s=Sa.bytesToImage(r),n=Math.min(1,2*this.MAX_RADIUS/Math.max(s.width,s.height)),e=Math.round(s.width*n),t=Math.round(s.height*n)),i["customIconAnchorX"]=e/2,i["customIconAnchorY"]=t;var l=`<svg xmlns="http://www.w3.org/2000/svg" width="${e}" height="${t}"><image width="${e}" height="${t}" href="${this.imageBytesToBase64String(r)}"></image></svg>`;i["customIcon"]=Aa.toBase64String(Xn.UTF8.getBytes(l))}catch(e){}}static imageBytesToBase64String(e){let t="data:image/png;base64,";return tu.isBmp(e)?t="data:image/bmp;base64,":tu.isJpeg(e)?t="data:image/jpeg;base64,":tu.isGif(e)?t="data:image/gif;base64,":tu.isSvg(e)&&(t="data:image/svg+xml;base64,"),t+Aa.toBase64String(e)}static getColors(e){let t=new le,r=10,i=!0,s=Gu.getColors();t.addRange(s.stimulsoft().toList());while(t.length<e){if(i)for(var n of s)t.add(Xu.dark(n,r));else{for(var l of s)t.add(Xu.light(l,r));r+=10}i=!i}return t}static getLongitudeMeterIndex(e){if(null==e)return-1;var t=e.meters.firstOrDefault(e=>e.is(es));return null!=t?e.meters.indexOf(t):-1}static getLatitudeMeterIndex(e){if(null==e)return-1;var t=e.meters.firstOrDefault(e=>e.is($i));return null!=t?e.meters.indexOf(t):-1}static getLocationMeterIndex(e){if(null==e)return-1;var t=e.meters.firstOrDefault(e=>e.is(Ii));return null!=t?e.meters.indexOf(t):-1}static getLocationColorMeterIndex(e){if(null==e)return-1;var t=e.meters.firstOrDefault(e=>e.is(Ai));return null!=t?e.meters.indexOf(t):-1}static getLocationArgumentMeterIndex(e){if(null==e)return-1;var t=e.meters.firstOrDefault(e=>e.is(Di));return null!=t?e.meters.indexOf(t):-1}static getLocationValueMeterIndex(e){if(null==e)return-1;var t=e.meters.firstOrDefault(e=>e.is(Ri));return null!=t?e.meters.indexOf(t):-1}static parseColor(e){let i=N.black;try{if(1<e.length){if("#"==e[0]){let t=e.substring(1).toLowerCase(),r="";for(let e=0;e<t.length;e++){var s=t.charAt(e);"0"!=s&&"1"!=s&&"2"!=s&&"3"!=s&&"4"!=s&&"5"!=s&&"6"!=s&&"7"!=s&&"8"!=s&&"9"!=s&&"a"!=s&&"b"!=s&&"c"!=s&&"d"!=s&&"e"!=s&&"f"!=s||(r+=s)}var n;6==(t=3==r.length?ne.format("{0}{0}{1}{1}{2}{2}",r[0],r[1],r[2]):r).length&&(n=Aa.toInt32(t,16),i=N.fromArgb(255,n>>16&255,n>>8&255,255&n))}else if(e.stimulsoft().startsWith("rgb")){let r=e.trim().substring(4,e.length-1).split(",");if(3==r.length){let e=[0,0,0];r[0].stimulsoft().endsWith("%")?e[0]=Math.round(2.55*O.tryToNumber(r[0].substring(0,r[0].length-1))):e[0]=O.tryToNumber(r[0]),r[1].stimulsoft().endsWith("%")?e[1]=Math.round(2.55*O.tryToNumber(r[1].substring(0,r[1].length-1))):e[1]=O.tryToNumber(r[1]),r[2].stimulsoft().endsWith("%")?e[2]=Math.round(2.55*O.tryToNumber(r[2].substring(0,r[2].length-1))):e[2]=O.tryToNumber(r[2]),i=N.fromArgb(255,e[0],e[1],e[2])}else if(4==r.length){let e=[0,0,0],t=1;r[0]=r[0].replace("(",""),r[0].stimulsoft().endsWith("%")?e[0]=Math.round(2.55*O.tryToNumber(r[0].substring(0,r[0].length-1))):e[0]=O.tryToNumber(r[0]),r[1].stimulsoft().endsWith("%")?e[1]=Math.round(2.55*O.tryToNumber(r[1].substring(0,r[1].length-1))):e[1]=O.tryToNumber(r[1]),r[2].stimulsoft().endsWith("%")?e[2]=Math.round(2.55*O.tryToNumber(r[2].substring(0,r[2].length-1))):e[2]=O.tryToNumber(r[2]),t=r[3].stimulsoft().endsWith("%")?2.55*O.tryToNumber(r[3].substring(0,r[3].length-1)):O.tryToNumber(r[3]),i=N.fromArgb(Math.round(255*t),e[0],e[1],e[2])}}else if(null==this.htmlNameToColor){let t=[["AliceBlue","#F0F8FF"],["AntiqueWhite","#FAEBD7"],["Aqua","#00FFFF"],["Aquamarine","#7FFFD4"],["Azure","#F0FFFF"],["Beige","#F5F5DC"],["Bisque","#FFE4C4"],["Black","#000000"],["BlanchedAlmond","#FFEBCD"],["Blue","#0000FF"],["BlueViolet","#8A2BE2"],["Brown","#A52A2A"],["BurlyWood","#DEB887"],["CadetBlue","#5F9EA0"],["Chartreuse","#7FFF00"],["Chocolate","#D2691E"],["Coral","#FF7F50"],["CornflowerBlue","#6495ED"],["Cornsilk","#FFF8DC"],["Crimson","#DC143C"],["Cyan","#00FFFF"],["DarkBlue","#00008B"],["DarkCyan","#008B8B"],["DarkGoldenRod","#B8860B"],["DarkGray","#A9A9A9"],["DarkGrey","#A9A9A9"],["DarkGreen","#006400"],["DarkKhaki","#BDB76B"],["DarkMagenta","#8B008B"],["DarkOliveGreen","#556B2F"],["Darkorange","#FF8C00"],["DarkOrchid","#9932CC"],["DarkRed","#8B0000"],["DarkSalmon","#E9967A"],["DarkSeaGreen","#8FBC8F"],["DarkSlateBlue","#483D8B"],["DarkSlateGray","#2F4F4F"],["DarkSlateGrey","#2F4F4F"],["DarkTurquoise","#00CED1"],["DarkViolet","#9400D3"],["DeepPink","#FF1493"],["DeepSkyBlue","#00BFFF"],["DimGray","#696969"],["DimGrey","#696969"],["DodgerBlue","#1E90FF"],["FireBrick","#B22222"],["FloralWhite","#FFFAF0"],["ForestGreen","#228B22"],["Fuchsia","#FF00FF"],["Gainsboro","#DCDCDC"],["GhostWhite","#F8F8FF"],["Gold","#FFD700"],["GoldenRod","#DAA520"],["Gray","#808080"],["Grey","#808080"],["Green","#008000"],["GreenYellow","#ADFF2F"],["HoneyDew","#F0FFF0"],["HotPink","#FF69B4"],["IndianRed","#CD5C5C"],["Indigo","#4B0082"],["Ivory","#FFFFF0"],["Khaki","#F0E68C"],["Lavender","#E6E6FA"],["LavenderBlush","#FFF0F5"],["LawnGreen","#7CFC00"],["LemonChiffon","#FFFACD"],["LightBlue","#ADD8E6"],["LightCoral","#F08080"],["LightCyan","#E0FFFF"],["LightGoldenRodYellow","#FAFAD2"],["LightGray","#D3D3D3"],["LightGrey","#D3D3D3"],["LightGreen","#90EE90"],["LightPink","#FFB6C1"],["LightSalmon","#FFA07A"],["LightSeaGreen","#20B2AA"],["LightSkyBlue","#87CEFA"],["LightSlateGray","#778899"],["LightSlateGrey","#778899"],["LightSteelBlue","#B0C4DE"],["LightYellow","#FFFFE0"],["Lime","#00FF00"],["LimeGreen","#32CD32"],["Linen","#FAF0E6"],["Magenta","#FF00FF"],["Maroon","#800000"],["MediumAquaMarine","#66CDAA"],["MediumBlue","#0000CD"],["MediumOrchid","#BA55D3"],["MediumPurple","#9370D8"],["MediumSeaGreen","#3CB371"],["MediumSlateBlue","#7B68EE"],["MediumSpringGreen","#00FA9A"],["MediumTurquoise","#48D1CC"],["MediumVioletRed","#C71585"],["MidnightBlue","#191970"],["MintCream","#F5FFFA"],["MistyRose","#FFE4E1"],["Moccasin","#FFE4B5"],["NavajoWhite","#FFDEAD"],["Navy","#000080"],["OldLace","#FDF5E6"],["Olive","#808000"],["OliveDrab","#6B8E23"],["Orange","#FFA500"],["OrangeRed","#FF4500"],["Orchid","#DA70D6"],["PaleGoldenRod","#EEE8AA"],["PaleGreen","#98FB98"],["PaleTurquoise","#AFEEEE"],["PaleVioletRed","#D87093"],["PapayaWhip","#FFEFD5"],["PeachPuff","#FFDAB9"],["Peru","#CD853F"],["Pink","#FFC0CB"],["Plum","#DDA0DD"],["PowderBlue","#B0E0E6"],["Purple","#800080"],["Red","#FF0000"],["RosyBrown","#BC8F8F"],["RoyalBlue","#4169E1"],["SaddleBrown","#8B4513"],["Salmon","#FA8072"],["SandyBrown","#F4A460"],["SeaGreen","#2E8B57"],["SeaShell","#FFF5EE"],["Sienna","#A0522D"],["Silver","#C0C0C0"],["SkyBlue","#87CEEB"],["SlateBlue","#6A5ACD"],["SlateGray","#708090"],["SlateGrey","#708090"],["Snow","#FFFAFA"],["SpringGreen","#00FF7F"],["SteelBlue","#4682B4"],["Tan","#D2B48C"],["Teal","#008080"],["Thistle","#D8BFD8"],["Tomato","#FF6347"],["Turquoise","#40E0D0"],["Violet","#EE82EE"],["Wheat","#F5DEB3"],["White","#FFFFFF"],["WhiteSmoke","#F5F5F5"],["Yellow","#FFFF00"],["YellowGreen","#9ACD32"]];this.htmlNameToColor=new Wa;for(let e=0;e<2;e++){var r=t[e][0].toLowerCase(),l=Aa.toInt32(t[e][1].substring(1),16),a=N.fromArgb(255,l>>16&255,l>>8&255,255&l);this.htmlNameToColor.set(r,a)}}var t=e.toLowerCase();this.htmlNameToColor.containsKey(t)&&(i=this.htmlNameToColor.get(t))}}catch(e){}return i}}Uc.MAX_LOCATIONS=1e3,Uc.MAX_CHART_SECTORS=100,Uc.MIN_RADIUS=3,Uc.MAX_RADIUS=15,Uc.CHART_RADIUS=26,Uc.DELTA_RADIUS=12,Uc.lockHtmlNameToColor=new Object,B.h.StiOnlineMapHelper=Uc}let ju=se.Report.CrossTab.Core.StiCellType,Ju=se.System.Collections.DictionaryEntry,Wu=se.Report.Components.StiDataHelper,Uu=se.Report.Components.StiFilter,Ku=se.Report.Components.StiCondition,qu=se.Data.Helpers.StiLabelHelper,Yu=se.Report.Engine.StiEngine,Zu=se.System.Drawing.ContentAlignment,Qu=se.Report.Components.StiIconSetIndicator,_u=se.Report.Dashboard.StiPivotToConvertedStateCache,$u=se.Report.Dashboard.StiPivotTableToCrossTabCache,eh=se.Report.CrossTab.StiCrossTotal,th=se.Report.CrossTab.StiCrossRowTotal,rh=se.Report.CrossTab.StiCrossTab,ih=se.Report.CrossTab.StiCrossTitle,sh=se.Report.Components.StiComponentsCollection,nh=se.Report.CrossTab.StiCrossColumnTotal,lh=se.Report.CrossTab.StiCrossSummary,ah=B.N.StiPivotTableElement,oh=se.Report.CrossTab.Core.StiCell,uh=se.Report.CrossTab.StiCrossColumn,hh=se.Report.StiReportUnitType,mh=se.Report.StiReport,dh=se.Report.CrossTab.StiCrossRow,ch=se.Report.CrossTab.StiCrossSummaryHeader,gh=se.System.Guid,ph=se.Report.CrossTab.StiCrossHeader,Sh=se.Report.CrossTab.Core.StiSummaryType,wh=se.Report.CrossTab.StiCrossCell,fh=se.Report.CrossTab.Core.StiCross,Ch=se.Report.Dictionary.StiVirtualSource,bh=se.Report.CrossTab.StiCrossTabHelper;{class Jd{static getHeadersBounds(r){let i=-1,s=-1,n=-1,l=-1;for(let t=0;t<r.length;t++)for(let e=0;e<r[t].length;e++){var a=r[t][e];a.cellType!=ju.HeaderColMain&&a.cellType!=ju.HeaderColSummaryTotal||(i=-1==i?e:i,s=Math.max(e,s)),a.cellType!=ju.HeaderRowMain&&a.cellType!=ju.HeaderRowSummaryTotal||(n=-1==n?t:n,l=Math.max(t,l))}return new P(n,i,l-n,s-i)}static getViewerData(n){return se.tsfb(this,void 0,void 0,function*(){let e={};var t=n.as(ah),r;let i=$u.get(t);null==i&&(r=yield el.getOrCreate(t),i=yield Jd.convertToCrossTab(t,r),$u.put(t,i),_u.putFalse(t));var r=0==t.rows.length&&0==t.columns.length&&0<t.summaries.length,l=i.crossTabInfo.cross.cells,s=this.getHeadersBounds(l),a=s.bottom+1,o=s.right+1;e["headerHeight"]=a,e["headerWidth"]=o,e["onlySummaries"]=r,e["pivotColumnsCount"]=t.columns.length,e["pivotRowsCount"]=t.rows.length,e["pivotSummariesCount"]=t.summaries.length,e["pivotSummaryDirection"]=ge.getName(Ua,t.summaryDirection);let u=[];if(0<l.length){let n=new Wa;for(let t=0;t<l.length;t++)for(let e=0;e<l[t].length;e++){var h=l[t][e];ne.isNullOrEmpty(h.parentGuid)||h.parentCell!=h||(n.containsKey(h.parentGuid)||n.set(h.parentGuid,new le),n.get(h.parentGuid).add(h))}var m=[];for(let s=0;s<l.length;s++){let i=[];for(let r=0;r<l[0].length;r++){var d=l[s][r];let e=new le,t=null;if(d.parentCell==d&&!ne.isNullOrEmpty(d.guid)&&n.containsKey(d.guid))for(var c of n.get(d.guid))c.field.is(eh)&&c.parentCell==c?t=c.guid:e.add(c.guid);i.push(this.cellItem(l[s][r],s,r,e,t,s<o||r<a,m,s>=o))}u.push(i)}e["cells"]=u,e["sizes"]=m}return e})}static cellItem(t,r,i,e,s,n,l,a){var o,o,o,o,o,o;let u=null==(o=null==(o=t.field)?void 0:o.report)?void 0:o.unit,h=-1,m=(t.field&&null!=u&&(o=`${u.convertToHInches(null==(o=t.field)?void 0:o.minSize.width)};${u.convertToHInches(null==(o=t.field)?void 0:o.maxSize.width)};`+(null!=(o=t.field)&&o.wordWrap?"True":"False"),-1==l.indexOf(o)&&l.push(o),h=l.indexOf(o)),{});if(m["rowSpan"]=t.height,m["colSpan"]=t.width,m["row"]=i,m["column"]=r,m["text"]=t.text,m["isColumn"]=a,m["s"]=h,m["l"]=t.level,n&&(ne.isNullOrEmpty(t.guid)&&(t.guid=gh.newGuid().toString()),ne.isNullOrEmpty(t.parentGuid)||(m["parentGuid"]=t.parentGuid),null!=t.parentCell&&t.parentCell==t&&(m["parentCellGuid"]=t.parentCell.guid),null!=t.field&&(m["isTotal"]=t.field.is(eh)&&t.parentCell==t),m["guid"]=t.guid,0<e.length&&(m["dependedCellGuis"]=e),null!=s&&(m["totalCellGuid"]=s)),null!=t.field&&null!=t.field.indicator&&t.field.indicator.stimulsoft().is(Qu)){var l=t.field.indicator.as(Qu);let e=ge.getName(Zu,l.alignment);var o=0==e.indexOf("Top")?"top":0==e.indexOf("Bottom")?"bottom":"middle",i=`<img src='data:image/png;base64,${Aa.toBase64String(l.customIcon)}' style='vertical-align: ${o};'>`;delete m["text"],0<e.indexOf("Left")?m["text"]=i+t.text:m["text"]=t.text+i}var r=null!=t.field?t.field.conditionPermissions:null,a,n;let d={};if(r!=Qa.None){0<(r&Qa.BackColor)&&(a=t.field.conditionBrush.color,d["backgroundColor"]=`rgba(${a.r}, ${a.g}, ${a.b}, ${a.a})`),0<(r&Qa.Font)&&(d["fontFamily"]=t.field.font.name),0<(r&Qa.FontSize)&&(d["fontSize"]=t.field.font.sizeInPoints+`pt`),0<(r&Qa.FontStyleBold)&&(d["fontWeight"]=0<(t.field.font.style&L.Bold)?"bold":"normal"),0<(r&Qa.FontStyleItalic)&&(d["fontStyle"]=0<(t.field.font.style&L.Italic)?"italic ":"normal");let e="";0<(r&Qa.FontStyleStrikeout)&&0<(t.field.font.style&L.Strikeout)&&(e+="line-through "),0<(r&Qa.FontStyleUnderline)&&0<(t.field.font.style&L.Underline)&&(e+="underline"),ne.isNullOrEmpty(e)||(d["textDecoration"]=e),0<(r&Qa.TextColor)&&(n=t.field.conditionTextBrush.color,d["color"]=`rgba(${n.r}, ${n.g}, ${n.b}, ${n.a})`)}if(null!=t.field)switch(t.field.horAlignment){case Vt.Left:d["text-align"]="left";break;case Vt.Right:d["text-align"]="right";break;case Vt.Width:d["text-align"]="justify";break}return m["style"]=d,m}static applyStyle(e,t,i){var s=he.getPivotTableStyle(e),n=t.crossTabInfo.cross.cells,l=e.columns.length+(0<e.rows.length?1:0)+(1<e.summaries.length&&e.summaryDirection==Ua.LeftToRight?1:0),a=(0==e.rows.length?1:e.rows.length)+(1<e.summaries.length&&e.summaryDirection==Ua.UpToDown?1:0);for(let r=0;r<n.length;r++)for(let t=0;t<n[r].length;t++)if(null!=n[r][t].field){let e=n[r][t];var o=!(e.isCrossSummary||e.field.is2(lh)||(e.field.is2(th)||e.field.is2(nh))&&null==e.guid);i?(e.field.font=new z("Arial",10,o?L.Bold:L.Regular),e.field.brush=new F(N.transparent),e.field.textBrush=new F(N.black)):o?(r<a&&t>=l?e.field.brush=null!=e.field.conditionBrush?e.field.conditionBrush:new F(s.rowHeaderBackColor):e.field.brush=null!=e.field.conditionBrush?e.field.conditionBrush:new F(s.columnHeaderBackColor),e.field.textBrush=null!=e.field.conditionTextBrush?e.field.conditionTextBrush:new F(s.columnHeaderForeColor)):(e.field.brush=null!=e.field.conditionBrush?e.field.conditionBrush:new F(t%2!=0?s.alternatingCellBackColor:s.cellBackColor),e.field.textBrush=null!=e.field.conditionTextBrush?e.field.conditionTextBrush:new F(t%2!=0?s.alternatingCellForeColor:s.cellForeColor)),e.field.border.color=s.lineColor}}static buildCross(s,n,l){var e,i,a;let o=new Wa;for(let e=0;e<n.meters.length;e++)o.set(n.meters[e].expression,e);s.crossTabInfo.startRow=0,s.crossTabInfo.startCol=0;let u=new sh(null),h=new sh(null),m=new sh(null),d=new sh(null),c=new sh(null),g=new sh(null),p=null,S=null,w=null,f=new dt;for(i of s.components.list)if(i.is(wh)||i.is(ih)||i.is(ch)){let e=i.as(dh),t=i.as(uh);var C=i.as(lh),b=i.as(ch);let r=i.as(ih);if(null!=r){r.typeOfComponent.stimulsoft().startsWith("Row:")&&c.add(r),r.typeOfComponent.stimulsoft().startsWith("Col:")&&g.add(r),r.typeOfComponent.stimulsoft().startsWith("LeftTitle")&&(p=r),r.typeOfComponent.stimulsoft().startsWith("RightTitle")&&(S=r),r.typeOfComponent.stimulsoft().startsWith("SummaryTitle")&&(w=r);continue}null!=e&&(h.add(e),e.isTotalVisible||(e.total.height=0)),null!=t&&(u.add(t),t.isTotalVisible||(t.total.width=0)),null!=C&&m.add(C),null!=b&&d.add(b);var C=new ot(i.name,Object);f.columns.add(C),i.is(ph)&&(C=new ot("Display__"+i.name,Object),f.columns.add(C))}for(a of n.rows){let r=f.newRow();for(var y of s.components.list){if(y.is(ch))continue;let t=y.as(wh);if(null!=t){let e=o.contains(y.alias)?a[o.get(y.alias)]:null;"number"==typeof e&&(e=e.stimulsoft().toNumber()),r.sett(t.name,e),t.is(ph)&&r.sett("Display__"+y.name,a[o.get(y.alias)])}else if(y.is(ih)&&!ne.isNullOrEmpty(y.alias)){let e=a[o.get(y.alias)];y.setTextInternal(e.toString())}}f.rows.add(r),s.next()}let v=new fh;s.crossTabInfo.cross=v,s.crossTabInfo.cross.designTime=!1,s.crossTabInfo.cross.colFields=u,s.crossTabInfo.cross.rowFields=h,s.crossTabInfo.cross.sumFields=m,s.crossTabInfo.cross.sumHeaderFields=d,s.crossTabInfo.cross.colTitleFields=g,s.crossTabInfo.cross.rowTitleFields=c,s.crossTabInfo.cross.leftCrossTitle=p,s.crossTabInfo.cross.rightCrossTitle=S,s.crossTabInfo.cross.summaryCrossTitle=w,(s.crossTabInfo.cross.crossTab=s).dataSourceName="pivot",s.report.dictionary.dataSources.add(new Ch("pivot","pivot")),s.summaryDirection=1<(null==(e=l.summaries)?void 0:e.length)?l.summaryDirection:Ua.UpToDown,s.crossTabInfo.cross.create(f,s.report,s.summaryDirection,s.emptyValue),s.crossTabInfo.cross.crossTab=null;var x=he.getPivotTableStyle(l),e=0==l.rows.length&&0==l.columns.length&&0<l.summaries.length;if(e){v.init(2,l.summaries.length);for(let i=0;i<l.summaries.length;i++){let e=l.summaries[i],t=new uh,r=(t.alias=e.expression,t.name="CrossTab_Sum"+i.toString(),t.page=s.page,t.horAlignment=Vt.Center,t.textFormat=e.textFormat.clone(),t.guid=gh.newGuidString(),t.font=me.Table.Font.getCachedGdiFont(),t.brush=new F(x.cellBackColor),t.border=new de(i==l.summaries.length-1?oe.Right|oe.Top:0==i?oe.Right|oe.Bottom:oe.Right|oe.Bottom|oe.Top,x.lineColor,1,wi.Solid),t.height=me.Table.getHeight(t.font),v.cells[0][i]=new oh,v.cells[0][i].text=this.getLabel(e),v.cells[0][i].field=t,v.cells[0][i].parentCell=v.cells[0][i],new lh);r.name="CrossTab_Sum"+i.toString(),r.value=0<n.rows.length?n.rows[0][i].toString():"",r.page=s.page,r.horAlignment=Vt.Right,r.textFormat=e.textFormat.clone(),r.guid=gh.newGuidString(),r.font=me.Table.Font.getCachedGdiFont(),r.border=new de(oe.None,x.lineColor,1,wi.Solid),r.height=me.Table.getHeight(r.font),v.cells[1][i]=new oh,v.cells[1][i].field=r,v.cells[1][i].text=0<n.rows.length?n.rows[0][i].toString():"",v.cells[1][i].parentCell=v.cells[1][i]}}if(s.rightToLeft&&bh.makeRightToLeft(s),s.crossTabInfo.cross.doAutoSize(),!e){for(let t=0;t<v.cells.length;t++)for(let e=0;e<v.cells[t].length;e++)null!=v.cells[t][e].field&&(v.cells[t][e].field.margins=v.cells[t][e].field.margins.clone(),0==t&&(v.cells[t][e].field.border.side=v.cells[t][e].field.border.side&~oe.Left),0==e&&(v.cells[t][e].field.border.side=v.cells[t][e].field.border.side&~oe.Top),t==v.cells.length-1&&(v.cells[t][e].field.border.side=v.cells[t][e].field.border.side&~oe.Right),e==v.cells[t].length-1&&(v.cells[t][e].field.border.side=v.cells[t][e].field.border.side&~oe.Bottom));var e=l.columns.length+(0<l.rows.length?1:0),r=(0==l.rows.length?1:l.rows.length)+(1<l.summaries.length?1:0);for(let t=e;t<v.cells[0].length;t++)for(let e=r;e<v.cells.length;e++)null!=v.cells[e][t].field&&(v.cells[e][t].field.border.side=oe.Left|oe.Right);if(1<v.sumFields.count)for(let e=0;e<v.cells[0].length;e++)null!=v.cells[r-1][e].field&&(v.cells[r-1][e].field.border=new de(oe.All,x.lineColor,1,wi.Solid));null!=v.cells[0][0].field&&(v.cells[0][0].field.border.side=oe.Right|oe.Bottom)}}static convertToCrossTab(s,n){return se.tsfb(this,void 0,void 0,function*(){let e=new mh;e.info.zoom=1,e.reportUnit=null!=s&&null!=s.report?s.report.reportUnit:hh.HundredthsOfInch;var t=new Yu(e);e.engine=t;let r=new Se,i=(e.pages.add(r),e.dictionary.variables=s.report.dictionary.variables,new rh);return i.name="CrossTab",i.crossTabStyle=null,i.crossTabStyleIndex=9,r.components.add(i),yield this.updateCrossTab(i,s,n),r.components.remove(i),new Promise(e=>{e(i)})})}static updateCrossTab(ee,te,re,ie=!0){return se.tsfb(this,void 0,void 0,function*(){var r=new Wa;let i=new le,s=new le,t=new le,n="",N=new Wa,P=new Wa,O=(i.clear(),s.clear(),new le),z=new le,l=new Wa;var a=he.getPivotTableStyle(te),o,u,h,e,m,d;let H=0;for(o of te.rows){let e=new dh,t=(e.showTotal=o.showTotal,e.alias=o.expression,e.displayValue="{"+o.expression+"}",e.value=e.displayValue,ne.isNullOrEmpty(n)&&0<o.expression.length&&0<=o.expression.indexOf(".")&&(n=o.expression.substring(0,o.expression.indexOf("."))),e.page=null,e.name=ee.name+"_Row"+(H+1).toString(),e.page=ee.page,e.horAlignment=ge.parse(Vt,ge.getName(ae,o.horAlignment)),e.textFormat=o.textFormat.clone(),e.guid=gh.newGuidString(),e.wordWrap=o.size.wordWrap,e.margins=new ce(this.FieldMargin),0<o.size.maxWidth&&(e.maxSize=new ue(ee.report.unit.convertFromHInches(o.size.maxWidth),0)),0<o.size.minWidth&&(e.minSize=new ue(ee.report.unit.convertFromHInches(o.size.minWidth),0)),0<o.size.width&&(e.maxSize=new ue(ee.report.unit.convertFromHInches(o.size.width),0),e.minSize=new ue(ee.report.unit.convertFromHInches(o.size.width),0)),yield this.getCondition(te,o,e),this.setTopN(e,o.topN,te),this.setupTitle(e,a),N.add(o,e),ee.components.contains(e)&&ee.components.remove(e),ee.components.add(e),l.set(e,e),O.add(e),e.total);null==t&&(t=this.createRowTotal(te,e,r,a),ne.isNullOrWhiteSpace(o.totalLabel)||(t.text=o.totalLabel),e.totalGuid=t.guid,ee.components.add(t)),l.set(t,t),i.add(t),H++}let X=0;for(u of te.columns){let e=new uh,t=(e.showTotal=u.showTotal,e.alias=u.expression,e.displayValue="{"+u.expression+"}",e.value=e.displayValue,e.page=null,e.name=ee.name+"_Column"+(X+1).toString(),e.page=ee.page,e.horAlignment=ge.parse(Vt,ge.getName(ae,u.horAlignment)),e.guid=gh.newGuidString(),e.wordWrap=u.size.wordWrap,e.margins=new ce(this.FieldMargin),0<u.size.minWidth&&(e.minSize=new ue(ee.report.unit.convertFromHInches(u.size.minWidth),0)),0<u.size.maxWidth&&(e.maxSize=new ue(ee.report.unit.convertFromHInches(u.size.maxWidth),0)),0<u.size.width&&(e.maxSize=new ue(ee.report.unit.convertFromHInches(u.size.width),0),e.minSize=new ue(ee.report.unit.convertFromHInches(u.size.width),0)),yield this.getCondition(te,u,e),this.setTopN(e,u.topN,te),ne.isNullOrEmpty(n)&&0<u.expression.length&&0<=u.expression.indexOf(".")&&(n=u.expression.substring(0,u.expression.indexOf("."))),e.textFormat=u.textFormat.clone(),this.setupTitle(e,a),P.add(u,e),ee.components.contains(e)&&ee.components.remove(e),ee.components.add(e),l.set(e,e),z.add(e),e.total);null==t&&(t=this.createColTotal(te,e,r,s,a),ne.isNullOrWhiteSpace(u.totalLabel)||(t.text=u.totalLabel),e.totalGuid=t.guid,ee.components.add(t)),l.set(t,t),s.add(t),X++}let G=1;for(h of te.summaries){let e=new lh;e.alias=h.expression,this.setSummaryType(e,h.expression),e.page=null,e.name=ee.name+"_Sum"+G.toString(),e.page=ee.page,e.horAlignment=ge.parse(Vt,ge.getName(ae,h.horAlignment)),e.textFormat=h.textFormat.clone(),e.guid=gh.newGuidString(),yield this.getCondition(te,h,e),e.font=me.Table.Font.getCachedGdiFont(),e.border=new de(oe.All,a.lineColor,1,wi.Solid),e.height=me.Table.getHeight(e.font),0<h.size.minWidth&&(e.minSize=new ue(ee.report.unit.convertFromHInches(h.size.minWidth),0)),0<h.size.maxWidth&&(e.maxSize=new ue(ee.report.unit.convertFromHInches(h.size.maxWidth),0)),0<h.size.width&&(e.maxSize=new ue(ee.report.unit.convertFromHInches(h.size.width),0),e.minSize=new ue(ee.report.unit.convertFromHInches(h.size.width),0)),l.set(e,e),ee.components.contains(e)&&ee.components.remove(e),ee.components.add(e),G++}if(te.summaries.length<2){for(var j of t)ee.components.contains(j)&&ee.components.remove(j);t.clear()}else if(t.length>te.summaries.length)while(t.length>te.summaries.length){var J=t[t.length-1];ee.components.contains(J)&&ee.components.remove(J),t.removeAt(t.length-1)}else if(t.length<te.summaries.length)while(t.length<te.summaries.length){let e=new ch;e.text=ne.isNullOrEmpty(te.summaries.getByIndex(t.length).label)?(t.length+1).toString():te.summaries.getByIndex(t.length).label,e.page=null,e.name=ee.name+"_SumHeader"+(t.length+1).toString(),e.page=ee.page,ee.applyFieldStyle(e),ee.components.add(e),t.add(e)}for(e of t)l.set(e,e);let W=1;for(m of i)m.page=null,m.name=ee.name+"_RowTotal"+(W++).toString(),m.page=ee.page;let U=1;for(d of s)d.page=null,d.name=ee.name+"_ColTotal"+(U++).toString(),d.page=ee.page;var c=0<te.columns.length&&0<te.rows.length,g,p;let S=[],w=[],f=null,C=null,b=null;for(g of ee.components.list)if(g.is(ih)){let e=g;e.typeOfComponent.stimulsoft().startsWith("Col:")&&S.push(e),e.typeOfComponent.stimulsoft().startsWith("Row:")&&w.push(e),e.typeOfComponent.stimulsoft().startsWith("LeftTitle")&&(f=e),e.typeOfComponent.stimulsoft().startsWith("RightTitle")&&(C=e),e.typeOfComponent.stimulsoft().startsWith("SummaryTitle")&&(b=e)}if(0==te.rows.length)for(var y of z){var K="Col:"+y.name,v;let e=!1;for(v of S)if(v.typeOfComponent==K){S.stimulsoft().remove(v),e=!0,l.set(v,v);break}if(!e){let e="",t=new ih;t.name=y.name+"_Title",t.typeOfComponent="Col:"+y.name;for(var x of te.columns)P.get(x)==y&&(e=this.getLabel(x),t.horAlignment=Vt.Center,t.textFormat=x.textFormat.clone());t.text=e,this.setupField(t),this.setupTitle(t,a),ee.components.add(t),l.set(t,t)}}for(p of O){var q="Row:"+p.name,F;let e=!1;for(F of w){if(F.typeOfComponent!=q)continue;w.stimulsoft().remove(F),e=!0,l.set(F,F);break}if(!e){let e="",t=new ih;for(var T of te.rows)N.get(T)==p&&(e=this.getLabel(T),t.horAlignment=Vt.Center,t.textFormat=T.textFormat.clone());this.setupField(t),t.name=p.name+"_Title",t.text=e,t.typeOfComponent="Row:"+p.name,this.setupTitle(t,a),ee.components.add(t),l.set(t,t)}}if(null==f?c&&((f=new ih).name=ee.name+"_LeftTitle",this.setupField(f),null!=te.title&&(f.text=te.title.text),f.typeOfComponent="LeftTitle",this.setupTitle(f,a),ee.components.add(f),l.set(f,f)):c&&l.set(f,f),null==C){if(c){let e="",t=!0;for(var Y of te.columns)t||(e+=", "),e+=this.getLabel(Y),t=!1;(C=new ih).name=ee.name+"_RightTitle",C.text=e,C.typeOfComponent="RightTitle",this.setupField(C),this.setupTitle(C,a),ee.components.add(C),l.set(C,C)}}else c&&l.set(C,C);var c=(0==te.columns.length||0==te.rows.length)&&0<te.summaries.length,M,D,Z;let I=ne.join(", ",te.summaries.select(e=>e.label).stimulsoft().toArray()),A=(null==b?c&&((b=new ih).name=ee.name+"_SummaryTitle",b.text=I,b.typeOfComponent="SummaryTitle",this.setupField(b),this.setupTitle(b,a),ee.components.add(b),l.set(b,b)):c&&((ne.isNullOrEmpty(b.text)||b.text.stimulsoft().startsWith(I)||I.stimulsoft().startsWith(b.text))&&(b.text=I),l.set(b,b)),0);while(A<ee.components.count){var Q=ee.components.getByIndex(A);null==l.get(Q)?ee.components.removeAt(A):A++}let R=ye.empty;if(ee.dataSourceName=n,!ie)return;this.buildCross(ee,re,te);for(M of ee.components.toCast()){ee.crossTabInfo.cross.fields.contains(M)&&(D=ee.crossTabInfo.cross.fields.get(M),ee.crossTabInfo.cross.setTextOfCell(D.x,D.y,M.cellText))}ee.crossTabInfo.cross.maxWidth=ee.page.width,ee.crossTabInfo.cross.maxHeight=ee.page.height,ee.crossTabInfo.cross.doAutoSize();let _=new Wa;for(Z of ee.components.toCast()){var E=Z.as(ph);null==E||E.isTotalVisible||_.set(E.total,E.total)}var k=ee.report.unit.convertFromHInches(2),L=ee.report.unit.convertFromHInches(2),V;for(V of ee.components.toCast())if(ee.crossTabInfo.cross.fields.contains(V)){var B=ee.crossTabInfo.cross.fields.get(V);let e=ee.report.unit.convertRectangleToHInches(se.Report.CrossTab.StiCrossTabHelper.getCellRect(ee,B.x,B.y)),t=(R.width=Math.max(R.width,e.right),R.height=Math.max(R.height,e.bottom),e=ee.report.unit.convertRectangleFromHInches(e),null!=_.get(V)&&(e.width=0,e.height=0),0),r=0,i=V.as(ih);null!=i&&(i.typeOfComponent.stimulsoft().startsWith("LeftTitle")&&(t=0,r=0),i.typeOfComponent.stimulsoft().startsWith("RightTitle")&&(t=k,r=0),i.typeOfComponent.stimulsoft().startsWith("SummaryTitle")&&(0==te.rows.length&&(t=0,r=2*L),0==te.columns.length&&(t=k,r=L)),i.typeOfComponent.stimulsoft().startsWith("Row:")&&(t=0,r=L),i.typeOfComponent.stimulsoft().startsWith("Col:")&&(t=0,r=L));var $,B=(null!=V.as(dh)&&(t=0,r=2*L),V.as(th)),B=(null!=B&&(t=0,r=2*L),V.as(uh)),B=(null!=B&&(t=k,r=L),V.as(nh)),B=(null!=B&&(t=k,r=L),V.as(lh)),B=(null!=B&&(t=k,r=2*L),V.as(ch));null!=B&&(r=ee.summaryDirection==Ua.LeftToRight?(t=k,L):(t=0,2*L)),e.x+=t,e.y+=r,V.clientRectangle=e.clone()}})}static getCondition(r,i,l){return se.tsfb(this,void 0,void 0,function*(){let e=new le;for(var t of r.pivotTableConditions)t.keyValueMeter!=qu.getLabel(i)&&t.keyValueMeter!=i.key||e.add(t);if(null!=e&&0<e.length)for(var s of e){let e=new Ku,t=new Uu,r=(t.condition=s.condition,t.dataType=s.dataType,t.value1=s.value,Wu.getFilterExpression(t,"value2",l.report)),i=(s.dataType!=se.Report.Components.StiFilterDataType.String&&(r=`value2 == null ? False : (value2.ToString().Length > 0 ? ${r} : False)`),e.expression=r,e.permissions=s.permissions,e.permissions&=~Qa.Borders,e.backColor=s.backColor,e.font=s.font,e.textColor=s.textColor,s.iconAlignment!=At.None&&(e.icon=yield s.getIcon(),e.iconSize=s.iconSize,e.iconAlignment=s.iconAlignment==At.Right?Zu.MiddleRight:Zu.MiddleLeft),new Ju);var n;i.key=e,i.value=`{${r}}`,null==l.report.engine.parserConversionStore.get("*StiConditionExpression*"+l.name)&&l.report.engine.parserConversionStore.set("*StiConditionExpression*"+l.name,[]),l.report.engine.parserConversionStore.get("*StiConditionExpression*"+l.name).push(i),l.conditions.add(e)}})}static setupTitle(e,t){e.border=new de(oe.All,t.lineColor,1,wi.Solid),e.font=me.Table.Font.getCachedGdiFont(),e.height=me.Table.getHeight(e.font)}static setupField(e){e.margins.left=0,e.margins.right=0,e.guid=gh.newGuidString()}static createRowTotal(e,t,r,i){var s=t.guid;let n=r.get(s);return null==n&&((n=new th).text=ne.isNullOrEmpty(e.totalLabel)?S.get("PropertyMain","Total"):e.totalLabel,n.wordWrap=t.wordWrap,n.minSize=t.minSize,n.maxSize=t.maxSize,this.setupField(n),this.setupTitle(n,i)),r.set(s,n),n}static createColTotal(e,t,r,i,s){var n=t.guid;let l=r.get(n);return null==l&&((l=new nh).text=ne.isNullOrEmpty(e.totalLabel)?S.get("PropertyMain","Total"):e.totalLabel,l.wordWrap=t.wordWrap,l.minSize=t.minSize,l.maxSize=t.maxSize,this.setupField(l),this.setupTitle(l,s)),r.set(n,l),i.add(l),l}static getLabel(e){return ne.isNullOrEmpty(e.label)?e.expression.substring(e.expression.lastIndexOf(".")+1).stimulsoft().replaceAll("]","").stimulsoft().replaceAll(")",""):e.label}static getSummaryTypes(){return 0==this.summaryTypes.count&&(this.summaryTypes.add("None","None"),this.summaryTypes.add("Sum","Sum"),this.summaryTypes.add("Avg","Average"),this.summaryTypes.add("Min","Min"),this.summaryTypes.add("Max","Max"),this.summaryTypes.add("DistinctCount","CountDistinct"),this.summaryTypes.add("Count","Count"),this.summaryTypes.add("Median","Median")),this.summaryTypes}static setTopN(e,t,r){if(e.topN=t.clone(),e.topN.mode!=Au.None){e.topN.showOthers&&(e.topN.othersText=ne.isNullOrEmpty(e.topN.othersText)?S.get("FormDesigner","Others"):ht.parse(e.topN.othersText,r));for(var i of r.summaries){if(!ne.isNullOrEmpty(i.label)&&i.label!=e.topN.measureField||qu.getLabel(i)!=e.topN.measureField)continue;i.label!=e.topN.measureField||ne.isNullOrEmpty(i.expression)||-1==i.expression.indexOf("(")||-1==i.expression.indexOf(")")||(e.topN.measureField=i.expression.substr(i.expression.indexOf("(")+1).stimulsoft().replaceAll(")",""))}}}static setSummaryType(e,t){if(ne.isNullOrEmpty(t))return;let r=this.getSummaryTypes();for(var i of r.keys)t.stimulsoft().startsWith(i)&&(e.summary="Count"!=i?Sh[r.get(i)]:Sh.Sum,t=t.stimulsoft().replaceAll(i.toString()+"(",""));e.value="{"+t.stimulsoft().replaceAll(")","")+"}"}}Jd.summaryTypes=new Wa,Jd.FieldMargin=1.5,B.h.StiPivotTableHelper=Jd}B.v.StiProgressIteration=class{constructor(e="",t,r){this.series=e,this.value=t,this.target=r}};let yh=B.v.StiProgressIteration;{class vh extends B.i.StiElementBuilder{render(n,l){this.storedCulture=Qr.set(n.report);try{let t=this.getValueMeterIndex(l),r=this.getTargetMeterIndex(l),i=this.getSeriesMeterIndex(l),e=this.getSeriesKeys(l,i),s=e.count2();var a=e.select(e=>new yh(this.getSeries(l,i,e,n.report),this.getValue(l,t,i,s,e),this.getNullableValue(l,r,i,s,e))),a=vh.processVariationSort(n,a);return vh.processTopNElements(n,a)}finally{B.h.StiCultureHelper.restore(this.storedCulture)}}static processVariationSort(e,t){let r=e.userSorts;return t=null!=r&&r.any(e=>e.key==Iu.ident)?r.firstOrDefault().direction==Du.Ascending?t.orderBy(e=>0!=e.target?e.value/e.target:0):t.orderByDescending(e=>0!=e.target?e.value/e.target:0):t}static processTopNElements(t,r){if(t.topN.mode==Au.None)return r;let i=(r=(t.topN.mode==Au.Bottom?r.orderBy(e=>e.value):r.orderByDescending(e=>e.value)).toList()).take(t.topN.count).toList();if(r.count2()>t.topN.count&&t.topN.showOthers){var s=r.skip(t.topN.count).sum(e=>O.tryToNumber(e.value));let e=r.skip(t.topN.count);var r=e.all(e=>null==e.target)?null:e.sum(e=>O.tryToNullableNumber(e.target)),t=ne.isNullOrEmpty(t.topN.othersText)?S.get("FormDesigner","Others"):ht.parse(t.topN.othersText,t);i.add(new yh(t,s,r))}return i}getValueMeterIndex(e){if(null==e)return-1;var t=e.meters.firstOrDefault(e=>e.is(Ki));return null!=t?e.meters.indexOf(t):-1}getTargetMeterIndex(e){if(null==e)return-1;var t=e.meters.firstOrDefault(e=>e.is(qi));return null!=t?e.meters.indexOf(t):-1}getSeriesMeterIndex(e){if(null==e)return-1;var t=e.meters.firstOrDefault(e=>e.is(Yi));return null!=t?e.meters.indexOf(t):-1}}B.i.StiProgressElementBuilder=vh}B.w.StiProgressVisualCreator=class{static createProgressVisual(e,t){switch(e.mode){case ro.DataBars:return new B.v.StiDataBarsProgressVisual(e,t);case ro.Circle:return new B.v.StiCircleProgressVisual(e,t);case ro.Pie:return new B.v.StiPieProgressVisual(e,t);default:throw new Wl(e.mode)}}};let vh=B.i.StiProgressElementBuilder,xh=se.Report.Dashboard.Visuals.IStiProgressVisualSvgHelper,Fh=B.w.StiProgressVisualCreator;{class Kc{implements(){return Kc.ImplementsStiProgressVisualSvgHelper||(Kc.ImplementsStiProgressVisualSvgHelper=[xh]),Kc.ImplementsStiProgressVisualSvgHelper}writeProgress(l,a,o,u){return se.tsfb(this,void 0,void 0,function*(){let e=new P(0,0,a.width,a.height);var t=a.component,r=yield Kc.getDataTable(t);if(null==r)return;let i=(new vh).render(t,r);if(t["isSampleForStyles"]?i=this.getStyleSampleIterations():this.isEmptyData(t,r)&&(i=this.getEmptyDataIterations()),null==i||!i.any())return;var r=new uu,r=new pu(r,!0,!1,!1,1),t;let s=Fh.createProgressVisual(t,i.toList());o&&o.needToVertScroll&&(t=s.getContentRectangle(e.clone()),o.needToVertScroll=t.height>e.height+5,o.needToVertScroll&&(e.width-=15,t=s.getContentRectangle(e.clone()),e=t,u.ref=se.System.Convert.toInt32(e.height))),s.draw(r,e.clone()),l.writeStartElement("g");var t=o&&o.needToVertScroll?0:a.x+.5,n=o&&o.needToVertScroll?0:a.y+.5;l.writeAttributeString("transform",ne.format("translate({0},{1})",this.p(t),this.p(n))),Cu.writeGeoms(l,r,!1,!1),l.writeEndElement()})}p(e){return e.toString().split(",").join(".")}isEmptyData(e,t){return null!=t&&t.isEmpty&&e.isQuerable}getStyleSampleIterations(){let e=new le,t=new yh;return t.value=75,t.target=100,e.add(t),e}getEmptyDataIterations(){let e=new le,t=new yh;return t.value=0,t.series=w.get("Dashboard","Blank"),e.add(t),e}static getDataTable(t){var r;return se.tsfb(this,void 0,void 0,function*(){var e=null==(r=t.as(fu))?void 0:r.getManuallyEnteredDataTable();if(null!=e)return e;return yield el.tryToGetOrCreate(t)})}}B.h.StiProgressVisualSvgHelper=Kc}B.h.StiTableAlignmentHelper=class{static getHorAlign(e){var e=B.h.StiMeterHelper.toDataType(e);if(xe.isNumericType(e))return ae.Right;if(xe.isDateType(e))return ae.Center;return ae.Left}},B.h.StiTableElementHelper=class{static minDataColumnValue(e,t,r){if(!(e.is2(Ni)||e.is2(Bi)||e.is2(Mi)))return 0;return t.rows.any()?t.rows.min(e=>O.tryToNumber(e[r])):0}static maxDataColumnValue(e,t,r){if(!(e.is2(Ni)||e.is2(Bi)||e.is2(Mi)))return 0;return t.rows.any()?t.rows.max(e=>O.tryToNumber(e[r])):0}static calculateTotal(e,t,r){switch(e.summaryType){case zr.Sum:if(gs.isPercentOfGrandTotal(e.expression))return 1;return r.rows.any()?r.rows.sum(e=>t<e.length?O.tryToNumber(e[t]):0):0;case zr.Count:return r.rows.any()?r.rows.count2(e=>t<e.length&&null!=e[t]):0;case zr.Min:return r.rows.any()?r.rows.min(e=>t<e.length?O.tryToNumber(e[t]):0):0;case zr.Max:return r.rows.any()?r.rows.max(e=>t<e.length?O.tryToNumber(e[t]):0):0;case zr.Average:var i=r.rows.any()?r.rows.sum(e=>t<e.length?O.tryToNumber(e[t]):0):0,s=r.rows.any()?r.rows.count2(e=>t<e.length&&null!=e[t]&&null!=e[t]):0;return 0==s?0:i/s}return 0}},B.h.StiTitleMeasureHelper=class{static measureTitle(e){return this.measureTitle2(e,e.text)}static measureTitle2(e,t){return this.measureTitle3(null,null,e,t)}static measureTitle3(e,t,r,i){var s;if(null==r||!r.visible)return ue.empty;let n=_a.yy(30);var s=null!=(s=null==t?void 0:t.width)?s:P.empty.width;if(ne.isNullOrWhiteSpace(i))return new ue(s,n);var s=B.h.StiAutoSizeTextHelper.measure(e,i,r.font);return n=Math.max(n,s.height),null!=t&&(n=Math.min(n,t.height)),new ue(s.width,n)}static measureTitle4(e,t,r,i){let s=_a.yy(30);if(ne.isNullOrWhiteSpace(i))return new ue(t.width,s);var e=B.h.StiAutoSizeTextHelper.measure(e,i,r);return s=Math.max(s,e.height),null!=t&&(s=Math.min(s,t.height)),new ue(e.width,s)}};{class qc{static loadReport(e,t){switch(t){case"Financial":e.loadPacked(this.financial);break;case"Orders":e.loadPacked(this.orders);break;case"SalesOverview":e.loadPacked(this.salesOverview);break;case"TicketsStatistics":e.loadPacked(this.ticketsStatistics);break;case"TrafficAnalytics":e.loadPacked(this.trafficAnalytics);break;case"VehicleProduction":e.loadPacked(this.vehicleProduction);break;case"WebsiteAnalytics":e.loadPacked(this.websiteAnalytics);break}}}qc.financial="H4sIAAAAAAAEAO1c+27bONb/ewv0HYQssJgBMjElUrdO6oXjXJtr4zRtggEKiqRsJbLkSnISd7FP9v3xPdK+wpK6WZIVW3LTQWfRyUwmOjyHl8Nz+fEi/ef//n/7n09jV3pgQej43tsNeQtsSMwjPnW84duNaWT/ZmxIYYQ9il3fY283Zizc+Gf39avtQeQMWOBg1/nKglINyoYUzSac94xFGxKeTFyH4Cgu5UKXbOIH0QavQpK2+9glUzcuPPUp6x55EQsmAYti0nanWp4ITd1oGrAu8377MOA86WNctovDkeXjgF477JEFAxZFfCRhdzDyHy+ZHbBwtDONIt/blATpfMK84vP+1HUHJGBl6inzpsXnPepExedkSAMPT8KRH4Up05Mghtud57qU9NchYnA4mEm8e1x9me7mBRuSEx6z2duNKJiyRG9ccGcaOh4Lw3PrjpEo5DwnThilTBLxpx5/4JPZyQR2cYQtHLJnWOWsZs6673jYI3xqkz7l88lnbzx1Q9+OtpIhb817ucUL++FD1kptp+PKe66Dw27exHYnIRQ4uFyXqRiZzDKYbgKEVNPQGVZs2wDMAlSBYLsjuApCZ3jMirXGz4XyCxyNROe63AT8aUDYm06nwJ4X50qYl2Ya7OQqLOp0ENfWXqswn2leyRW2XJbU9C2a6/vudOw90xe1WBlnfsDulHXPL48Ojs56J5sUR6zwazALIzbmsxpwY92kCGnIYhqVbQURDC1bJoYNGdJ1ZGlA3u4ktS1rgLh+yEq/y218fgIAmp/5XKuQaQpSANI0aBnAwAo2LAJNCzPcpCWfe3XhV00z2meiQlNHyGaIImCr2FYAw8ymNlBkTQNNmhk5w1HhV7kZbHFDNbFOdNvmmtMNQrBm6aYs83ZNqjdpwPUf8/8q82ERxkeh8UkxETGxiWXuKQwDBAyI5Zr54HEyMY4irRB9nDCLP52qL3IPpMA0FAp1G8lQNmUDE003NYYNYqlWa18Uz0deYu5zvq2KRM6xyiVTD8xolyxJGA1iYhLFsrGXS8Kmfp1oWvT4bd6/TSn2zSJB+HRse+pnHRsm5i6ELIQIYCahJmOGIasywlhHm9KVCAw8mm5KfZ9nRN7i7d4ddXVtZnljMwD+uW7sPs6A82nfNMf3Frw+f3jCd8eudXVwcQtFM8r+5ys2caG5s//R7N+f6nfwUDneObx/6h0+ubs33sfjW3pEgzvt6/3uuzvLS4XOo9vRPrLe7d1qgOwdfPCH9u2X4Ufb/ar1Tjwj5dIeHXUMtHH8uPPZjI5nrn4D0scLPNl/UHTjZnh9dKbfuSPvPT3GBIzpaEjIwZkNvlwFo0+3++EXiMfH98C4PL2H09GtdXLo7e0zj518Qvjd7Udo3Gma9eV20Nu/nb3T5KPBaP/k2Jvon+4uxrfedY+xq92d3QE9NIY3aeMfBtenfU0fzHbGT7Orm/dH0ekUjyMZjs3dnWhge+6UhuejS2ae3u6Z5P78w7vd/YtU+Guw736ITsPo0Ukp5xoM++eT/tfJzqOyi677tj0cUPnJf3/mDR71L8fWWHMP5NlZH3z9AgdGcH2jPTzsMto7SHX1dHK0cwh2rw92e2mdp4eje0Az5e2c3Jxcfbm7d1x95E3PpsaBNzzb6x89nD98pZdf7Yheak/7Wlqbdzq5ux8cDJFFSX8WAvuoZ1w/nN0N2KXijZXBbAJGxvvexwd66p+Njz/Cy7vTw9vJtRI+nZtfduz7kwMtG+zdyfiEXUyCTzPwyM4uPoww6x0PDkMG35vvFYovlf2PU/mTg4Lbw/77nq9/sk/7DuXIxmEHh8EZeX90I+vy1V453Gx3cu/JKNeYI0We4lb5JHfoPCQlhD1vyHHOdQIvu+mTst0p02PWA9e3BByNvT8JlCvbE5FL53FaMxUGKVQQUIjFEw2RqYEoJJptyfP4tn3KRK5eXe0FHq4MHXOsWkEGqAZv5bxbfX884Ujci0IBuXL6M7BhFWjg5dGAI/guMsCmAYAoTwg5xw4m9zx3+EH3KsBeOMEBb3y7MyfnnPOuNUAg21fsKZKTEatNRyxkxLDF//dcNubEZ/FSMri+63CmS46RsTd0WRdsgk0xVpQMtVpcFb9yIpddO6HDjbe7j92QxWIlckmmsbYSjdX0TlZA0r2lfeNOyJFs2CjPpSL7fsBqujYnl7gPpg7tMsSzvUWAJtscaujY0rmzyLpNsW3ZQMDwmK0keIoD7ppduBn/bHfS5xJPjAhiA1hAB7H3ULH+jLXBfwQ6TwgVriHLUjdaGOxFPLrny4WNx0vKfYfrIH8q8YgOdv/hRr/bPAtLNibCQtnQZ9KHI74q5jIcxmsb/xhGvwuuiLP/xgPQkC90+0ysZOOi3PcET2fOlIl1RO3iYbsTN1jugjC0xEm0FmEhFlviGW0NNbYeL+r2xIJ/U+DL+HGBpYWBNZuDbBbErxr9iNRSds5ap+zE+iih4dj4SliYr3ouHHLPgjQo6U31PZdMInL2tG6AQs0j1LdGG9Q03Aicve+43KYbh5u1IhQ3qszDNs0tXa0xtLZxLPCnky632OSPxRhHoaVYBv+FVYBsRbegYSqapWGV6Kotw7oYd+Q5EfeES64pNmAuizFLulzJsM52ZxnXeiGzYKT1gfObQmLWxdgLe9PIj3vOPbNUsBAiueLHOEqcxijsarCkoGz/1UavBXDksIoFSQXmel4XVzMnxRUuj39z8ywsQcXWB8eW86KKkACCBANm6JbGFAiQihUT2BRBbGoEWoQoenU5HAueYIu53aT65O9ygJqroRSlCvNdpB95VGyp+lmokkFTreWSQmn5w7qRykgilfJjgilNAZtQA5tq1sUfJcKlWRS+QHBzZ5NRDXuB3i4YarpmQ6pQyChADGHTAJoKTUgBIxiptDYYEt+LI0UcHi4YD29ehEXgKJfUCzVWnZAYsKh7icX+eVK5eK4E5tSk+z7/q9k2UCraOAjPve97xODA4SpJvFpey6uTKnLS9wyFOmWKLquaLasGYopsmYRiiphMoWYjvLAzKEJa0r1KFuGqZmkGkeuOG1aPOqlizVEPpuNf5iMXm8a/rhq6pSOCLMwshAHSKTEYhipihmlonGTSuqEnfVyeQOX8XKA/DbitkFldFq32aJcRZ4zdXWfoRGFX4YmjRKhwx84/YDxYCFV1N9NwMKdU+M/YkPvcA7vAEdeq1+WhtEqqSFz4oVORqJKqa4GI21s3G/NgNrZ8lxtLTK1oMdfYs0sluc0WyvdaK+U4VlbrgewaK6ZDP+iJtaPI1t1kjbndKRHXX2IJrWBvJskSt4bHaPSCyy3RhD85SyenfrcnwlvJnl66iMJCYjl2jHVmc1PokVaRPpdrme9zuYE42W0q9SFkQSuBGAumumq86C8Fw7iGF4mF8UHdymCoWUQB2LQ1UzeQTHRTVmxToRa1eHw0Aa4LhtcLB1TzvFraJhRrqdQ2M7jbeGkeCyfpgf+xLsyFyg+NcxOUK9DuapTb5oRYwKmIjY1U6UZrpe86XN3CZpJWl5rgmjCkfQxdI4qmVq5Yso1sqojDYmTLCrYtQzWRjADUDZOxuoVfGoJTFdYtbrObFLkmM2tNlCakl0bBxEkqKEIBLdfhsf+Jya6zADOttDEezS3glOFwGrDW898OkH27EVw6w1HUxAZsYOmYEAsY3AaggSxmQggRxYiohDL1ORsY+Y9XfoRdPrCxONu64irg+bhKXhRMCsSBcPfU8bhIgbDaDJQ1wGRcUytAGUu0BJWxTGtgGUu1BpeJJhsCzJj5OZCZuYlZ5yYySLUO/1Q/yXLjlriF8oO4iQxMywQU6wY0kc7dw1YtExOVMVlWdbMGECRz9CJugp/augn66Sa5Jl/STWRQ6ycpjFOaH/u+bD75gRyFykAjmqoxLBvI1GQDWAozdFtDiCcWJP9gjqL9dJRcky/qKHKtoyip2tuvd17GUVz/8QfxE5sBZPO1JbZkDVFdMXVmahQyA9qySmztB8Ndxk8/yTX5on6iVHYRFi+1SoWLVfHrBDjeHEonZvnxYoE/zNdhdbUt303pudxxxLZPsr8kbq4kdldTUN3IDRzX3fUfvQs+e2PWYndKOOPUdS/9x+S4Nm2yTCsrr25kVU3+2YdioP5QzOddWGDLibXMzwSmcmFF8kUvFliKrRlENyHTKDJlFSMDqTbCqq3LUKao7iztkGG6MNICsZa5ttfVwvXOukq7b9/huKvJLaykC22P8wrHAbDx8fjP4wApOw4QG0dSfEIr+baUHw688KnAX2YHv2VD7Tb9xdFgwc+KJf0RDrJrsrDxBlwsFb+SJf5Yd99b1b7zvncvYDgdWuNT3/LQRA3LnTXObS4mPNlyz0hba7xDk7fGZeO/C9WtgtU1nlzrxZ1yF5cM4JoFKcKEjU848xEI4T9jCKKdavmn3pOT3mqAjVf9ec8/JVPNq1jV3/hqVdZQ47OziknxdpJ6VsP1hvqJeQtJ3agN/0KPScOLBUkgTsbVeDW4OK64mgbHCYXc2fjYp2a6VufSb9GirGzu+C59RpfNslKi9cXMJKix0VapNwVLbnxXMVfNzVqWjBrjl7+WJaM189l6lozap5ib/xFLvlmwZJ6YeeasZuPhdPz82zty7emwjFLttk+pWXsxYfUlBWntE2KxNQTE7VwGVQXqOtL4wgyoVAEyszSZajpUam/tJnsOaEFzqZ7K9JaH+GLQ7Vc1tXdw4yv8irHy7F/c5YivXbSbYTWd4faQY97iWnPc8ipKtlWIVZ3aSFOxeL9bVSxg2ZaKOI0hHUGyZKbV6u7SXGMVVfIp4yqOTsQ3GJrO3TqbKR5dNmEvsvuych8DKwxaiq0TyNWqYsWwMFV1AE1kitcja18CO3SGozVMTUtNrT1GzBt8AUtrcD4U3wcxoc5jByGmZiKdIcNSVcIMTtB4aEHLDE2rGNpcXeWCEgpYE882QACrM3rLvbG67L99wobMo+lg1gSxSR3LB1NSWnv4WminEXhqnvQbqLkeNpVgTHvUWRhRExyz3oCWYZjavZ9O0qOKjfiPa4QNPX2NuD1Oztp7gaix+rAsviopM1U2mW0rQEG6pliY8BRFbYUYqgo0e0nQ0Kv6y3RV3dv1pth1Z3tiSc7ofGSpktqD7jYaSt4L0Ag0ZUNch0eIKopq2Bq1dVM3TKLYKqq7D/pst9vvXHPafT7cNTeWkjqW3z+Od8OTDbq6rfHsSC154yH2oHBxg/xbts9FeeQvq/+S+00KIdIDoSKlvBe/pJpC/FEbA/2fm+mSVL1b/70u1av14Px/9lL9VSDScxv03foavhAQn2yLj6rbXd4v3gVQ1TXuAlTuAYC/7As9pW5vSk3e7ylosEa17YBBenddbQ+dXwoVNLi7HG9PQMvEDKhEszGSKcHAIAbiqwpqAwCsmjfpEiXHMTu+lDKIfHKfvV5Xc00lBRFGnbYrmeAjE9dymh5dJQkwJwmsmKlzTmy3Lk3WnTZVTZlApDFTRdCCWFaYrVpcOSowqalU1p3ZG/LVj+pUUvPzH/2KjXbGY+zA5VZ5EOCZMNBZHnQLFybKHyITHygZpkrcvgjYg4ga2WceFc1AUEUqz1LVopif94IJn2C0F4ZsbLnOczZu5F8OSr62lH4Sbtd1K99fKhcH+JG3torto+NR/zHcEo4XrqxTJJYVPJ/G7vMscy8UHzgLfHdJk3PeHRyyJnzZKxVlTvFZqkVVZ5MgJBa+lVQkF/mm0YgH1XmLOWdSUGDlzuENGe3KckdBHY75ZUl9A8EboEsXp5lYxlSUCxi3QS7X4T+mDiT4BnApIPXmUilLQYqnXu4Bb/5InsI/3g2kXWbjqRtJuelKV2w8EQYe/jGPUuPga1ZtXEehztjHVAx1YBMTygAhA6qmBZmtK0iVoanqMsmEc4dMhatfAixQC1wfPCfqHnJYynF/NArP7SOPjDLmuLDAnH3yi+tS2ZL5D8g4Sx8DG5DAmURd8ZXUoZSY5O+vXxUfM8+okkuesCDDLX9OWzTjurLEbKuNVc31+ZKtXa47f1hbd8oxD7mc6fUrjyuYA14iIHtsCa9f/StxlsmUWz2RiIvDUJp/d+xNTZ35t3oTyX/NY35aSS7+y69ZSYFJ/BONHPFmYvwVFA6P817+8uvvc8Z/ix5nD38P2FDc1ssb5wYccvzNl3NDxn8Li+fxkDLpN4n6kudH0tinjj17/epvf/s7Eya0rnzaF/4vD/uJ9RQs6YS76JRH+W5/wPPdJGPJyQmryBbLE5xIKYUPJ3f/C/nCceiEWQAA",qc.orders="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",qc.salesOverview="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",qc.ticketsStatistics="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",qc.trafficAnalytics="H4sIAAAAAAAEAO1d6W7juJb+PQ30Oxg1wOBeILciUtTWN52Bl9hZ7Cy248TBBQKSomzFsuRoseMM5snmxzzSvMKQWrxFceRUVXelujpdiUUeboeHPN855JH/73/+9+A/n8ZOacr8wPbc3z+Bz9KnEnOpZ9ru4PdPUWj9Q/9UCkLsmtjxXPb7pzkLPv3n4a+/HHRCu8N8Gzv2M/PXaoCfSuF8wmnPWfiphCcTx6Y4jHN5oTabeH74iVdRKh1UsUMjJ85seSY7PHFD5k98FsZJB/ub+UmhyAkjnx0y9x/XHU6TPsZ5NRwMiYd9s2ezGfM7LAz5SILDztCbtZnls2BYicLQc/dKIuliwtzV53rkOB3qs/XUFnOj1ecj0w5Xn5MhdVw8CYZeGKRETyIxONh/rUtJf20qBof9eYl3j7Mv490y41PJDs7Y/PdPoR+xhG+8YCUKbJcFwQV5YDQMOE3TDsKUqES9yOUPfDL3swI1HGKCA/YKKchq5qRdH1uWTcsuduahTYOka4tp5ZM4jpzAs8LPycg/Lzv7mWdWg2nWWG7f4zbKjo2Dw82WDvaT9BVCXvwQEcWyTAhNRVeRDrBBgGqYWJKZRqEGzIN9QbVS6ByPWU7lcfIK2SUOh6Krh1wuvMin7Lf9/ZelFlQLBr0gypi8v+DyKts7cd3vZry8kAleVxcThyUVfgXmVj0nGruv9UxfrZRTT7ETscOL9knj5Lzc3Gt5bjhc+92ZByEbcxnwuYTv3T9Jkqzf66YCLM1EFMkIa9hgSCUUGSqgBBkUH+wn1W5r6Yax0Ult409OY+AeKlCjvEWLSMgyVCwTQJGkQk1GRFVB0cZWfq03Q2SIiUkYQowgwCyiMmhhqiFqajJmhRrg08hWfq03QCUu3ZZBTANARBnBmq4RFeqEIGqoFirSwHXAd+O13zm8Uu4laEmaQoiKAIJY1WVVUSFkfIlJqikVaumcze6TFvI+5bQq3QOJMQXI1FAAQops8IFiSi3d5BlIl4u02mZ8w3d5nfc9O7BDjzdVLGm9Q9hiFtI0wzBkgpgGDWpARcOKpWm6qmCrSFc6fAvmO1+Q9+Hl6OV7ZFnQMKFEdYgUnekKsYAF+G7GhVbXpEI8j8aE+feedZ81dT/hz4Ll785b7yvjK0fmneTTISOZAiwrKlKBSSST9xgYRXp5iQdsyhVezodcsZBUrELTlACSkMQwF0pDoaqsUVNVTMMs2uT9fTa6Nx5zOmHca6ZOGaIqMSlCpoQR0fiEEZOpUNUhKdKJ8nSwaOS+Fvkxdtkpdb1npqwCVZI1AIjBJUbXkaVDWZEhkhWsKYVWaYXv55Tdt8Vu89rn3K2b73CqZanUkA1ECJcDvmSAZQKZaCpVaZG2q56bYsNXPq43bKnM0ihAgGoqUoBCdANCRbIYxYzoSqHt4RLb5sqvXHHDioI0aJmqjhHfxPkUIygZRDIMbGm4EFerXhAuV9C2p5weoHuZUCFthBAFKYaENRXy8VqmxpChS4XUYhf7AxaKFS3ae+MxV+AZloAAVZjxxW5qhsX4Mrc4rsIMW0gt0olmt3cfevfVcvWVj7l6WkIaxgYfrmEimcuTqVlivXNR56PPW+4c5ydYZTVtBT3bQYaf9zfRo6UhrBD+gyQLWQozuCq1OBhRNDFwQt+LHsXziZtgsRfkn/PLL+gLYskUOmZpbZYYQwXwfgLNM76s5wRFAWkyC6Ljv292c68Uo8ksXcwrlO5XsgU0NRVMOfKSTS5ZiGJFh7rM5YxgExAVQLhX6gpkyy2GvRLfE0LGO+CU47rq91ZFrdSfGq25Uu4N7FErpBVv8nw6O2+WXRiNLkkjtMx+Zzh5cqZ1PZhfq89aWvT5vPdwUQ+nj9Hs/M4d35328VUV+nP/sn0ck1Tuj8ddK5QmT+3Tyaj51L54OJrW5mar6s3P9HJlRrrh1YM7aE6qlaOx3HcvyfU069jp0e3IDM8fjq6b1yc3tzewfH3S7Cv+bHI18HqwlZJxtTl/ApWr9LF8d3L+pB6nT7fdZus2/dy13dtqSJ7r53fH3lgLjxTjrvXcu6kMm2MnOhucnjtnzVNlcvd0cdk9lVvWWTqGc0as02Hr+vhJq6LOrcLkh0rt+BpcPAzSqsfoTj3vXcyqdKCnSQ59wHJ5xFVO8kyrwVife/BhMr96vlYrOGzYDn1sPBxBQ7Mc98kYWM7ghNyZwUzyzvu1GYomzceH5sXEHJwY1+H5jX1791S+CFVwfvLs1oadWXVQk2/ck3Z0Wr0xGHvunaeN1btlTy1fyOkApOvThuXfzpzbK+WyfRS00vTI8Cf60dQZK9ERI427xnFZJbddadAdRP3546XbKxuNjuXWz5rBpOkY3X71oq9Pzmau3j4bER+daTeBdDptT+HodDCZtE6v9bF2Wxs9yldEG54GWm3Yjaxn2LAa/bRNO4rw5NIzr3r6sPx0JrlPXnjmkbvOVKtOWpfdSJaeb00jqnTbLWqwftiEpqqORyetWq/Vs55OT5XLTtMiHoXl4FL30mpbN2O7W9cql9bxEzh91h6l6zOjx/XfQzXlieJcVoiFUvrHQQNlbJDRDHS96NHtTYOONGGT1lW38pwWqz3IE/fUbTQe74b9sGE+aRXQHZ6Nqw02p7aqzY/0B4TUsSNHHnwM4HiuyTdpxZ0rPAVKyxxox+cV1UxT++px52IweVZ6tcem5g9vwpNRf2bZweWc42HvdthJCcPjKc9wm/41bFooqsObRtTpjeynSy4BIO2ffj68PWr1a9wIc1p+PWPzWX1yW7VaN67Zn6PjwVSVHjvH6vP88bgNhtdPo/542B0/OsFtWZ0cT5qs7jW7WnDRfmoGtY5vqNcnjvH41CeVKzCeU+usYx0pDyOLg8YzOhq0qvrs8bhzU44wuZE6jY7avq3eRKBv12+VrGP+9EwybmcK7J0Pxmm32o/K1Xz07Gpg4DRHYeU6Mp8orZyEM+25PHRAx9ao7Q1MVNXog3V8Yfcs4OOGpfi2T7xJKzo6886cE3MyCib1qZyt8tbFGLRN6SJtZUyux9i+HUgXkZQmPfjd64tTXpts16vXF9ePpyPfg0H1Cp3p425E4REwb09s/XZElQc9LTQM76DcVJTh2VkvbapxKgW37Pam17luPFxL3almNWry+PRi4oLooaY7DIMuiSqeXIcPl4o8nOARDR9UNzD6Zydj1JOur7TR4KYMW9BXotPzm/GQnZw86pVo1LkKTlkIpHl0pPBVb52fDY35sM1mgXHnKVGn7coD45qmPblsQakfPaqU8yOQbmT1mS86Zj/BwWOX3pbHwV3kM5wSqyC4bhuTRuvCt0Kjn21KsHoWlh9IJ32cZvvZtBWRq4d252n4MINPeht0jx6V/rNsG/Wzq6qORpLbbZj2w6ivmGmRTsukj7pBpynvqo8P4KzzyJVRpdm6YbIxmpx74QANs/1RnbKpVb/qNaSA9kdVEp7dWJSwll3upVUQf9zrjnyAlYdrlhZ7PDtNP/VO+AS35vT2slGb1YlRax3Tk5EB606zFT472GrpnQ5sdI6jYdCVO1F/5l9mWun5xNNA+7h1Vr2sKZfPaao1mLjzTqXp66ClIs1zamoZ39XMs3lbzYS6Q+27cb9fuS237urVp/rg+m4+7p6cNNr2cye8u5r0q3c1RAZ1n3U6ofRoyGdTN5On3uBKruJRNoL5yfx6XPGk8VnYGAb1oKwe1wO10ryok7p7U/cJdR9m5Pz4KLzJ9vXa0ayi+VEFDO96j/Veb8qa8+EztyDrvcnRUSVtZzZsV49POueRN00LtqlbGfeYOgm4gj2eq/Oam0n0ZWX0+BzCjlFvNwZyuW1COuifPk7MIYj8afXpAmnM0Mdeg07cq8GFdF1xGsNZTVYvOneXRzbFV5XzevVC6/Adzr57GDWxqhlMq7Q9ZXJ6Ou2OyONpa3BM6nAWo9LaffpnHX0e7C8AU5bSw74t/HBvwTCO4RYINUk4cge2y3qJ7XOYPsGD/fX0mLTheER412PAl6DnN9sTQJYCk+qy8DAwhjQTEoZlLqkm05CCKARLuHvQYsKh+Ha1wnZ+Cy0uXe/5XkyU4z5eFPlc9cYTz+XwLxAe5EX6Ky7OdQdn6VUPJ6cLO/YzO0S6tKdLkshPEhYUFUxH3LLwfFGbG0ywzztxsL9MXlAuu/gKJ6Q1H2wDRwMGkrErRcceFxIciD8cOWzMk1/18yYDrDo2J2ozGmJ34LBDaS/+ice6mbdWtvDQk+FvHMVUoyD0xvlHNMtCG+0bUNpD0h7k0wFV3sWt/VtwKD4VwvFCSvipbuXnCnmw4GVeZVsYG7PW8WbCfu9wO4ovvsM6dgIm2LqRvlGu5tuOU/Nm7iX2ueHEW3vbWstswbxebjIlxHXb2aXWo6eJn3r8ihapc1vssCxO9/aAfLAfP24Q+CxHdpbJa9SNyDYPub2PVVOSFGIq3AxHuqZCvoFrKjUtmVuEB/sx2VrBJibMSTcQ7X2LKKlifao3h9vCPt9+D+W9+OdgP33eoHnizY4PgdhGsod1CtuNE0V++nEtP/YfJNvCC2dCvMma4tT1UNmLf8S5U5KwQTVgmVGPXgzkMp6H1/PbfJm9tpPLL1bAScjGSsJ8/X3Mj9vbusySQyguMG1mxj6eDdmJKY5c81CWhZY0czOXEp6RraRsDGo/HlXeUNVkqMY3H2qfiS1k62hVtdBoU7JXR8sLdELshzFbkk/5BBsc3EzL46Gax0MtPcaWvjkTG+KU/lUeJmMV7Ck46gXpG6PWNnbsZEXlrDLh2DqMe5cSxQlrdJ0hNr1ZyjGQw7EKDtjnmo9nfBsQPOrY44nDkmLblVfCFlXfK8ko+5fPrIOml9zOOIR7JY5EF4/r40waXU9MPMzZhYZ0HHnXBArMfFLX9m26a4cOS5uRd4CTcbnt/NoJC20oSJCjIHdVkWJ07Ck8TI5kSuJI5mA/TlmfhngoG1wRtVuePy7TYq7hzXI7wolFOYF/CpfKAFPhAj1hgqWTXdh2WMhUXDp+agkEtn3yV5Z8eTr42wtX/so52d/5fvvqBhEfNsiSZlqIEFVCiFmSDgAzEYZUN2TG9BdXVeKCMUY5XGmGL8M4aX3yey8PY+IkLlJjHKa8WtgayXlvkrd9/DVG7TF2avbADoNDLs7rCRvUDd+LJh3G5RmHXIr3OG5bT9mgP2cDvqFM2SUO+Uy4ov7NpI0SfB8O2eFaJ/ZKZUJ8NrXTi2EJSQ57kvGuHRwlkOuFbQZThm03Jv5ixpn8FawzsB2p/zTPvkvzjAIZyBqSqYYwggjqmqFBk1oYEw0DxXrLPAPvNBG+tn2mfLF1Bv9U6yxep/FWluLGlwt3dyvOSOfo29s2b5lxoJBdA4oYcUbeSIGU3lb99hZIATOuoM1a0IgDha0ZUMyYAVIuC1OvJcwzSf5II06wTinEQaWoGVzcCi7IQbC+NL+aPQjz7KgPaA/CwobaF9mDcJfjhQ9kDza7vVLolarlqrAJbe+nUZgZhXD3Q5WvahQub7i9aRMiRlQmy5KhSzrSMTZUg0LK+GeKZEnSttiEy1bebxJC9adJmGcSwtUksawyvVf4pEEUijcU/vf99qA4nEQFTEKeH690cZ2d8MyFwbOe/CVmZE7vAJSS7m3t27uMmJ1tFItIEsYQYkQogqplEF3RTUBkCgyFGrlHSEVsh+TCp5CAPwv6r6n+PEvqe1f9Qiv9hxP+0+Kar2Rhynsfq8NPpcB+ZrFf+D8G4T8FSchp/4Ede+D+/qnJrDDOKEcmFy/KSmReqg6x6zJH0O4vibPi+6IJ8ZCnC1chQWFj52NBAvErZ+hi51/fGHI3hBdgIalqzT124poiYtPz0w1RLmxLLUoKni4e3rs1Cl8U/wfUr+8v26hKVr/KvQR5u8W06flaMOin9+vP9H4588kwh3wl/aUmYsQiiKscHRIFqRgYukwpNCFWdEVTDCNPE51Qzq9OyE3eUIQCcwOSbjJQpCydPpfMp7wrXLEktK+4gxZZhTkoSnAz7VCYFO4gqVw8rxNl0ln1+KedrIjCOne503wPilf+iDY337xXwb4sfynYlz4q2F+y4lVMIP+gboI41pULaCkLdS3sJ/Am5ylr8u3pEH9O7qYm9zJDLEq84Zb54X0PcuEzwzVAFNewSNnNB9GJxi99EC9DnN/0RWi6jKBmUt3AJlItZGhEl4CkSQQYhozQFl/Ey9aK+SS4flls87kwMz2JlQvb3V8TZgqE+ccBTRV9HaC5/bDtJ9D8YYAm0SgwZagCYmHEFy02dYyIqjNVYgpT8atAM34Fw0+MuYIx/7Rz3TWMmeeV+GAYE0k/MebrGBMVPjb9WBjznM2+AF6i/HuhP+FlVmAFXqLCZ6bfFl4u3uTzJqoEgACsQplAHXJ4iXRTApDKRBIv1qGWvAVVLhrZGUyund9Uh9jPDnBQYSsvLhW/s0x8eK+fMj4h0eO/BU5xfIbTbhY+wVzvpqhh+8TGuMnBlKuTY89PWytssyxa42XjzyvVFbvWsbar5O4o++td3DKAHvMztVPYPliMQBT+I4Yg2tnMvy0/2VnsY+G7cYue3yZTzat4q7+rl/BQ4TOPDZHi7eRdxHvRWnH+xLQrukjPVUWCj0nDLzNivJkGUBY+gXg5rpzrSBt7b9zaigZXCmvwnOl6W6N/CRcB3Kt4jvkKL4udASVcf6mtRWostJup/aUkK4XDOxas6b9LkpXCOvCDSfI7ddM7JXl3FdP/QSS5/0KSuW7mmnNTGw8iofNXzRtloSnF+xmLGDdJdH5qF7Rarc+mKcyHlcTNfqy2mt+jt9/OlBaIryGmsYvK7ioyay9OeBs0rsPGF5CxFgevbLuIGcNFAg0FqkhlmrgEpWCLqciSMCAGIcgkeXBxARhrr8THlLIrmeor3N6Qhh0deYI9u3spcg+1xWnz296/quMFLIa/xVvjPeNVhU3xauCihd7jS3PN3Tr2Dudb6v2yTItJuswsBQGLEZMQajJqSRpP02Ge9+vYHgx3692a3tkdqsUfCuict3XIjg7FPH1z0GQD5prpYN4JB5M6tg9mlWnqO+FZ0k4hdV1czRRgc76iXlWc6u4QcGVERTTn+wa0TWvmemD2kx5tyIg3222FtLAbYceZHwmTh5lLXZFya3dUGLdfUOckOgMZAFBoAoyxDsVbnhWTAawgXbyBWccvdYbwCb/S7d1dyTxttBjuO7FpUsd271bsoU6cGXnu6syrKV69z4JYXoKX7uhv79IW+aG3rRdtLkupluBCHkczraSs+8e3VLPqO1fzsPP37jtf2VMKg/GP5RhOvXe7eoTVfIfUD+sR7vpC1+2CzHb2IYsC4mpZfHKxm+d51QBStb/s+U5+wEDGpN1ssvRdKOruiHIX5VjAj/+mDz9VsVQH3A7TGcKQIcswuZVmGhoCOoIAEZCjYuOiiSn2qg8/mY54i49D3sQS4MxfJrwkHnqz88jhAK2BJ2JbzR5zKe+Y761QJo+5huHmu1vydNEN4+ZDwRXHlUWsqFeTxC6Y3mdRC6PvrxFHgqTvO5JElr6vWBJF0hRLNwhSIOQyL2NkUpnqlFuVFCtmrmm5UyzJd3HdQMuzzL53yPSlsSTLbxcISpjbwuL994GgJn5pXxD8+ssXxpZoP+gZ/zeJLVk7p12c3sopJwubjl85tuSPDS75Gu9V0babnT8v/f0wl/4wURCyAKaqqiCAdXE3FwBqMixRXREv6Nty6e/SiX7e+1u99yd/F4r4I/ouNu79aQsHRjXy+dDpfHfLEH5jy1B60zK89AJ7o8Rm0texJQvcFdQKX8r5WDhCfPHS7h4hLf/08of1CH3JHUGtsFfh294RFDP95vVAImHFkg3Z0qiETGYYWJEZIDJSZRnLUNlyPTCRpB1vBsq5iBOlnCtsln/1MJM/Ns7ka2BOffvJ3k/M+cNgThEXZgDJUiQIEaSyATCDjAiPiGxY7HXM2eKrZf4TcK4ATvQ9AE79w75QOu3/+xwDSRXv1HC5L3pa/x7FN3WdCpCqyYZJNWYhii1dJpAQBqhmqYasv/i2wYRlsX5bbylf6yU023G6Lv/E6Wm3343M9R80UlxIVmnC/JJQqbtDdP1nlHhhiK7/8VHiuRvY2pfRvrl/MUmXJA1BhfGdzORgnRoWUSyDQE0W7zPfsn+tNbQzaEeryfHBWnqOpu9+qfWLwnnU94Xz6O+8Ofi+cB5996t931k4j7H7pcHvJJzH+JL4kF2CIIzd79V9iCAI4wuCO3YPgjB2D7n4q4TzGF8SH7KTJO8effgxJPmduumdkry7ivkZzmMsNOWHCeeB2XeTSLvryD8lnkdSTUMlBtWQhlRIMZEtwzINpDFTpcT6ongeCF9h9/cRzyP/DOjZIaBHlTVDk6CuQxMhbABDBRLREDOJzmUo/9bVlwX0AOm9oRzfY0QPkN4JCXcN6QHSOzHa9xvTA6R3xt7+NYN6gLQ7ONw5qgcSSzcQ4DoCUxUbhk6QqvGWFca3AxXkfF3aN4vq4Ursjwjryb0W+pcO6wFSHoj+3o8qVveVwrD8o/mKs3u0uzuKgZTvoPphPcUfJ7wHLL+d94eK7/nmET1Qzhi4O6T8yiE9y6VZIK4HMCgriDKFI22kAR0TLFOgG0yTKbTM3O8kXXHqLzeBt4N7OhPnzwrvgXLezH95eM/S/BRKJJvZZeJi3m+48HEx80eZlBR5nXjZnGKXsmXhVyXj4GTMdfty+6ZzsQxfJq6UEJt2sr03fDxPNvHN7T49PV5oEFnNzkfXtAjnHJ6ymi3MUcq4xc/bXk/apG3hB3HdQrQGgLFXWvuVFl6heVHcdrMsXXml9JJkOUUvp2OZuZvVmlis3EIFSDZlYCELSaqGVcXUIbM0TKGh6PqGxZogvUUnNhfuBvg7aLMJ1wAZIFtvvhPOHVGVP0pmL3lOslfGudlETCHQYfY9dAeX4qIqVxvpF7MdQoVDFsPgm+xmTkzOu8KEKDGzHARsTBz7tW1Sz+TzYBqf63XmAV+In2uOc7A/XTnp28hOpf8Nshvb5agr+Cz27uDNOgWweIPmduy8TrJcoXzDC33P2dLk5mp+my6Z5k1Kjp1zWJ1NgihRdmwcZF650ooUrWav0kfhkK+GZcsLyiRjhVR8yc6AmXxt7hv7UIKghH6TlN+AVrpsZaUymtViPuPrii+LfajwYkAvwd+Q8RtAq8VSmpViHIJxUf7tX8lT8K/TTqnGLBw5YWkhyKUu4xBfQJt/vdB3Y/85qz2uaqXqZJUSGSsaUynCFDGTElMnmq6pmmWqlkRgVnixVtPCSbTea/xdrNWU+tq1w8MTlw7ZgiROWiHpJbryUHD0M/osf5YyyiwnJu5Q356Eh1EgXtqfyOc/f/1l9TFbJpvJa8viRRm+DJZpL2U6L29VI+XlJ71/PedzjasNb5Bbd0qxVJuc6NdfXM5Wrq7E99wn4vDrL/+VrJxJxJcALVEHB0EpnZb7xbSUfsupm6ckn5Ia/mupR9LKXlTzt79nFCvE4r9waIu7GHbIB2Q/s0Wv//b3fy4J/1uMIHv4d58NxF3ZRSe4VAf2wGV+acD4b7EM+GZpstI/SqZXcr2wNPZM25r/+su//du/c4Ph/eXTvvD/uWZIpGlFspp84UZcAxxWufHqTzKSRXJCKhTKdk0otI4twFzMEf/w/wGab9YcM6QAAA==",qc.vehicleProduction="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",qc.websiteAnalytics="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",B.d.StiWizardDashboardsHelper=qc}B.l.StiDashboardImages=class{};{class Yc{constructor(){this.name="",this.expression=""}clone(){return this.stimulsoft().memberwiseClone()}meta(){return this._hash||(this._hash=[new n("Name"),new n("Expression")])}saveToJsonObject(e){return r.saveToJsonObject(e,this)}loadFromJsonObject(e){r.loadFromJsonObject(e,this)}loadFromXml(e){r.loadFromXml(e,this)}static loadFromJson(e){let t=new Yc;return t.loadFromJsonObject(e),t}static loadFromXml(e){let t=new Yc;return t.loadFromXml(e),t}saveToString(){return this.saveToJsonObject(Me.Report).serialize()}getStringRepresentation(){if(ne.isNullOrWhiteSpace(this.name))return S.get("FormStyleDesigner","NotSpecified");return ne.isNullOrWhiteSpace(this.expression)?this.name:this.name+` - `+this.expression}isDefault(){return ne.isNullOrEmpty(this.name)&&ne.isNullOrEmpty(this.expression)}}B.g.StiDashboardDrillDownParameter=Yc}B.x.StiDashboardDrillDownParameterConverter=class{},B.x.StiDashboardInteractionConverter=class{},B.x.StiDashboardInteractionCreator=class{static new2(e){switch(e){case"Chart":return new B.g.StiChartDashboardInteraction;case"Table":return new B.g.StiTableDashboardInteraction;case"TableColumn":return new B.g.StiTableColumnDashboardInteraction;case"RegionMap":return new B.g.StiRegionMapDashboardInteraction;case"Text":return new B.g.StiTextDashboardInteraction;case"Image":return new B.g.StiImageDashboardInteraction;case"Gauge":return new B.g.StiGaugeDashboardInteraction;case"Indicator":return new B.g.StiIndicatorDashboardInteraction;case"Progress":return new B.g.StiProgressDashboardInteraction;case"OnlineMap":return new B.g.StiOnlineMapDashboardInteraction;case"PivotTable":return new B.g.StiPivotTableDashboardInteraction;default:throw new Wl(e)}}},B.x.StiDashboardInteractionJsonConverter=class{},B.x.StiTableDashboardInteractionConverter=class extends B.x.StiDashboardInteractionConverter{};let Th=B.E.StiButtonElement,Mh=B.X.StiShapeElement,Dh=B.R.StiComboBoxElement,Ih=B.P.StiListBoxElement,Ah=B.I.StiTreeViewBoxElement,Rh=B.J.StiTreeViewElement,Eh=B.Q.StiDatePickerElement,kh=B.V.StiTextElement,Lh=B.K.StiTableElement,Vh=B.F.StiCardsElement,Bh=B.M.StiProgressElement,Nh=B.O.StiOnlineMapElement,Ph=B.L.StiRegionMapElement,Oh=B.W.StiImageElement,zh=B.S.StiGaugeElement,Hh=B.H.StiChartElement,Xh=B.e.StiDashboard;{class Zc{}B.m.StiDashboardOptions=Zc,B.m.Services=class{static get elements(){return null==this._elements&&(this._elements=[Xh,Th,Vh,zh,Oh,Bu,Ph,Nh,st,ah,Bh,Lh,kh,Mh,Dh,Ih,Ah,Rh,Eh],se.Report.Chart.StiChartAssembly.isAssemblyLoaded&&this._elements.push(Hh)),this._elements}}}{class Qc{static fetchAll(){return B.m.Services.elements}static load(){se["StiOptions"].Services.components.addRange(this.fetchAll())}}(B.m.StiDashboardElementsLoader=Qc).load()}let Gh=se.Report.Chart.StiPie3dSeries,jh=se.Report.Chart.StiClusteredBarArea,Jh=se.Report.Chart.StiAxisArea,Wh=se.Report.Chart.StiConstantLines_StiOrientation,Uh=B.H.StiLegendVisibility,Kh=se.Report.Chart.StiPieSeries,qh=se.Report.Chart.StiRadarArea,Yh=se.Report.Chart.StiMarker,Zh=se.Report.Chart.IStiGanttArea,Qh=B.H.StiChartLabelsStyle,_h=se.Report.Chart.IStiPieSeriesLabels,$h=se.Report.Chart.IStiOutsidePieLabels,em=se.Report.Chart.IStiCenterPieLabels,tm=se.Report.Chart.IStiYRightAxis,rm=B.H.StiXChartAxisTitle,im=se.Report.Chart.IStiClusteredBarArea,sm=se.Report.Chart.IStiAllowApplyBrushNegative,nm=se.Report.Chart.IStiAllowApplyColorNegative,lm=se.Report.Chart.IStiSeriesLabels,am=se.Report.Chart.IStiDoughnutSeries,om=se.Report.Chart.IStiPictorialSeries,um=se.Report.Chart.IStiParetoSeries,hm=se.Base.Helpers.StiValueComparer,mm=se.Report.Components.TextFormats.StiCustomFormatService,dm=se.Report.Chart.IStiPieSeries,cm=B.H.StiYChartAxis,gm=B.H.StiXChartAxis,pm=se.Report.Chart.IStiAxisArea,Sm=se.Report.Chart.IStiStackedBaseLineSeries,wm=se.Report.Chart.IStiBaseLineSeries,fm=se.Report.Chart.IStiFunnelSeries,Cm=se.Report.Chart.StiBoxAndWhiskerHelper,bm=se.Report.Chart.StiShowSeriesLabels,ym=se.Report.Chart.IStiShowZerosSeries,vm=se.Report.Chart.StiShowEmptyCellsAs,xm=se.Report.Chart.StiChartHelper,Fm=se.Report.Chart.IStiFontIconsSeries,Tm=se.Report.Chart.IStiRoundValuesArea,Mm=se.Report.Chart.StiScatterSeries,Dm=se.Report.Chart.IStiScatterArea;{class b extends B.i.StiElementBuilder{render(t,r){this.storedCulture=Qr.set(t.report);try{let e=new se.Report.Components["StiChart"];if(e.horSpacing=6,e.vertSpacing=6,e.isDashboard=!0,e.page=t.page,e.previousAnimations=t.previousAnimations,b.setStyle(t,e),e.series.clear(),null==r)return e;this.renderElements(t,e,r),this.renderArea(t,e),this.renderLegend(t,e),this.renderSeriesLabels(t,e),b.renderConstantLines(t,e),this.simplifyValues(e),e.applyStyle(),e.allowApplyStyle=!1;var i=Cl.getBackColor(t,t.backColor);return N.transparent.equals(i)||(e.brush=new F(i)),e}finally{B.h.StiCultureHelper.restore(this.storedCulture)}}renderElements(s,n,l){var a=null==n?void 0:n.report,o=this.getSeriesMeterIndex(l);let e=this.getSeriesKeyValues(l,o);var u=this.getArgumentMeterIndexes(l);let h=this.getArgumentKeys(s,l).toList();var r=this.getValueMeters(l),m=e.count2(),d;for(d of e){let t=0;for(var c of r){var g=this.getValueMeterIndexes(l)[t];let i=this.renderSeries(s,c,this.toReadableString(d,a),n);if(null==i)continue;b.renderConditions(this.toString(d),i,s,c),b.renderTrendLines(i,s,c);var p=-1!=o&&1<m?l.rows.whereArrayItemStringEqualsTo(o,this.toString(d)):l.rows,S;i.values=le.create(Number,h.length);let r=0;for(S of h){let t=b.getDetailRows(p,S,u);if(r<i.values.length){let e=le.getValueOrFirstOrDefault(t.getArrayItem(g).firstOrDefault());if(null!==e&&void 0!==e&&e.stimulsoft().is(C)){i.core.isDateTimeValues=!0;let e=n.area.as(Jh);e&&(e.xAxis.startFromZero=!1)}i.values[r]=t.getArrayItem(g).firstOrDefaultAsNullableNumber()}r++}i.originalArguments=h.stimulsoft().toArray(),i.arguments=this.proccessSelectArguments(h,s,i,a);let e=i.as(fm);if(null!=e){var c=i.values,w=i.arguments;dn.sort3(c,w),dn.reverse(c),dn.reverse(w),e.values=c,e.arguments=w}else if(i.is(um)){let t=new le,r=new le;for(let e=0;e<i.values.length;e++){var f=i.values[e];if(!(0<f))continue;t.add(f),null!=i.arguments&&e<i.arguments.length?r.add(i.arguments[e]):r.add(e+1)}var c=t.stimulsoft().toArray(),w=r.stimulsoft().toArray();dn.sort3(c,w),dn.reverse(c),dn.reverse(w),i.valuesStart=null,i.values=c,i.arguments=w}t++,b.processTopNElements(s,i),se.Report.Chart["StiHistogramHelper"].checkValuesAndArguments(i,s.argumentFormat),this.renderSeriesInteraction(i,s,h.length,this.toString(d))}}Cm.checkArgument(n),xm.checkWaterfallTotals(n)}proccessSelectArguments(e,t,r,i){var s;if(null!=r.as(Mm)){let t=[];for(let e=0;e<r.originalArguments.length;e++){var n=r.originalArguments[e],n=null!=n&&0<n.length?n[0]:n;t.push(n)}return t}return e.select(e=>this.getString(t.argumentFormat,e,i)).stimulsoft().toArray()}static processTopNElements(e,t){if(e.topN.mode==Au.None)return;let r=new le;var i=(t.values.length>t.arguments.length?t.values:t.arguments).length,s,n;for(let e=0;e<i;e++){var l=e<t.values.length?t.values[e]:null,a=e<t.arguments.length?t.arguments[e]:null,o=e<t.originalArguments.length?t.originalArguments[e]:null;r.add({key:a,key1:o,value:l})}let u=(r=e.topN.mode==Au.Bottom?r.orderBy(e=>e.value):r.orderByDescending(e=>e.value)).take(e.topN.count);r.length>e.topN.count&&e.topN.showOthers&&(s=r.skip(e.topN.count).sum(e=>O.tryToNumber(e.value)),n=ne.isNullOrEmpty(e.topN.othersText)?S.get("FormDesigner","Others"):ht.parse(e.topN.othersText,e),u.add({key:n,key1:n,value:s})),e.isBarChart&&u.reverse(),t.originalArguments=u.select(e=>e.key1).stimulsoft().toArray(),t.arguments=u.select(e=>e.key).stimulsoft().toArray(),t.values=u.select(e=>O.tryToNullableNumber(e.value)).stimulsoft().toArray()}static setStyle(e,t){if(e.style!=o.Custom)return void(t.style=he.getChartStyle(e));var r=e.report.styles.getCustomChartStyle(e.customStyleName);if(null!=r)return t.style=r,void(t.customStyleName=e.customStyleName);t.style=he.getChartStyle2(o.Blue)}static getDetailRows(e,r,i){if(!i.any())return e;return e.where(t=>{var e=i.select(e=>t[e]).stimulsoft().toArray();return hm.equalValues(e,r)})}renderSeries(e,t,r,i){var s=t;let n=gn.neww2(t.seriesType);return b.renderSeriesYAxis(e,s,n),b.renderSeriesLine(s,n),b.renderSeriesShowZeros(s,n),b.renderSeriesShowNulls(s,n),n.coreTitle=this.getSeriesTitle(e,r,t),n.core.seriesColors=null!=e.seriesColors&&0<e.seriesColors.length?e.seriesColors:null,n.isDashboard=!0,this.renderSeriesNegativeColor(e,n,i.series.count),this.renderSeriesParetoColor(e,n,i.series.count),this.renderMarker(e,n),b.renderSeriesLighting(n),b.renderSeriesIcon(e,n),b.renderSeriesPie3d(e,n),i.series.add(n),n}static renderSeriesPie3d(e,t){var r;t.is(Gh)&&null!=(r=e.options3D)&&r.stimulsoft().is(on)&&(t.options3D=e.options3D.stimulsoft().as(on))}static renderSeriesYAxis(e,t,r){t.is(ys)&&1<e.values.length&&(r.yAxis=t.yAxis)}static renderSeriesLine(r,i){if(null!=r){let e=i.as(wm);if(null!=e)return e.lineStyle=r.lineStyle,void(e.lineWidth=r.lineWidth);let t=i.as(Sm);null!=t&&(t.lineStyle=r.lineStyle,t.lineWidth=r.lineWidth)}}static renderSeriesShowZeros(e,t){let r=t.as(ym);if(null==r)return;r.showZeros=e.showZeros==ut.Zero;let i=t.as(wm);if(null==i)return;e.showZeros==ut.Gap&&(i.showZerosAs=vm.Gap),e.showZeros==ut.ConnectPointsWithLine&&(i.showZerosAs=vm.ConnectPointsWithLine)}static renderSeriesShowNulls(e,t){let r=t.as(Bn);if(null==r)return;r.showNulls=e.showNulls==ut.Zero;let i=t.as(wm);if(null==i)return;e.showNulls==ut.Gap&&(i.showNullsAs=vm.Gap),e.showNulls==ut.ConnectPointsWithLine&&(i.showNullsAs=vm.ConnectPointsWithLine)}static renderSeriesLighting(e){e.is(dm)&&(e.lighting=!1),e.is(am)&&(e.lighting=!1)}static renderSeriesIcon(e,t){let r=t.as(Fm);null!=r&&(t.is(om)&&null==e.icon?r.icon=se.Report.Helpers.StiFontIcons.QuarterFull:r.icon=e.icon)}renderMarker(e,t){let r,i=null!=t?t.as(wm):null,s=null!=t?t.as(Sm):null;null!=i?r=null!=i.marker?i.marker.as(Yh):null:null!=s&&(r=null!=s.marker?s.marker.as(Yh):null),null!=r&&(r.size=e.marker.size,r.angle=e.marker.angle,r.type=e.marker.type,r.extendedVisible=e.marker.visible)}renderSeriesNegativeColor(e,t,r){if(null==e.negativeSeriesColors||e.negativeSeriesColors.length<=0)return;while(r>=e.negativeSeriesColors.length)r-=e.negativeSeriesColors.length;let i=t.as(sm),s=(null!=i&&(i.allowApplyBrushNegative=!0,i.brushNegative=new F(e.negativeSeriesColors[r])),t.as(nm));null!=s&&(s.allowApplyColorNegative=!0,s.lineColorNegative=e.negativeSeriesColors[r])}renderSeriesParetoColor(e,t,r){if(null==e.paretoSeriesColors||e.paretoSeriesColors.length<=0)return;while(r>=e.paretoSeriesColors.length)r-=e.paretoSeriesColors.length;let i=t.as(um);null!=i&&(i.allowApplyLineColor=!0,i.lineColor=e.paretoSeriesColors[r])}renderArea(e,t){var r=Cl.getBackColor(e,e.backColor);N.transparent.equals(r)||(t.area.brush=255==r.a?new F(r):new Je),(e.isPieChart||e.isPie3dChart||e.isDoughnutChart||e.isFunnelChart||e.isSunburstChart||e.isPictorialStackedChart)&&(t.area.allowApplyStyle=!1,t.area.borderColor=N.transparent),t.area.colorEach=b.getColorEach(e),t.area.is(Tm)&&(t.area.as(Tm).roundValues=e.roundValues),this.renderAxisAxes(e,t),b.renderRadarAxis(e,t)}static getColorEach(e){return!!(e.isPieChart||e.isPie3dChart||e.isDoughnutChart||e.isPictorialStackedChart)||null!=e.area&&e.area.colorEach}renderAxisAxes(e,t){if(t.series.count<=0)return;let r=t.area.as(pm);if(null==r)return;r.allowApplyStyle=!1,r.borderColor=N.transparent,b.renderInterlacingHor(e,r),b.renderInterlacingVert(e,r),b.renderGridLinesHor(e,r),b.renderGridLinesVert(e,r),r.reverseHor=e.area.reverseHor,r.reverseVert=e.area.reverseVert,this.renderXAxis(e,t,!1),this.renderYAxis(e,t,!1),e.xTopAxis.visible&&this.renderXAxis(e,t,!0),e.yRightAxis.visible?this.renderYAxis(e,t,!0):b.renderYRightAxis(e,t)}static renderInterlacingHor(e,t){e.area.interlacingHor.visible&&!N.transparent.equals(e.area.interlacingHor.color)&&(t.interlacingHor.interlacedBrush=new F(e.area.interlacingHor.color)),t.interlacingHor.visible=e.area.interlacingHor.visible}static renderInterlacingVert(e,t){e.area.interlacingVert.visible&&!N.transparent.equals(e.area.interlacingVert.color)&&(t.interlacingVert.interlacedBrush=new F(e.area.interlacingVert.color)),t.interlacingVert.visible=e.area.interlacingVert.visible}static renderGridLinesHor(e,t){e.area.gridLinesHor.visible&&!N.transparent.equals(e.area.gridLinesHor.color)&&(t.gridLinesHor.color=e.area.gridLinesHor.color),t.gridLinesHor.visible=e.area.gridLinesHor.visible,t.gridLinesHor.style=wi.Solid}static renderGridLinesVert(e,t){e.area.gridLinesVert.visible&&!N.transparent.equals(e.area.gridLinesVert.color)&&(t.gridLinesVert.color=e.area.gridLinesVert.color),t.gridLinesVert.visible=e.area.gridLinesVert.visible,t.gridLinesVert.style=wi.Solid}renderXAxis(e,t,r){let i=t.area.as(pm);if(null==i)return;let s=r?i.xTopAxis:i.xAxis;var r=r?e.xTopAxis:e.xAxis,n=t.area.is(im);let l=Sn.isDrillAvailable(e)&&e.drillDownCurrentLevel<e.drillDownLevelCount?e.arguments.getRange(e.drillDownCurrentLevel,1):e.arguments,a=(n?e.values:l).select(this.getTitle).distinct();b.renderAxis(e,s,r),s.ticks.visible=a.any(),s.visible=r.visible,b.renderXAxisTitleText(e,s,r,a);var n=t.series.toList().cast().all(e=>e.is(wm)||e.is(Sm)),o=(r.startFromZero==tn.Auto&&(s.startFromZero=!n),t.series.toList().cast().all(e=>e.core.isDateTimeValues));o&&i.is(jh)&&(s.startFromZero=!1),r.showEdgeValues==tn.Auto&&(s.showEdgeValues=n),s.labels.placement==zs.AutoRotation&&(s.labels.textAlignment=ae.Left),null!=e.valueFormat&&i.is(im)&&(s.labels.formatService=b.checkValueFormat(e.valueFormat,t)),null!=e.argumentFormat&&i.is(Dm)&&(s.labels.formatService=e.argumentFormat),b.renderAxisLineColor(e,s)}renderYAxis(e,t,r){let i=t.area.as(pm);if(null==i)return;let s=r?i.yRightAxis:i.yAxis;var r=r?e.yRightAxis:e.yAxis,n,l;let a=((t.area.is(Zh)||t.area.is(im))&&e.dataMode!=un.ManuallyEnteringData?e.arguments:e.chartValuesList()).select(this.getTitle).distinct();b.renderAxis(e,s,r),s.visible=a.any()&&r.visible,b.renderYAxisTitleText(e,s,r,a),null==e.valueFormat||i.is(im)||(s.labels.formatService=b.checkValueFormat(e.valueFormat,t)),t.series.toList().cast().all(e=>e.core.isDateTimeValues)&&(i.yAxis.startFromZero=!1),b.renderAxisLineColor(e,s)}static renderXRadarAxis(e,t){let r=t.area.as(qh);if(null==r)return;this.renderXRadarAxisLabels(e.area.xAxis.labels,r.xAxis.labels),this.renderAxisRange(r.xAxis.range,e.xAxis),null!=e.valueFormat&&(r.yAxis.labels.formatService=b.checkValueFormat(e.valueFormat,t));var t=he.getForeColor(e);this.renderRadarXAxisLabelsColor(e,r.xAxis.labels,e.xAxis,t),r.xAxis.visible=e.xAxis.visible}static renderXRadarAxisLabels(e,t){t.font=e.font,t.textBefore=e.textBefore,t.textAfter=e.textAfter,t.allowApplyStyle=!1}static renderYRadarAxis(e,t){let r=t.area.as(qh);if(null==r)return;this.renderYRadarAxisLabels(e.area.yAxis.labels,r.yAxis.labels),this.renderAxisRange(r.yAxis.range,e.yAxis);var t=he.getForeColor(e);this.renderRadarYAxisLabelsColor(e,r.yAxis.labels,e.yAxis,t),r.yAxis.visible=e.yAxis.visible}static renderYRadarAxisLabels(e,t){t.font=e.font,t.textBefore=e.textBefore,t.textAfter=e.textAfter,t.step=e.step,t.angle=e.angle,t.textAlignment=e.textAlignment,t.allowApplyStyle=!1}static renderRadarXAxisLabelsColor(e,t,r,i){if(!N.transparent.equals(r.labels.color))return void(t.color=r.labels.color);e.style==o.Custom&&t.color!=N.transparent||(t.color=i)}static renderRadarYAxisLabelsColor(e,t,r,i){if(!N.transparent.equals(r.labels.color))return void(t.color=r.labels.color);e.style==o.Custom&&t.color!=N.transparent||(t.color=i)}static checkValueFormat(e,i){let s=e.as(Vr);if(null!=s&&0<(s.state&se.Report.Components.StiTextFormatState.Abbreviation)){let t=s.clone(),r=null;for(let e=0;e<i.series.count;e++){var n,l;for(l of i.series.getByIndex(e).values)(null==r||r>l)&&(r=l)}if(null!=r&&0!=r){let e=0;if((r=Math.abs(r))<4){while(Math.round(r)%10==0)r*=10,e++;e+=2}t.useLocalSetting=!1,t.decimalDigits=e}return t}return e}static renderYRightAxis(e,t){var t=t.area.as(pm);if(null==t)return;this.renderAxis(e,t.yRightAxis,e.yRightAxis),this.renderAxisLineColor(e,t.yRightAxis)}static renderXAxisTitleText(e,t,r,i){if(!r.title.visible)return;t.title.text=ne.isNullOrEmpty(r.title.text)?ne.join(" / ",i):ht.parse(r.title.text,e)}static renderYAxisTitleText(e,t,r,i){if(!r.title.visible)return;t.title.text=ne.isNullOrEmpty(r.title.text)?ne.join(" / ",i):ht.parse(r.title.text,e)}static renderAxisLineColor(e,t){if(e.style==o.Custom&&!N.transparent.equals(t.lineColor))return t.allowApplyStyle=!1,void(t.allowApplyStyle=!1);he.isDarkStyle(e.dashboard)&&(t.allowApplyStyle=!1,t.lineColor=he.getForeColor(e))}static renderRadarAxis(e,t){if(t.series.count<=0)return;var r;if(null==t.area.as(qh))return;this.renderXRadarAxis(e,t),this.renderYRadarAxis(e,t)}static renderAxis(e,t,r){var i=he.getForeColor(e);this.renderAxisTitle(e,t,r,i),this.renderAxisLabels(e,t,r),this.renderAxisStartFromZero(t,r),this.renderAxisShowEdgeValues(t,r),this.renderAxisRange(t.range,r),this.renderAxisLabelsColor(e,t,r,i)}static renderAxisTitle(e,t,r,i){let s=this.getTitleAxisChart(r),n=t.title;n.alignment=s.alignment,n.position=s.position,n.font=s.font,this.renderAxisLabelsTitleColor(e,n,s,i),s.is(rm)&&(n.direction=s.direction),s.is(en)&&(n.direction=s.direction)}static renderAxisLabels(e,t,r){t.labels.angle=r.labels.angle,t.is(tm)&&e.isParetoChart||(t.labels.textAfter=ht.parse(r.labels.textAfter,e)),t.labels.textAlignment=r.labels.textAlignment,t.labels.textBefore=ht.parse(r.labels.textBefore,e),t.labels.font=r.labels.font,t.labels.placement=r.labels.placement,t.labels.step=r.labels.step}static renderAxisStartFromZero(e,t){var r,i;t.is(gm)&&null!=(r=t)&&r.startFromZero!=tn.Auto&&(e.startFromZero=r.startFromZero!=tn.False),t.is(cm)&&null!=t&&(e.startFromZero=t.startFromZero)}static renderAxisShowEdgeValues(e,t){var t;t.is(gm)&&null!=(t=t)&&t.showEdgeValues!=tn.Auto&&(e.showEdgeValues=t.showEdgeValues!=tn.False)}static renderAxisRange(e,t){t.stimulsoft().getType()!=gm&&t.stimulsoft().getType()!=cm||(e.auto=t.range.auto,e.maximum=t.range.maximum,e.minimum=t.range.minimum)}static renderAxisLabelsTitleColor(e,t,r,i){if(!N.transparent.equals(r.color))return void(t.color=r.color);e.style==o.Custom&&!N.transparent.equals(t.color)||(t.color=i)}static renderAxisLabelsColor(e,t,r,i){if(!N.transparent.equals(r.labels.color))return void(t.labels.color=r.labels.color);e.style==o.Custom&&!N.transparent.equals(t.labels.color)||(t.labels.color=i)}static getTitleAxisChart(e){if(e.is(gm))return e.title;if(e.is(cm))return e.title;return null}renderLegend(e,t){t.legend.horAlignment=e.legend.horAlignment,t.legend.vertAlignment=e.legend.vertAlignment,t.legend.title=ht.parse(e.legend.title.text,e),t.legend.titleFont=e.legend.title.font,t.legend.allowApplyStyle=!1,t.legend.font=e.legend.labels.font,t.legend.visible=b.getChartLegendVisible(e,t),t.legend.columns=e.legend.columns,t.legend.direction=e.legend.direction;var r=he.getForeColor(e);b.renderLegendTitleColor(e,t,r),b.renderLegendLabelsColor(e,t,r)}static getChartLegendVisible(e,t){if(1==t.series.count&&!t.series.getByIndex(0).is(Kh))return e.legend.visibility==Uh.Always;return e.legend.visibility!=Uh.False}static renderLegendTitleColor(e,t,r){if(!N.transparent.equals(e.legend.title.color))return void(t.legend.titleColor=e.legend.title.color);e.style==o.Custom&&!N.transparent.equals(t.legend.titleColor)||(t.legend.titleColor=r)}static renderSeriesLabelsLegendValueType(e,t){let r=0;t.series.toList().cast().where(e=>null!=e.arguments).toList().forEach(e=>{r+=e.arguments.stimulsoft().toList().count2(e=>null!=e)}),null==e.legend.labels.valueType?0<r&&1<t.series.count?t.seriesLabels.legendValueType=Ks.SeriesTitleArgument:1==r&&1==t.series.count&&(e.isPieChart||e.isPie3dChart||e.isDoughnutChart)?t.seriesLabels.legendValueType=Ks.SeriesTitle:0<r&&1==t.series.count?t.seriesLabels.legendValueType=Ks.Argument:0==r&&1<t.series.count?t.seriesLabels.legendValueType=Ks.SeriesTitle:t.seriesLabels.legendValueType=e.isBubbleChart?Ks.Weight:Ks.Value:t.seriesLabels.legendValueType=e.legend.labels.valueType}static renderLegendLabelsColor(e,t,r){if(!N.transparent.equals(e.legend.labels.color))return void(t.legend.labelsColor=e.legend.labels.color);e.style==o.Custom&&!N.transparent.equals(t.legend.labelsColor)||(t.legend.labelsColor=r)}static renderConditions(e,t,r,i){var s=null!=r.chartConditions?r.chartConditions.where(e=>e.keyValueMeter==i.key):null,s=(null!=s&&this.renderValueConditions(r,t,s),null!=r.chartConditions?r.chartConditions.where(e=>e.field==zn.Argument):null),s=(null!=s&&this.renderArgumentConditions(r,t,s),null!=r.chartConditions?r.chartConditions.where(e=>e.field==zn.Series):null);null!=s&&this.renderSeriesConditions(r,t,s,e)}static renderValueConditions(e,t,r){for(var i of r){var s=i.isExpression?ht.parse(`{${i.value}}`,e):i.value;t.conditions.add(new se.Report.Chart["StiChartCondition"](i.color,se.Report.Components.StiFilterItem.Value,i.dataType,i.condition,s,i.markerType,i.markerAngle))}}static renderArgumentConditions(e,t,r){for(var i of r){var s=i.isExpression?ht.parse(`{${i.value}}`,e):i.value;t.conditions.add(new se.Report.Chart["StiChartCondition"](i.color,se.Report.Components.StiFilterItem.Argument,i.dataType,i.condition,s,i.markerType,i.markerAngle))}}static renderSeriesConditions(t,r,e,i){for(var s of e){let e=s.isExpression?ht.parse(`{${s.value}}`,t):s.value;this.getConditionResult(null===e||void 0===e?void 0:e.toString(),i,s.condition)&&(r.legendColor=s.color,r.conditions.add(new se.Report.Chart["StiChartCondition"](s.color,se.Report.Components.StiFilterItem.Argument,se.Report.Components.StiFilterDataType.String,se.Report.Components.StiFilterCondition.BeginningWith,"",s.markerType,s.markerAngle)))}}static getConditionResult(t,r,i){var e=!1;if(null!=r){let e=r;if(null!=e&&null!=t){r.stimulsoft().getType()!=t.stimulsoft().getType()&&(r=r.toString(),t=t.stimulsoft().toString(),e=r);try{switch(i){case se.Report.Components.StiFilterCondition.EqualTo:return 0==e.stimulsoft().compareTo(t);case se.Report.Components.StiFilterCondition.NotEqualTo:return 0!=e.stimulsoft().compareTo(t);case se.Report.Components.StiFilterCondition.GreaterThan:return 1==e.stimulsoft().compareTo(t);case se.Report.Components.StiFilterCondition.GreaterThanOrEqualTo:return 0<=e.stimulsoft().compareTo(t);case se.Report.Components.StiFilterCondition.LessThan:return-1==e.stimulsoft().compareTo(t);case se.Report.Components.StiFilterCondition.LessThanOrEqualTo:return e.stimulsoft().compareTo(t)<=0;case se.Report.Components.StiFilterCondition.Containing:{let e=r.toString();var s=t.toString();return-1!=e.indexOf(s)}case se.Report.Components.StiFilterCondition.NotContaining:{let e=r.toString();var n=t.toString();return-1==e.indexOf(n)}case se.Report.Components.StiFilterCondition.BeginningWith:{let e=r.toString();var l=t.toString();return e.stimulsoft().startsWith(l)}case se.Report.Components.StiFilterCondition.EndingWith:{let e=r.toString();var a=t.toString();return e.stimulsoft().endsWith(a)}}}catch(e){}}}return e}static renderConstantLines(t,r){for(var i of t.constantLines){var s=!ne.isNullOrEmpty(i.text);let e=new se.Report.Chart["StiConstantLines"];e.allowApplyStyle=!1,e.text=i.text,e.axisValue=ht.parse(i.axisValue,t),e.lineColor=i.lineColor,e.lineStyle=i.lineStyle,e.lineWidth=i.lineWidth,e.titleVisible=s,e.orientation=t.isBarChart?Wh.Vertical:Wh.Horizontal,e.position=i.position,r.constantLines.add(e)}}static renderTrendLines(e,t,r){var t,t=null==(t=t.trendLines)?void 0:t.where(e=>e.keyValueMeter==r.key).toList(),i;e.trendLines.clear();for(i of t)e.trendLines.add(this.getTrendLine(i,e.chart))}static getTrendLine(t,r){switch(t.type){case an.None:return new se.Report.Chart["StiTrendLineNone"];case an.Exponential:{let e=new se.Report.Chart["StiTrendLineExponential"];return e.allowApplyStyle=!1,e.lineColor=N.transparent.equals(t.lineColor)?r.style.core.trendLineColor:t.lineColor,e.lineStyle=t.lineStyle,e.lineWidth=t.lineWidth,e.showShadow=!1,e}case an.Linear:{let e=new se.Report.Chart["StiTrendLineLinear"];return e.allowApplyStyle=!1,e.lineColor=N.transparent.equals(t.lineColor)?r.style.core.trendLineColor:t.lineColor,e.lineStyle=t.lineStyle,e.lineWidth=t.lineWidth,e.showShadow=!1,e}case an.Logarithmic:{let e=new se.Report.Chart["StiTrendLineLogarithmic"];return e.allowApplyStyle=!1,e.lineColor=N.transparent.equals(t.lineColor)?r.style.core.trendLineColor:t.lineColor,e.lineStyle=t.lineStyle,e.lineWidth=t.lineWidth,e.showShadow=!1,e}}}renderSeriesLabels(t,e){if(!(t.isPieChart||t.isPie3dChart||t.isFunnelChart||t.isPictorialStackedChart||t.isDoughnutChart||t.isTreemapChart||t.isAxisAreaChart||t.isSunburstChart||t.isRadarChart||t.isWaterfallChart))return void(e.seriesLabels.visible=!1);e.allowApplyStyle=!1,t.isPieChart?b.renderPieLabelsPosition(t,e):t.isPie3dChart?b.renderPie3dLabelsPosition(t,e):t.isDoughnutChart||t.isSunburstChart?b.renderDoughnutLabelsPosition(t,e):t.isFunnelChart?b.renderFunnelLabelsPosition(t,e):t.isPictorialStackedChart?b.renderPictorialStackedLabelsPosition(t,e):t.isTreemapChart?b.renderTreemapLabelsPosition(t,e):t.isWaterfallChart?b.renderWaterfallLabelsPosition(t,e):t.isStackedChart?b.renderStackedLabelsPosition(t,e):t.isRadarChart?b.renderRadarLabelsPosition(t,e):t.isAxisAreaChart&&b.renderAxisLabelsPosition(t,e),e.seriesLabels.core.applyStyle(e.style),b.applyPropertiesToSeriesLabels(t,e.seriesLabels.as(lm)),t.isStackedChart&&e.series.toList().forEach(e=>b.applyPropertiesToSeriesLabels(t,e.seriesLabels.as(lm))),t.isPieChart||t.isPie3dChart||t.isDoughnutChart?(b.renderPieLabelsStyle(t,e),b.renderPieLabelsAutoRotate(t,e),b.renderSeriesLabelsLegendValueType(t,e)):t.isSunburstChart?b.renderPieLabelsAutoRotate(t,e):t.isFullStackedChart?(b.renderLabelsStyle(t,e),e.seriesLabels.showInPercent=!0):b.renderLabelsStyle(t,e),b.renderLabelsColor(t,e),b.renderLabelsTextFormat(t,e)}static applyPropertiesToSeriesLabels(e,t){t.preventIntersection=!0,t.textAfter=ht.parse(e.labels.textAfter,e),t.textBefore=ht.parse(e.labels.textBefore,e),t.font=e.labels.font,t.showZeros=!1}static renderPieLabelsAutoRotate(e,t){let r=t.seriesLabels.as(em);null!=r&&(r.autoRotate=e.labels.autoRotate)}static renderLabelsColor(e,t){var r,r;let i=t.seriesLabels.as(lm),s=t.seriesLabels.as($h);N.transparent.equals(e.labels.foreColor)?(i.labelColor=N.gray,i.labelColor=he.isDarkStyle2(e.style)?N.fromArgb(50,50,50):null!=(null==(r=null==t?void 0:t.style)?void 0:r.core)?t.style.core.seriesLabelsColor:N.gray,null!=s&&(s.lineColor=null!=(null==(r=null==t?void 0:t.style)?void 0:r.core)?t.style.core.seriesLabelsLineColor:N.gray)):(i.labelColor=e.labels.foreColor,null!=s&&(s.lineColor=e.labels.foreColor))}static renderLabelsTextFormat(e,t){t.seriesLabels.formatService=e.valueFormat}static renderFunnelLabelsPosition(e,t){switch(e.labels.funnelPosition){case g.None:t.seriesLabels.visible=!1;break;case g.Left:t.seriesLabels=new se.Report.Chart["StiOutsideLeftFunnelLabels"];break;case g.Center:t.seriesLabels=new se.Report.Chart["StiCenterFunnelLabels"];break;case g.Right:t.seriesLabels=new se.Report.Chart["StiOutsideRightFunnelLabels"];break;default:t.seriesLabels.visible=!1;break}}static renderPictorialStackedLabelsPosition(e,t){switch(e.labels.pictorialStackedPosition){case g.None:t.seriesLabels.visible=!1;break;case g.Left:t.seriesLabels=new se.Report.Chart["StiOutsideLeftPictorialStackedLabels"];break;case g.Center:t.seriesLabels=new se.Report.Chart["StiCenterPictorialStackedLabels"];break;case g.Right:t.seriesLabels=new se.Report.Chart["StiOutsideRightPictorialStackedLabels"];break;default:t.seriesLabels.visible=!1;break}}static renderTreemapLabelsPosition(e,t){switch(e.labels.treemapPosition){case g.None:t.seriesLabels.visible=!1;break;case g.Center:t.seriesLabels=new se.Report.Chart["StiCenterTreemapLabels"];break;default:t.seriesLabels.visible=!1;break}}static renderPieLabelsPosition(e,t){switch(e.labels.piePosition){case g.None:t.seriesLabels.visible=!1;break;case g.Center:t.seriesLabels=new se.Report.Chart["StiCenterPieLabels"];break;case g.InsideEnd:t.seriesLabels=new se.Report.Chart["StiInsideEndPieLabels"];break;case g.Outside:t.seriesLabels=new se.Report.Chart["StiOutsidePieLabels"];break;case g.TwoColumns:t.seriesLabels=new se.Report.Chart["StiTwoColumnsPieLabels"];break;default:t.seriesLabels.visible=!1;break}}static renderPie3dLabelsPosition(e,t){switch(e.labels.pie3dPosition){case g.None:t.seriesLabels.visible=!1;break;case g.Center:t.seriesLabels=new se.Report.Chart["StiCenterPie3dLabels"];break;default:t.seriesLabels.visible=!1;break}}static renderStackedLabelsPosition(e,r){switch(e.labels.axisPosition){case g.Total:{let t=r.series.toList().lastOrDefault();r.series.toList().where(e=>e!=t).toList().forEach(e=>{e.showSeriesLabels=bm.FromSeries,e.seriesLabels.visible=!1}),t.showSeriesLabels=bm.FromSeries,t.seriesLabels=new se.Report.Chart["StiValueAxisLabels"],t.isTotalLabel=!0,t.seriesLabels.formatService=e.valueFormat;break}default:b.renderAxisLabelsPosition(e,r);break}}static renderRadarLabelsPosition(e,t){switch(e.labels.radarPosition){case g.None:t.seriesLabels.visible=!1;break;case g.Center:t.seriesLabels=new se.Report.Chart["StiCenterAxisLabels"];break;default:t.seriesLabels.visible=!1;break}}static renderWaterfallLabelsPosition(e,t){switch(e.labels.axisPosition){case g.None:t.seriesLabels.visible=!1;break;case g.Center:t.seriesLabels=new se.Report.Chart["StiCenterAxisLabels"];break;case g.InsideBase:t.seriesLabels=new se.Report.Chart["StiInsideBaseAxisLabels"];break;case g.InsideEnd:t.seriesLabels=new se.Report.Chart["StiInsideEndAxisLabels"];break;case g.Outside:t.seriesLabels=new se.Report.Chart["StiOutsideAxisLabels"];break;case g.OutsideBase:t.seriesLabels=new se.Report.Chart["StiOutsideBaseAxisLabels"];break;case g.OutsideEnd:t.seriesLabels=new se.Report.Chart["StiOutsideEndAxisLabels"];break;case g.Value:t.seriesLabels=new se.Report.Chart["StiValueAxisLabels"];break;default:t.seriesLabels.visible=!1;break}}static renderAxisLabelsPosition(e,t){switch(e.labels.axisPosition){case g.None:t.seriesLabels.visible=!1;break;case g.Center:t.seriesLabels=new se.Report.Chart["StiCenterAxisLabels"];break;case g.InsideBase:t.seriesLabels=new se.Report.Chart["StiInsideBaseAxisLabels"];break;case g.InsideEnd:t.seriesLabels=new se.Report.Chart["StiInsideEndAxisLabels"];break;case g.Left:t.seriesLabels=new se.Report.Chart["StiLeftAxisLabels"];break;case g.Outside:t.seriesLabels=new se.Report.Chart["StiOutsideAxisLabels"];break;case g.OutsideBase:t.seriesLabels=new se.Report.Chart["StiOutsideBaseAxisLabels"];break;case g.OutsideEnd:t.seriesLabels=new se.Report.Chart["StiOutsideEndAxisLabels"];break;case g.Right:t.seriesLabels=new se.Report.Chart["StiRightAxisLabels"];break;case g.Value:t.seriesLabels=new se.Report.Chart["StiValueAxisLabels"];break;default:t.seriesLabels.visible=!1;break}}static renderDoughnutLabelsPosition(e,t){switch(e.labels.doughnutPosition){case g.None:t.seriesLabels.visible=!1;break;case g.Center:t.seriesLabels=new se.Report.Chart["StiCenterPieLabels"];break;default:t.seriesLabels.visible=!1;break}}static renderPieLabelsStyle(e,t){let r=t.seriesLabels.as(_h);switch(e.labels.style){case Qh.PercentOfTotal:r.showInPercent=!0,r.valueType=Ks.Value;break;case Qh.Category:r.showInPercent=!1,r.valueType=e.arguments.any()?Ks.Argument:Ks.SeriesTitle;break;case Qh.CategoryPercentOfTotal:r.showInPercent=!0,r.valueType=e.arguments.any()?Ks.ArgumentValue:Ks.SeriesTitleValue;break;case Qh.CategoryValue:r.showInPercent=!1,r.valueType=e.arguments.any()?Ks.ArgumentValue:Ks.SeriesTitleValue;break;case Qh.Value:r.showInPercent=!1,r.valueType=Ks.Value;break}}static renderLabelsStyle(e,t){let r=t.seriesLabels;switch(e.labels.style){case Qh.PercentOfTotal:r.valueType=Ks.Value;break;case Qh.Category:r.valueType=e.arguments.any()?Ks.Argument:Ks.SeriesTitle;break;case Qh.CategoryPercentOfTotal:r.valueType=e.arguments.any()?Ks.ArgumentValue:Ks.SeriesTitleValue;break;case Qh.CategoryValue:r.valueType=e.arguments.any()?Ks.ArgumentValue:Ks.SeriesTitleValue;break;case Qh.Value:r.valueType=Ks.Value;break}}renderSeriesInteraction(t,r,e,i){var s=null==r?void 0:r.report,n,l;let a=0;if(r.dashboardInteraction.onHover==xr.ShowToolTip){t.toolTips=dn.create(String,e);for(var o of t.arguments){let e="";a<t.values.length&&null!=t.values[a]&&(e=t.values[a].toString()),t.toolTips[a]=this.getToolTip(r,r.dashboardInteraction.toolTip,this.getString(r.argumentFormat,o,s),this.getString(r.valueFormat,e,s),i),a++}}a=0,t.hyperlinks=dn.create(String,e);for(l of t.arguments){let e="";a<t.values.length&&null!=t.values[a]&&(e=t.values[a].toString()),t.hyperlinks[a]=this.getHyperlink(r,r.dashboardInteraction.hyperlink,l.toString(),e,t.titleValue),a++}t.drillDownEnabled=!0}getToolTip(e,t,r,i,s){var n;return null==r&&(r=""),null==s&&(s=""),ne.isNullOrWhiteSpace(t)?(null==r||ne.isNullOrEmpty(r)||(r=r.split('"').join('\\"')),n='"StiColor":"{0}","StiValue":"{1}","StiArgument":"{2}"',"{"+ne.format(n,"#ffffff",i,r)+"}"):this.getHyperlink(e,t,r,i,s)}getHyperlink(e,t,r,i,s){return null==r&&(r=""),null==s&&(s=""),ht.parse(t,e,!1)}getTitle(e){return qu.getLabel(e)}getSeriesTitle(e,t,r){if(e.values.length<2)return t;var e=qu.getLabel(r),r=ne.isNullOrWhiteSpace(e)?null:e;if(null==r)return t;return ne.isNullOrWhiteSpace(t)?r:t+` - `+r}getArgumentIndex(e,t){let r=this.getArgumentMeterIndexes(e).toList();if(null==r||!r.any())return-1;if(1==r.length)return r.firstOrDefault();if(r.length>t)return V.trunc(r[t]);return-1}simplifyValues(e){let r=0;while(r<e.series.count){let t=e.series.getByIndex(r);if(800<t.values.length){var i=this.getShorterListPoints(t);t.values=dn.create(Number,i.length),t.arguments=dn.create(Object,i.length);for(let e=0;e<i.length;e++)t.values[e]=i[e].x,t.arguments[e]=i[e].y}r++}}getShorterListPoints(t){let r=dn.create(Il,t.values.length);for(let e=0;e<t.values.length;e++)r[e]=new Il(t.values[e],e);var i=[.3,.6,1,5,9,15,20,25,30,40];let s=null,n=null;for(let e=0;e<i.length;e++){if((s=se.Report.Chart["StiSimplifyHelper"].simplify(r,e,!0).stimulsoft().toList()).length/r.length<.02&&s.length<900&&null!=n){s=n;break}n=s}return s}getString(t,r,i){if(null==r)return"";if(dn.isArray(r)){let e=new le;for(var s of r)e.add(this.getFormatValue(t,s,i));return ne.join(" - ",e)}return this.getFormatValue(t,r,i)}getFormatValue(e,t,r){return null==t?"":t instanceof C?e.is2(Lr)||e.is2(kr)||e.is2(mm)?e.format(t):t.toShortDateString():Zr.isEligable(t,null==r?void 0:r.culture)?Zr.convert(t,null==r?void 0:r.culture):null!=e?e.format(t):t.toString()}static create(e){if(e.isSunburstChart)return new B.i.StiSunburstChartElementBuilder;if(e.isBubbleChart)return new B.i.StiBubbleChartElementBuilder;if(e.isRange)return new B.i.StiRangeChartElementBuilder;if(e.isFinancial)return new B.i.StiFinancialChartElementBuilder;if(e.isFullStackedChart||e.isStackedChart)return new B.i.StiStackedChartElementBuilder;return new b}getValueMeterIndexes(t){if(null==t)return null;return this.getValueMeters(t).select(e=>t.meters.indexOf(e)).stimulsoft().toArray()}getArgumentMeterIndexes(t){if(null==t)return null;return this.getArgumentMeters(t).select(e=>t.meters.indexOf(e)).toList()}getSeriesMeterIndex(e){if(null==e)return-1;var t=e.meters.firstOrDefault(e=>e.is(vs));return null!=t?e.meters.indexOf(t):-1}getArgumentKeys(e,t){if(null==t)return null;let r=this.getArgumentMeters(t),i=r.select(e=>t.meters.indexOf(e)).toList(),s=t.rows.groupBy(t=>i.select(e=>t[e]).stimulsoft().toArray(),new zu);return s.select(e=>e.key.stimulsoft().toArray())}getValueMeters(e){if(null==e)return null;return e.meters.where(e=>e.is(ys)).cast()}getArgumentMeters(e){if(null==e)return null;return e.meters.where(e=>e.is(bs)).cast()}}B.i.StiChartElementBuilder=b}let Im=se.Report.Chart.IStiBubbleSeries,Am=(B.i.StiBubbleChartElementBuilder=class extends B.i.StiChartElementBuilder{renderElements(i,s,n){let l=s.report;var a=this.getSeriesMeterIndex(n);let e=this.getSeriesKeys(n,a);var t=this.getValueMeters(n),o=e.count2(),u;for(u of e){let r=0;for(var h of t){var m=this.getValueMeterIndexes(n)[r];let t=this.renderSeries(i,h,u,s);if(null==t)continue;let e=-1!=a&&1<o?n.rows.whereArrayItemStringEqualsTo(a,u):n.rows;t.values=e.getArrayItem(m).tryCastToNullableNumber().stimulsoft().toArray();var h=this.getArgumentIndex(n,m),h=(-1!=h&&(t.arguments=e.getArrayItem(h).select(e=>this.getString(i.argumentFormat,e,l)).stimulsoft().toArray()),t.weights=null,this.getWeightIndex(n,m));if(-1!=h&&(t.weights=e.getArrayItem(h).tryCastToNumber().stimulsoft().toArray()),null==t.weights){t.weights=[];for(let e=0;e<t.argument.length;e++)t.weights[e]=10}r++;var m=Math.min(t.values.length,t.arguments.length);this.renderSeriesInteraction(t,i,m,u)}}}renderSeries(e,t,r,i){let s=new se.Report.Chart["StiBubbleSeries"];return s.coreTitle=this.getSeriesTitle(e,r,t),s.isDashboard=!0,i.series.add(s),s}renderSeriesInteraction(s,e,t,r){let n=s.as(Im);if(null==n)return;var i;if(e.dashboardInteraction.onHover==xr.ShowToolTip){s.toolTips=dn.create(String,t);for(let i=0;i<t;i++){let e="",t="",r="";i<s.values.length&&null!=s.values[i]&&(e=s.values[i].toString()),i<s.arguments.length&&null!=s.arguments[i]&&(t=``+s.arguments[i]),i<n.weights.length&&(r=n.weights[i].toString());var l='"StiColor":"{0}","StiValue":"{1}","StiArgument":"{2}","StiWeight":"{3}"';s.toolTips[i]="{"+ne.format(l,"#ffffff",e,t,r)+"}"}}s.drillDownEnabled=!0}getWeightIndex(e,t){if(null==e)return-1;let r=this.getWeightMeterIndexes(e);if(null==r)return-1;if(!r.any())return-1;if(1==r.length)return r.toList().firstOrDefault();if(r.length>t)return V.trunc(r[t]);return-1}getWeightMeterIndexes(t){if(null==t)return null;return this.getWeightMeters(t).select(e=>t.meters.indexOf(e)).toList()}getWeightMeters(e){if(null==e)return null;return e.meters.where(e=>e.is(ps)).cast()}getValueMeters(e){if(null==e)return null;return e.meters.where(e=>e.is(Rn)).cast()}getArgumentMeters(e){if(null==e)return null;return e.meters.where(e=>e.is(ua)).cast()}},se.Report.Chart.IStiFinancialSeries),Rm=(B.i.StiFinancialChartElementBuilder=class extends B.i.StiChartElementBuilder{renderElements(s,n,l){let a=null==n?void 0:n.report;var o=this.getSeriesMeterIndex(l);let e=this.getSeriesKeys(l,o);var t=this.getValueMeters(l),u=e.count2(),h;for(h of e){let i=0;for(var m of t){var d=this.getValueMeterIndexes(l)[i];let t=this.renderSeries(s,m,h,n),r=t.as(Am);if(null==t||null==r)continue;let e=-1!=o&&1<u?l.rows.whereArrayItemStringEqualsTo(o,h):l.rows;r.valuesOpen=e.getArrayItem(d).tryCastToNullableNumber().stimulsoft().toArray(),r.valuesClose=null;var m=this.getCloseValueIndex(l,d);if(-1!=m&&(r.valuesClose=e.getArrayItem(m).tryCastToNullableNumber().stimulsoft().toArray()),null==r.valuesClose){r.valuesClose=[];for(let e=0;e<t.argument.length;e++)r.valuesClose[e]=10}r.valuesLow=null;var m=this.getLowValueIndex(l,d);if(-1!=m&&(r.valuesLow=e.getArrayItem(m).tryCastToNullableNumber().stimulsoft().toArray()),null==r.valuesLow){r.valuesLow=[];for(let e=0;e<t.argument.length;e++)r.valuesLow[e]=10}r.valuesHigh=null;var m=this.getHighValueIndex(l,d);if(-1!=m&&(r.valuesHigh=e.getArrayItem(m).tryCastToNullableNumber().stimulsoft().toArray()),null==r.valuesHigh){r.valuesHigh=[];for(let e=0;e<t.argument.length;e++)r.valuesHigh[e]=10}var m=this.getArgumentIndex(l,d),d=(-1!=m&&(t.arguments=e.getArrayItem(m).select(e=>this.getString(s.argumentFormat,e,a)).stimulsoft().toArray()),i++,Math.min(t.values.length,t.arguments.length));this.renderSeriesInteraction(t,s,d,h)}}}renderSeries(e,t,r,i){let s=gn.neww2(t.as(Ss).seriesType);return s.coreTitle=this.getSeriesTitle(e,r,t),s.isDashboard=!0,i.series.add(s),s}renderSeriesInteraction(l,e,t,r){let a=l.as(Am);if(null==a)return;var i;if(e.dashboardInteraction.onHover==xr.ShowToolTip){l.toolTips=dn.create(String,t);for(let n=0;n<t;n++){let e="",t="",r="",i="",s="";n<a.valuesOpen.length&&null!=a.valuesOpen[n]&&(e=a.valuesOpen[n].toString()),n<a.valuesClose.length&&(t=a.valuesClose[n].toString()),n<a.valuesLow.length&&(r=a.valuesLow[n].toString()),n<a.valuesHigh.length&&(i=a.valuesHigh[n].toString()),n<l.arguments.length&&null!=l.arguments[n]&&(s=``+l.arguments[n]);var o='"StiColor":"{0}","StiOpenValue":"{1}","StiCloseValue":"{2}","StiLowValue":"{3}","StiHighValue":"{4}","StiArgument":"{5}"';l.toolTips[n]="{"+ne.format(o,"#ffffff",e,t,r,i,s)+"}"}}l.drillDownEnabled=!0}renderArea(e,r){super.renderArea(e,r);let i=null,s=null;for(let t=0;t<r.series.count;t++){let e=r.series.getByIndex(t).as(Am);if(null==e)continue;var n=e.valuesOpen.stimulsoft().toList().min(),l=e.valuesClose.stimulsoft().toList().min(),a=e.valuesLow.stimulsoft().toList().min(),o=e.valuesHigh.stimulsoft().toList().min(),u=e.valuesOpen.stimulsoft().toList().max(),h=e.valuesClose.stimulsoft().toList().max(),m=e.valuesLow.stimulsoft().toList().max(),d=e.valuesHigh.stimulsoft().toList().max(),n=new le([n,l,a,o]).min(),l=new le([u,h,m,d]).max();null==i&&(i=n),null==s&&(s=l),i=Math.min(i,n),s=Math.max(s,l)}let t=r.area.as(pm);t.yAxis.range.auto=!1,t.yAxis.range.minimum=i,t.yAxis.range.maximum=s;var e=t.yAxis.range.maximum-t.yAxis.range.minimum;t.yAxis.labels.step=2<e?Math.round(e/10):V.round2(e/10,4)}getValueMeters(e){if(null==e)return null;return e.meters.where(e=>e.is(Ss)).cast()}getCloseValueIndex(e,t){if(null==e)return-1;let r=this.getCloseMeterIndexes(e);if(null==r||!r.any())return-1;if(1==r.length)return r.toList().firstOrDefault();if(r.length>t)return r[t];return-1}getCloseMeterIndexes(t){if(null==t)return null;return this.getCloseMeters(t).select(e=>t.meters.indexOf(e)).toList()}getCloseMeters(e){if(null==e)return null;return e.meters.where(e=>e.is(ws)).cast()}getLowValueIndex(e,t){if(null==e)return-1;let r=this.getLowMeterIndexes(e);if(null==r||!r.any())return-1;if(1==r.length)return r.toList().firstOrDefault();if(r.length>t)return r[t];return-1}getLowMeterIndexes(t){if(null==t)return null;return this.getLowMeters(t).select(e=>t.meters.indexOf(e)).toList()}getLowMeters(e){if(null==e)return null;return e.meters.where(e=>e.is(fs)).cast()}getHighValueIndex(e,t){if(null==e)return-1;let r=this.getHighMeterIndexes(e);if(null==r)return-1;if(!r.any())return-1;if(1==r.length)return r.toList().firstOrDefault();if(r.length>t)return r[t];return-1}getHighMeterIndexes(t){if(null==t)return null;return this.getHighMeters(t).select(e=>t.meters.indexOf(e)).toList()}getHighMeters(e){if(null==e)return null;return e.meters.where(e=>e.is(Cs)).cast()}},se.Report.Chart.IStiRangeSeries),Em=(B.i.StiRangeChartElementBuilder=class extends B.i.StiChartElementBuilder{renderElements(n,l,a){let o=null==l?void 0:l.report;var u=this.getSeriesMeterIndex(a);let e=this.getSeriesKeys(a,u);var h=e.count2(),t=this.getValueMeters(a),m=this.getArgumentMeterIndexes(a),d;let c=this.getArgumentKeys(n,a).toList();for(d of e){let e=0;for(var g of t){var p=this.getValueMeterIndexes(a)[e],S;let t=this.renderSeries(n,g,d,l);if(null==t)continue;B.i.StiChartElementBuilder.renderConditions(d,t,n,g);let r=-1!=u&&1<h?a.rows.whereArrayItemStringEqualsTo(u,this.toString(d)):a.rows,i=(t.values=le.create(Number,c.length),0);for(S of c){let e=B.i.StiChartElementBuilder.getDetailRows(r,S,m);i<t.values.length&&(t.values[i]=e.getArrayItem(p).firstOrDefaultAsNullableNumber()),i++}t.core.isDateTimeValues=le.getValueOrFirstOrDefault(r.getArrayItem(p).toList().firstOrDefault())instanceof C;let s=t.as(Rm);if(null!=s){s.valuesEnd=le.create(Number,c.length);var w=this.getEndValueIndex(a,p);if(null==s.valuesEnd&&(s.valuesEnd=le.repeat(10,c.length)),-1!=w){i=0;for(var f of c){let e=B.i.StiChartElementBuilder.getDetailRows(r,f,m);i<s.valuesEnd.length&&(s.valuesEnd[i]=e.getArrayItem(w).firstOrDefaultAsNullableNumber()),i++}}}t.originalArguments=c.stimulsoft().toArray(),t.arguments=c.select(e=>this.getString(n.argumentFormat,e,o)).stimulsoft().toArray(),e++;var g=Math.min(t.values.length,t.arguments.length);this.renderSeriesInteraction(t,n,g,d)}}}renderSeries(e,t,r,i){let s=gn.neww2(t.seriesType);var n;return s.coreTitle=this.getSeriesTitle(e,r,t),s.isDashboard=!0,B.i.StiChartElementBuilder.renderSeriesLine(t,s),this.renderMarker(e,s),i.series.add(s),s}renderSeriesInteraction(s,n,e,l){var a,a,o=null==n?void 0:n.report,u=s.as(Rm),t;if(null==u)return;if(n.dashboardInteraction.as(wn).onHover==xr.ShowToolTip){s.toolTips=dn.create(String,e);for(let i=0;i<e;i++){let e="",t="",r="";i<s.values.length&&null!=s.values[i]&&(e=(s.core.isDateTimeValues?C.fromOADate(s.values[i]):s.values[i]).toString()),null!=u.valuesEnd&&i<u.valuesEnd.length&&(t=s.core.isDateTimeValues?null==(a=C.fromOADate(u.valuesEnd[i]))?void 0:a.toString():null==(a=u.valuesEnd[i])?void 0:a.toString()),i<s.arguments.length&&null!=s.arguments[i]&&(r=``+s.arguments[i]),s.toolTips[i]=this.getToolTip2(n,n.dashboardInteraction.toolTip,this.getString(n.argumentFormat,r,o),this.getString(n.valueFormat,e,o),this.getString(n.valueFormat,t,o),l)}}s.drillDownEnabled=!0}getToolTip2(e,t,r,i,s,n){var l;return null==r&&(r=""),null==n&&(n=""),ne.isNullOrWhiteSpace(t)?(null==r||ne.isNullOrEmpty(r)||(r=r.split('"').join('\\"')),l='"StiColor":"{0}","StiValue":"{1} - {3}","StiArgument":"{2}"',"{"+ne.format(l,"#ffffff",i,r,s)+"}"):this.getHyperlink2(e,t,r,i,s,n)}getHyperlink2(e,t,r,i,s,n){null==r&&(r=""),null==n&&(n="");let l=new Wa;return l.add("Argument",r),l.add("Value",i),l.add("EndValue",s),l.add("Series",n),ht.parse(t,e,!1,l)}getValueMeters(e){if(null==e)return null;return e.meters.where(e=>e.is(ha)).cast()}getEndValueIndex(e,t){if(null==e)return-1;let r=this.getEndValueMeterIndexes(e);if(null==r||!r.any())return-1;if(1==r.length)return r.toList().firstOrDefault();if(r.length>t)return V.trunc(r[t]);return-1}getEndValueMeterIndexes(t){if(null==t)return null;return this.getEndValueMeters(t).select(e=>t.meters.indexOf(e)).toList()}getEndValueMeters(e){if(null==e)return null;return e.meters.where(e=>e.is(xs)).cast()}},se.Report.Components.StiShape),km=(B.i.StiShapeElementBuilder=class{render(e){let t=new Em;return t.shapeType=e.shapeType,t.brush=e.fill,t.borderColor=e.stroke,t.size=e.size,t}},se.Report.Chart.IStiStackedColumnSeries);{class _c extends B.i.StiChartElementBuilder{renderElements(i,s,n){let l=null==s?void 0:s.report;var a=this.getSeriesMeterIndex(n);let e=this.getSeriesKeys(n,a);var o=this.getArgumentMeterIndexes(n);let u=this.getArgumentKeys(i,n).toList();var t=this.getValueMeters(n),h=e.count2(),m;let d=new le;for(m of e){let e=0;for(var c of t){d.add(m);var g=this.getValueMeterIndexes(n)[e];let t=this.renderSeries(i,c,m,s);if(null==t)continue;B.i.StiChartElementBuilder.renderConditions(m,t,i,c),B.i.StiChartElementBuilder.renderTrendLines(t,i,c);var p=-1!=a&&1<h?n.rows.whereArrayItemStringEqualsTo(a,m):n.rows,S;t.values=le.create(Number,u.length);let r=0;for(S of u){let e=B.i.StiChartElementBuilder.getDetailRows(p,S,o);r<t.values.length&&(t.values[r]=e.getArrayItem(g).firstOrDefaultAsNullableNumber()),r++}t.originalArguments=u.stimulsoft().toArray(),t.arguments=u.select(e=>this.getString(i.argumentFormat,e,l)).stimulsoft().toArray(),e++}}_c.processTopNStackedChart(i,s);for(let e=0;e<d.length;e++){if(s.series.count<e)break;var r=s.series.getByIndex(e);if(null==r)return;this.renderSeriesInteraction(r,i,u.length,d[e])}}static getDataTable(t){let r=new dt;var e=new ot("Id",Number),e=(r.columns.add(e),new ot("Argument",Object));r.columns.add(e);for(let e=0;e<t.length;e++){var i=new ot("Value-"+e.toString(),Number);r.columns.add(i)}var e=new ot("OriginalArguments",Object),e=(r.columns.add(e),new ot("ValueSum",Number)),s=(r.columns.add(e),this.getCountRow(t.toList()));for(let e=0;e<s;e++){var n=r.newRow();r.rows.add(n)}return r}static getCountRow(e){let t=0;for(var r of e)t=Math.max(t,r.arguments.length);return t}static getArguments(e,t){if(e.length<=t.topN.count)return e;let r=e.take(t.topN.count).toList();var e;return t.topN.showOthers&&(e=ne.isNullOrEmpty(t.topN.othersText)?S.get("FormDesigner","Others"):ht.parse(t.topN.othersText,t),r.add(e)),r}static getValues(e,t){if(e.length<=t.topN.count)return e;let r=e.take(t.topN.count).toList();var e;return t.topN.showOthers&&(e=e.skip(t.topN.count).sum(),r.add(e)),r}static processTopNStackedChart(e,t){if(e.topN.mode==Au.None)return;let i=t.series.toList();if(!i.any(e=>e.is(Sm)||e.is(km)))return;let s=_c.getDataTable(i.toList());if(s.rows.count<1)return;for(let r=0;r<s.rows.count;r++){0<i.length&&i[0].arguments.length>r?s.rows.getByIndex(r).setValue(1,i[0].arguments[r]):s.rows.getByIndex(r).setValue(1,null),0<i.length&&i[0].originalArguments.length>r?s.rows.getByIndex(r).setValue(s.columns.count-2,i[0].originalArguments[r]):s.rows.getByIndex(r).setValue(s.columns.count-2,null);let t=0;for(let e=0;e<i.length;e++){var n;0<i.length&&i[e].values.length>r?(n=i[e].values[r],s.rows.getByIndex(r).setValue(e+2,n),t+=n):s.rows.getByIndex(r).setValue(e+2,null)}s.rows.getByIndex(r).setValue(s.columns.count-1,t)}s.defaultView.sort=e.topN.mode==Au.Top?"ValueSum desc":"ValueSum asc",s=s.defaultView.toTable();let r=0;for(var l of i){l.originalArguments=_c.getListByColumnName(s,"OriginalArguments");var a=_c.getListByColumnName(s,"Argument"),a=(l.arguments=_c.getArguments(a,e),_c.getListByColumnName(s,"Value-"+r.toString()));l.values=_c.getValues(a,e),r++}}static getListByColumnName(e,t){let r=new le;for(var i of e.rows.toList()){var i=i.gett(t);r.add(i)}return r}}B.i.StiStackedChartElementBuilder=_c}B.i.StiSunburstChartElementBuilder=class extends B.i.StiChartElementBuilder{renderElements(r,i,s){var t=this.getArgumentMeters(s),n=this.getValueMeters(s).firstOrDefault(),l=this.getValueMeterIndexes(s).stimulsoft().toList().firstOrDefault();for(let e=0;e<t.length;e++){var a=this.getArgumentMeterIndexes(s)[e];let t=this.renderSeries(r,n,"",i);if(null==t)continue;t.values=dn.create(Number,s.rows.length),t.arguments=dn.create(Object,s.rows.length);for(let e=0;e<s.rows.length;e++)t.values[e]=O.tryToNullableNumber(s.rows[e][l]),t.arguments[e]=s.rows[e][a]}}renderSeries(e,t,r,i){let s=gn.neww2(t.seriesType);return s.core.seriesColors=null!=e.seriesColors&&0<e.seriesColors.length?e.seriesColors:null,s.isDashboard=!0,i.series.add(s),s}};{class $c{static getVisualizer(e){return null}}$c.typeToGdiVisualizer=new Wa,$c.typeToWpfVisualizer=new Wa,$c.lockObject={},B.n.StiVisualizer=$c}B.n.StiGdiVisualizer=class extends B.n.StiVisualizer{render(e){}},B.n.StiGdiVisualizerAttribute=class{},B.u.StiIndicatorIconRangeValue=class{constructor(e,t,r){this.start=e,this.end=t,this.icon=r}isBetween(e){return this.start<=e&&e<=this.end}};let Lm=B.h.StiElementLocationHelper,Vm=(B.v.StiProgressVisual=class extends B.j.StiVisual{constructor(e,t){super(),this.minElementSide=2,this.minFontSize=3,this.element=e,this.iterations=t,this.style=he.getProgressStyle(this.element)}getMaxValue(){return this.iterations.select(e=>Math.abs(e.value)).concat(new le([0])).max()}getTargetValues(){var e=this.getMaxValue(),t;let r=new le;for(t of this.iterations)r.add(null!=t.target?t.target:e);return r}getTextValues(){let t=new le;var r=this.getTargetValues();for(let e=0;e<this.iterations.length;e++){var i=r[e],i=0!=i?Math.abs(this.iterations[e].value)/i:0;t.add(zi.formatAsPercentage2(this.element.report,this.element.textFormat,i))}return t}getColor(e){return this.element.colorEach?this.getColors(this.iterations.length)[e]:this.style.bandColor}getColors(t){let r=[];var i=(null!=this.element.seriesColors&&0<this.element.seriesColors.length?this.element:this.style).seriesColors;let s=0,n=0;for(let e=0;e<t;e++){var l=null==i||0==i.length?N.fromArgb(255,52,152,219):i[s],a,o,u,h;0!=n?(a=Math.min(l.a+n,255),o=Math.min(l.r+n,255),u=Math.min(l.g+n,255),h=Math.min(l.b+n,255),r[e]=N.fromArgb(a,o,u,h)):r[e]=l,++s==i.length&&(s=0,n=50)}return r}getContentRectangle(e){var t;return 1<this.iterations.length&&(t=Lm.getLocationRectangles(e,this.iterations.length,this.element),e=Lm.getSumRectangle(t)),e}getConditionResult(r,t){let i=null;switch(t.field){case no.Value:i=r.value;break;case no.Series:i=r.series;break;case no.Target:i=r.target;break;case no.Percentage:{var s=this.getVariation(r);let e=new Nr,t=(e.decimalDigits=3,zi.formatAsPercentage2(this.element.report,e,s));i=t.replace("%","").stimulsoft().toNumber();break}}var e=!1;let n=this.getConditionValue(t);if(null!=i){let e=i=t.field!=no.Value&&t.field!=no.Target&&t.field!=no.Percentage?i:null==i?0:i.stimulsoft().toNumber();if(null!=e&&null!=n){i.stimulsoft().getType()!=n.stimulsoft().getType()&&(i=i.toString(),n=n.stimulsoft().toString(),e=i);try{switch(t.condition){case se.Report.Components.StiFilterCondition.EqualTo:return 0==e.stimulsoft().compareTo(n);case se.Report.Components.StiFilterCondition.NotEqualTo:return 0!=e.stimulsoft().compareTo(n);case se.Report.Components.StiFilterCondition.GreaterThan:return 1==e.stimulsoft().compareTo(n);case se.Report.Components.StiFilterCondition.GreaterThanOrEqualTo:return 0<=e.stimulsoft().compareTo(n);case se.Report.Components.StiFilterCondition.LessThan:return-1==e.stimulsoft().compareTo(n);case se.Report.Components.StiFilterCondition.LessThanOrEqualTo:return e.stimulsoft().compareTo(n)<=0;case se.Report.Components.StiFilterCondition.Containing:{let e=i.toString();var l=n.toString();return-1!=e.indexOf(l)}case se.Report.Components.StiFilterCondition.NotContaining:{let e=i.toString();var a=n.toString();return-1==e.indexOf(a)}case se.Report.Components.StiFilterCondition.BeginningWith:{let e=i.toString();var o=n.toString();return e.stimulsoft().startsWith(o)}case se.Report.Components.StiFilterCondition.EndingWith:{let e=i.toString();var u=n.toString();return e.stimulsoft().endsWith(u)}}}catch(e){}}}return e}processColor(e,t){for(var r of this.element.progressConditions)if(0<(r.permissions&lo.Color)&&this.getConditionResult(t,r))return r.color;return e}getVariation(e){var t,r;return e.value/e.target}getConditionValue(e){if(ne.isNullOrEmpty(e.value))return null;switch(e.field){case no.Value:case no.Target:case no.Percentage:return e.value.stimulsoft().toNumber();default:return e.value.toString()}}processForeColor(e,t=null){for(var r of this.element.progressConditions)if(0<(r.permissions&lo.TextColor)&&this.getConditionResult(e,r))return r.textColor;return he.getForeColor(this.element,t)}processTrackColor(e,t){for(var r of this.element.progressConditions)if(0<(r.permissions&lo.TrackColor)&&this.getConditionResult(t,r))return r.trackColor;return e}processFontStyle(e,t){var r=this.processFontBold(e.bold,t),i=this.processFontItalic(e.italic,t),s=this.processFontUnderline(e.underline,t),e=this.processFontStrikeout(e.strikeout,t);let n=L.Regular;return r&&(n^=L.Bold),i&&(n^=L.Italic),s&&(n^=L.Underline),e&&(n^=L.Strikeout),n}processFontStrikeout(e,t){for(var r of this.element.progressConditions)if(0<(r.permissions&lo.FontStyleStrikeout)&&this.getConditionResult(t,r))return r.font.strikeout;return e}processFontUnderline(e,t){for(var r of this.element.progressConditions)if(0<(r.permissions&lo.FontStyleUnderline)&&this.getConditionResult(t,r))return r.font.underline;return e}processFontItalic(e,t){for(var r of this.element.progressConditions)if(0<(r.permissions&lo.FontStyleItalic)&&this.getConditionResult(t,r))return r.font.italic;return e}processFontBold(e,t){for(var r of this.element.progressConditions)if(0<(r.permissions&lo.FontStyleBold)&&this.getConditionResult(t,r))return r.font.bold;return e}processFontName(e,t){for(var r of this.element.progressConditions)if(0<(r.permissions&lo.Font)&&this.getConditionResult(t,r))return r.font.name;return e}},se.Base.Context.StiPieSegmentGeom),Bm=(B.v.StiPieProgressVisual=class extends B.v.StiProgressVisual{draw(t,r){if(0==this.iterations.length)return;var i=Lm.getLocationRectangles(r,this.iterations.length,this.element);if(i.length<1)return;var s=i[0],e=s.width<s.height?s.width:s.height,n=this.element.font;let l=this.getTitleHeight(e,n.size);var a=s.width;let o=null;var u=new z(n.fontFamily.name,1,n.style,n.unit),h;for(h of this.iterations){if(ne.isNullOrEmpty(h.series))continue;var m=au.getFontSize(t,new P(0,0,a,l),h.series,u);(null==o||o>m)&&(o=m)}let d=(e-(l=null!=o&&o<n.size?this.getTitleHeight(e,o):l))/2*.8;o<this.minFontSize&&(o=0,l=0,d=e/2*.8);var c=2*d,g=this.getTargetValues(),n;let p=!1;t.pushClip(r);for(let e=0;e<this.iterations.length;e++){var S=g[e],w=this.iterations[e],f=i[e],C=(!p&&(1<f.right-r.right||1<f.bottom-r.bottom)&&(p=!0),f.x+f.width/2),f=f.y+l+(s.height-l)/2,C=new Il(C,f),f=new P(C.x-d,C.y-d,c,c),C=new P(f.x+f.width/2-a/2,f.top-l,a,l),b=this.processColor(this.getColor(e),this.iterations[e]);this.drawPieProgress(t,f,C,S,w,o,b)}p&&(n=hu.factor(this.element),this.drawArrowMore(t,r,n)),t.popClip()}drawPieProgress(e,t,r,i,s,n,l){var a=this.processTrackColor(this.style.trackColor,s);e.fillEllipse2(a,t,null);let o=0!=i?360/i*Math.abs(s.value):i;360<o&&(o=360);var a=new le([new Vm(t,-90,o,null,null,null)]),i,l,a,t,i,l,n,a,r;e.fillPath(l,a,t,null),n>=this.minFontSize&&(i=this.processFontName(this.element.font.fontFamily.name,s),l=this.processFontStyle(this.element.font,s),a=new z(i,n,l),t=new $o(a.fontFamily.name,n,a.style,a.unit),i=eu.CenterCenter,l=new Il,n={ref:eu.CenterCenter},a={ref:new Il},au.measureAlignmentParameters(ae.Center,r,n,a),i=n.ref,l=a.ref,r=this.processForeColor(s),e.drawRotatedString4(s.series,t,r,l,au.getStringFormatGeom(e),i,0,!0))}getTitleHeight(e,t){let r=t/13;return e/4*(r=4<r?4:r)}constructor(e,t){super(e,t)}},se.Base.Context.StiArcSegmentGeom),Nm=(B.v.StiCircleProgressVisual=class extends B.v.StiPieProgressVisual{draw(i,s){if(0==this.iterations.length)return;var n=Lm.getLocationRectangles(s,this.iterations.length,this.element);if(n.length<1)return;var l=.87,a=n[0],e=a.width<a.height?a.width:a.height,o=this.element.font;let u=this.getTitleHeight(e,o.size);var h=a.width,m=this.getTargetValues(),d=this.getTextValues();let c=null;var t=new z(o.fontFamily.name,1,o.style,o.unit),r;for(r of this.iterations.where(e=>!ne.isNullOrEmpty(e.series))){var g=au.getFontSize(i,new P(0,0,h,u),r.series,t);(null==c||c>g)&&(c=g)}let p=(e-(u=null!=c&&c<o.size?this.getTitleHeight(e,c):u))/2*.8,S=null;var w=new P(a.x-p*l,a.y-.82*p,2*p*l,2*p*l),f=new z(this.element.font.name,1,L.Bold,ku.Point);for(let e=0;e<this.iterations.length;e++){var C=au.getFontSize(i,w,d[e],f);(null==S||S>C)&&(S=C)}c<this.minFontSize&&(u=0,c=0,p=e/2*.8);var b=2*p,y=p/5,v=p-y,x=2*v,e;let F=!1;i.pushClip(s);for(let r=0;r<this.iterations.length;r++){var T=n[r],M=(!F&&(1<T.right-s.right||1<T.bottom-s.bottom)&&(F=!0),T.x+T.width/2),T=T.y+u+(a.height-u)/2,M=new Il(M,T),T=new P(M.x-p,M.y-p,b,b),D=new P(M.x-v,M.y-v,x,x),I=this.processTrackColor(this.style.trackColor,this.iterations[r]),I=new du(I,y),I=(i.drawEllipse(I,T.x+y/2,T.y+y/2,T.width-y,T.height-y),m[r]);let e=0!=I?360/I*Math.abs(this.iterations[r].value):0;var I=-90;360<e&&(e=360);let t=new le;t.add(new Bm(T,I,e)),t.add(new ru(this.getPoint(M,p,I+e),this.getPoint(M,v,I+e))),t.add(new Bm(D,I+e,-e)),t.add(new ru(this.getPoint(M,v,I),this.getPoint(M,p,I)));var D=this.processColor(this.getColor(r),this.iterations[r]),I,D,A,R,A,R,D,A,R,I,M,T,I,M,E,k,D;i.fillPath(D,t,T,null),S>=this.minFontSize&&(I=new P(M.x-p*l,M.y-.82*p,2*p*l,2*p*l),D=d[r],A=new z(this.element.font.name,S,L.Bold,ku.Point),R=this.processFontStyle(A,this.iterations[r]),A=new $o(A.name,A.size,R,ku.Point),R=this.processForeColor(this.iterations[r]),i.drawRotatedString5(D,A,R,I,au.getStringFormatGeom(i),eu.CenterCenter,0,!0)),c>=this.minFontSize&&(D=new P(M.x-h/2,T.top-u,h,u),A=new z(o.fontFamily.name,c,o.style,o.unit),R=this.processFontName(A.fontFamily.name,this.iterations[r]),I=this.processFontStyle(A,this.iterations[r]),M=new z(R,A.size,I),T=new $o(M.fontFamily.name,c,M.style,M.unit),I=eu.CenterCenter,M=new Il,E={ref:eu.CenterCenter},k={ref:new Il},au.measureAlignmentParameters(ae.Center,D,E,k),I=E.ref,M=k.ref,D=this.processForeColor(this.iterations[r]),i.drawRotatedString4(this.iterations[r].series,T,D,M,au.getStringFormatGeom(i),I,0,!0))}F&&(e=hu.factor(this.element),this.drawArrowMore(i,s,e)),i.popClip()}getPoint(e,t,r){var r=Math.PI*r/180;return new Il(e.x+Math.cos(r)*t,e.y+Math.sin(r)*t)}constructor(e,t){super(e,t)}},B.v.StiDataBarsProgressVisual=class extends B.v.StiProgressVisual{draw(i,e){if(0==this.iterations.length)return;let t=.06*e.width;t<4&&(t=4);var s=new P(e.x+t/2,e.y+t/2,e.width-t,e.height-t);let n=s.height/this.iterations.length;n<this.minElementSide&&(n=this.minElementSide);var l=1<this.iterations.length?.95*n:n,a=s.width,r=this.getTextValues(),o=this.getTargetValues(),u=this.element.font;let h=null;var m=new z(u.fontFamily.name,1,u.style,u.unit);for(let e=0;e<this.iterations.length;e++){var d=``+this.iterations[e].series+r[e],c=new P(s.x,s.y+n*e+.07*l,a,.86*l),c=au.getFontSize(i,c,d,m);(null==h||h>c)&&(h=c)}let g=this.element.font.size/18*h;g>h&&(g=h);var p=new z(u.fontFamily.name,g,u.style,u.unit),S=(i.pushClip(s),1<this.iterations.length?.05*n/(this.iterations.length-1):0);for(let r=0;r<this.iterations.length;r++){var w=this.processFontName(p.fontFamily.name,this.iterations[r]),f=this.processFontStyle(p,this.iterations[r]),w=new z(w,p.size,f),f=o[r],C=s.y+(n+S)*r,b=new P(s.x,C,a,l),y=this.processTrackColor(this.style.trackColor,this.iterations[r]),y=(i.fillRectangle(y,b,null),0!=f?Math.abs(this.iterations[r].value)/f:0),y=zi.formatAsPercentage2(this.element.report,this.element.textFormat,y),v,x,x;let e=he.getForeColor(this.element);h>=this.minFontSize&&(v=new $o(u.fontFamily.name,g,w.style,w.unit),x=i.measureString(y,v),x=new P(b.right-x.width,b.top+.05*b.height,x.width,b.height),e=this.processForeColor(this.iterations[r]),i.drawRotatedString5(y,v,e,x,au.getStringFormatGeom(i),eu.CenterCenter,0,!0));var v=this.iterations[r].series,x,F,F;h>=this.minFontSize&&(x=new $o(u.fontFamily.name,g,w.style,w.unit),F=i.measureString(v,x),F=new P(b.left,b.top+.05*b.height,F.width,b.height),e=this.processForeColor(this.iterations[r]),i.drawRotatedString5(v,x,e,F,au.getStringFormatGeom(i),eu.CenterCenter,0,!0));let t=0!=f?a/f*this.iterations[r].value:0;t>b.width&&(t=b.width);var F=new P(s.x,C,t,l),f=(i.pushClip(F),this.processColor(this.getColor(r),this.iterations[r])),C,T,T,M,M,y,C,M,T,w;i.fillRectangle(f,F,null),h>=this.minFontSize&&(C=new $o(w.name,w.size,w.style,w.unit),T=i.measureString(y,C),T=new P(b.right-T.width,b.top+.05*b.height,T.width,b.height),M=this.isColorLight(f)?N.white:e,M=this.processForeColor(this.iterations[r],M),i.drawRotatedString5(y,C,M,T,au.getStringFormatGeom(i),eu.CenterCenter,0,!0)),h>=this.minFontSize&&(y=new $o(w.name,w.size,w.style,w.unit),C=i.measureString(v,y),M=new P(b.left,b.top+.05*b.height,C.width,b.height),T=this.isColorLight(f)?N.white:e,w=this.processForeColor(this.iterations[r],T),i.drawRotatedString5(v,y,w,M,au.getStringFormatGeom(i),eu.CenterCenter,0,!0)),i.popClip()}i.popClip()}isColorLight(e){return 0<600-e.r-e.g-e.b}constructor(e,t){super(e,t)}},se.tsfb=function(e,l,r,a){function o(t){return t instanceof r?t:new r(function(e){e(t)})}return new(r=r||Promise)(function(t,r){function i(e){try{n(a.next(e))}catch(e){r(e)}}function s(e){try{n(a["throw"](e))}catch(e){r(e)}}function n(e){e.done?t(e.value):o(e.value).then(i,s)}n((a=a.apply(e,l||[])).next())})},(e=qn=B.f.StiDashboardExportFormat||(B.f.StiDashboardExportFormat={}))[e["Pdf"]=0]="Pdf",e[e["Excel"]=1]="Excel",e[e["Data"]=2]="Data",e[e["Image"]=3]="Image",e[e["Html"]=4]="Html",e[e["Document"]=5]="Document",se.Report.Components.StiPageOrientation),Pm=se.System.Drawing.Printing.PaperKind,Om=se.Report.Dashboard.Export.IStiDashboardExportSettings;var Un=se.Report.Export.StiExportSettings;{class eg extends Un{constructor(){super(...arguments),this.renderBorders=!0,this.orientation=Nm.Landscape,this.paperSize=Pm.A4,this.openAfterExport=!0}is(e){if(e instanceof se.System.Interface)return-1!=this.implements().indexOf(e);if("function"==typeof e)return this instanceof e;if(null==e)throw new Error("Type for comparison is 'undefined'");return!1}is2(e){return this.is(e)}as(e){if(this.is(e))return this;return null}implements(){return eg.ImplementsStiDashboardExportSettings||(eg.ImplementsStiDashboardExportSettings=[Om]),eg.ImplementsStiDashboardExportSettings}get isDesignMode(){return this.is(B.y.StiSvgDashboardExportSettings)&&this.as(B.y.StiSvgDashboardExportSettings).designMode}getExportFormat(){return B.z.StiExportFormatHelper.convert(this.format)}}B.y.StiDashboardExportSettings=eg}let zm=se.Report.Export.StiImageType,Hm=se.Report.Dashboard.Export.IStiImageDashboardExportSettings;{class id extends B.y.StiDashboardExportSettings{constructor(e){super(),this.format=B.f.StiDashboardExportFormat.Image,this.imageType=zm.Svg,this.scale=100,null!=e?this.imageType=e:this.renderSinglePage=!0}implements(){return id.ImplementsStiImageDashboardExportSettings||(id.ImplementsStiImageDashboardExportSettings=super.implements().concat([B.y.IStiSizeExportSettings,Hm])),id.ImplementsStiImageDashboardExportSettings}get width(){return this._width}set width(e){this._width=e,this.paperSize=Pm.Custom}get height(){return this._height}set height(e){this._height=e,this.paperSize=Pm.Custom}}B.y.StiImageDashboardExportSettings=id}B.y.StiSvgDashboardExportSettings=class extends B.y.StiImageDashboardExportSettings{constructor(){super(...arguments),this.imageType=zm.Svg,this.renderEmptyContent=!0}},B.y.StiHtmlDashboardExportSettings=class extends B.y.StiDashboardExportSettings{constructor(){super(...arguments),this.format=B.f.StiDashboardExportFormat.Html,this.imageQuality=200,this.scale=100,this.enableAnimation=!0}};let Xm=B.y.StiHtmlDashboardExportSettings,Gm=se.Report.Components.StiText,jm=B.h.StiTitleMeasureHelper,Jm=B.y.StiSvgDashboardExportSettings,Wm=(B.z.StiTitleExportHelper=class{static render(e,t,r){var i,s=e.as(be);let n=B.p.StiElementControlPainter.getBorderContentRect(new P(0,0,t.width,t.height),t.border);var l=null!=s?s.title:null;if(null==l||!l.visible||ne.isNullOrEmpty(l.text))return n;var s=jm.measureTitle(s.title),a=s.width>n.width?n.width/s.width:1,o=s.height>n.height?n.height/s.height:1,a=Math.min(Math.abs(a),Math.abs(o)),o=N.transparent.equals(l.foreColor)?he.getTitleForeColor(e):l.foreColor,i=r.is(Jm)||r.is(Xm);let u=l.backColor==N.transparent?he.getBackColor(e,null,i):l.backColor;var i=he.getBackColor(e,null,!0);255!=i.a&&u.equals(i)&&(u=N.transparent),r.format==B.f.StiDashboardExportFormat.Html&&e.is(kn)&&(n.x+=3,n.y+=3);let h=new Gm;h.name=e.name+`_Title`,h.clientRectangle=new P(n.x,n.y,n.width,s.height),h.text=ht.parse(l.text,e),h.font=Xo.changeFontSize(l.font,l.font.size*a),h.horAlignment=this.convert(l.horAlignment),h.vertAlignment=Lt.Center,h.textBrush=new F(o),h.brush=new F(u),n.height-=h.height,n.y+=h.height;var r=null==(i=e.as(Be))?void 0:i.cornerRadius;return null!=r&&(0<r.topLeft&&(h.margins.left=Math.max(h.margins.left,r.topLeft/2)),0<r.topRight&&(h.margins.right=Math.max(h.margins.right,r.topRight/2))),t.components.add(h),n}static convert(e){switch(e){case ae.Left:return Vt.Left;case ae.Center:return Vt.Center;case ae.Right:return Vt.Right;default:throw new Wl(e)}}},B.z.StiLayoutExportHelper=class{static excludeMargin(e,t){if(e.is(Ze)){var e=e.margin;if(!e.isEmpty)return new P(t.x+e.left,t.y+e.top,Math.max(1,t.width-e.left-e.right),Math.max(1,t.height-e.top-e.bottom))}return t}static excludePadding(e,t){if(e.is(Qe)){var e=e.padding;if(!e.isEmpty)return new P(t.x+e.left,t.y+e.top,Math.max(1,t.width-e.left-e.right),Math.max(1,t.height-e.top-e.bottom))}return t}static excludeCornerRadius(n,l){if(n.is(Be)){let e=n.cornerRadius;if(e.isDefault())return l;let t=Math.max(e.topLeft/2,e.bottomLeft/2),r=Math.max(e.topLeft/2,e.topRight/2),i=Math.max(e.topRight/2,e.bottomRight/2),s=Math.max(e.bottomLeft/2,e.bottomRight/2);var n;return n.is(Qe)&&(n=n.padding,t=n.left>t?n.left:t-n.left,r=n.top>r?n.top:r-n.top,i=n.right>i?n.right:i-n.right,s=n.bottom>s?n.bottom:s-n.bottom),new P(l.x+t,l.y+r,Math.max(1,l.width-t-i),Math.max(1,l.height-r-s))}return l}},se.Report.Components.IStiBorder),Um=(B.z.StiBorderExportHelper=class{static render(e,t,r){e.is($e)&&t.is(Wm)&&r.renderBorders&&(t.border=e.border2.getBorder(),t.border.topmost=!0)}},B.z.StiBackColorExportHelper=class{static render(e,t){t.is(nt)&&(t.backColor=he.getBackColor(e))}},se.Report.StiExportFormat),Km=(B.z.StiExportFormatHelper=class{static convert(e){switch(e){case B.f.StiDashboardExportFormat.Pdf:return Um.Pdf;case B.f.StiDashboardExportFormat.Excel:return Um.Excel2007;case B.f.StiDashboardExportFormat.Html:return Um.Html;case B.f.StiDashboardExportFormat.Data:return Um.Data;case B.f.StiDashboardExportFormat.Image:return Um.Image;case B.f.StiDashboardExportFormat.Document:return Um.Document;default:throw new Wl(e)}}},se.Report.Dashboard.Export.IStiExcelDashboardExportSettings);{class sd extends B.y.StiDashboardExportSettings{constructor(){super(...arguments),this.format=B.f.StiDashboardExportFormat.Excel,this.imageQuality=200}implements(){return sd.ImplementsStiExcelDashboardExportSettings||(sd.ImplementsStiExcelDashboardExportSettings=super.implements().concat([B.y.IStiSizeExportSettings,Km])),sd.ImplementsStiExcelDashboardExportSettings}get width(){return this._width}set width(e){this._width=e,this.paperSize=Pm.Custom}get height(){return this._height}set height(e){this._height=e,this.paperSize=Pm.Custom}}B.y.StiExcelDashboardExportSettings=sd}let qm=se.Report.Dashboard.Export.IStiPdfDashboardExportSettings;{class nd extends B.y.StiDashboardExportSettings{constructor(){super(...arguments),this.format=B.f.StiDashboardExportFormat.Pdf,this.imageQuality=200}implements(){return nd.ImplementsStiPdfDashboardExportSettings||(nd.ImplementsStiPdfDashboardExportSettings=super.implements().concat([qm])),nd.ImplementsStiPdfDashboardExportSettings}}B.y.StiPdfDashboardExportSettings=nd}let Ym=se.Report.Export.StiDataType,Zm=se.Report.Dashboard.Export.IStiDataDashboardExportSettings;{class rd extends B.y.StiDashboardExportSettings{constructor(e){super(),this.format=B.f.StiDashboardExportFormat.Data,this.dataType=Ym.Csv,null!=e&&(this.dataType=e)}implements(){return rd.ImplementsStiDataDashboardExportSettings||(rd.ImplementsStiDataDashboardExportSettings=super.implements().concat([Zm])),rd.ImplementsStiDataDashboardExportSettings}}B.y.StiDataDashboardExportSettings=rd}let Qm=se.Report.Export.StiHtmlChartType,_m=se.Report.Export.StiHtmlExportSettings,$m=se.Report.Export.StiDataExportSettings,ed=se.Report.Export.StiImageExportSettings,td=se.Report.Export.StiSvgExportSettings,rd=B.y.StiDataDashboardExportSettings,id=B.y.StiImageDashboardExportSettings,sd=B.y.StiExcelDashboardExportSettings,nd=B.y.StiPdfDashboardExportSettings,ld=se.Report.Export.StiDataExportMode,ad=se.Report.Export.StiPdfExportSettings,od=se.Report.Export.StiExcel2007ExportSettings;B.z.StiExportSettingsHelper=class{static getExportSettings(t){switch(t.format){case B.f.StiDashboardExportFormat.Pdf:{let e=new ad;return e.imageQuality=1,e.imageResolution=t.imageQuality,e}case B.f.StiDashboardExportFormat.Excel:{let e=new od;return e.imageQuality=1,e.imageResolution=t.imageQuality,e}case B.f.StiDashboardExportFormat.Data:{let e=new $m;return e.dataType=t.dataType,e.dataExportMode=ld.DataAndHeadersFooters,e.skipColumnHeaders=!0,e}case B.f.StiDashboardExportFormat.Image:var r=t.imageType;switch(r){case zm.Svg:return new td;default:{let e=new ed;return e.imageType=r,e.imageZoom=t.scale/100,e.imageResolution=100,e}}case B.f.StiDashboardExportFormat.Html:{let e=new _m;return e.imageResolution=t.imageQuality,e.useEmbeddedImages=!0,e.zoom=t.scale/100,e.addPageBreaks=!1,e.chartType=t.enableAnimation?Qm.AnimatedVector:Qm.Vector,e}case B.f.StiDashboardExportFormat.Document:return null;default:throw new Wl(t.format)}}static getDashboardExportSettings(e){return this.getDashboardExportSettings2(e.getExportFormat())}static getDashboardExportSettings2(e){switch(e){case Um.Pdf:return new nd;case Um.Excel2007:return new sd;case Um.Data:return new rd;case Um.Csv:return new rd(Ym.Csv);case Um.Dbf:return new rd(Ym.Dbf);case Um.Xml:return new rd(Ym.Xml);case Um.Json:return new rd(Ym.Json);case Um.Dif:return new rd(Ym.Dif);case Um.Sylk:return new rd(Ym.Sylk);case Um.Image:return new id;case Um.ImageBmp:return new id(zm.Bmp);case Um.ImageGif:return new id(zm.Gif);case Um.ImagePng:return new id(zm.Png);case Um.ImageTiff:return new id(zm.Tiff);case Um.ImageJpeg:return new id(zm.Jpeg);case Um.ImageEmf:return new id(zm.Emf);case Um.ImagePcx:return new id(zm.Pcx);case Um.ImageSvgz:return new id(zm.Svgz);case Um.ImageSvg:return new Jm;case Um.Html:return new Xm;case Um.Document:return null;default:throw new Wl(e)}}static isDataExport(e){return e.is(rd)||e.is(sd)&&e.exportDataOnly}};{class fd{render(e,t,r,i){return se.tsfb(this,void 0,void 0,function*(){})}static getTool(e){let t=this.typeToTool.get(e);if(null!=t)return t;var r=tt.attributes.get(e.stimulsoft().getTypeName()),r=null!=r?r.exportToolTypeName:null;if(null==r)return null;return t=Cr.createObject2(r),this.typeToTool.set(e,t),t}}fd.typeToTool=new Wa,B.A.StiExportTool=fd}let ud=se.System.Xml.XmlTextWriter,hd=se.Report.Components.StiImage;{class wd extends B.A.StiExportTool{render(e,t,r,i){return se.tsfb(this,void 0,void 0,function*(){if(this.renderEmptyDataMessage(e,t,r.clone(),i))return;yield this.renderContent(e,t,r.clone())})}renderContent(r,i,s){return se.tsfb(this,void 0,void 0,function*(){let e=new hd(s);e.name=r.name+`_Content`,e.stretch=!0,e.aspectRatio=!1;var t=yield this.draw(r,s.clone());e.imageToDraw=t,i.components.add(e)})}drawElement(n,l){return se.tsfb(this,void 0,void 0,function*(){let e=new ga,t=new ud(Xn.UTF8),r=new Tu;if(r.x=0,r.y=0,r.width=l.width,r.height=l.height,r.component=n.as(lt),n.is(nt)){let e=he.getBackColor(n);e.a<255&&(e=N.white),t.writeStartElement("rect"),t.writeAttributeString("x","0"),t.writeAttributeString("y","0"),t.writeAttributeString("height",r.height.toString().stimulsoft().replaceAll(",",".")),t.writeAttributeString("width",r.width.toString().stimulsoft().replaceAll(",",".")),t.writeAttributeString("style",Cu.writeFillBrush(t,e,new ye(0,0,r.width,r.height))),t.writeEndElement()}if(n.is(Bh)){let e=se.Report.Dashboards.StiDashboardHelperCreator.createProgressVisualSvgHelper();null!=e&&(yield e.writeProgress(t,r))}else if(n.is(Bu)){let e=se.Report.Dashboards.StiDashboardHelperCreator.createIndicatorVisualSvgHelper();null!=e&&(yield e.writeIndicator(t,r))}else if(n.is(Vh)){let e=se.Report.Dashboards.StiDashboardHelperCreator.createCardsVisualSvgHelper();null!=e&&(yield e.writeCards(t,r))}else if(n.is(zh)){let e=se.Report.Dashboards.StiDashboardHelperCreator.createGaugeVisualSvgHelper();null!=e&&(yield e.writeGauge(t,r,!1))}var i,s="<style>@font-face {font-family: 'Stimulsoft';src: url(data:font/ttf;base64,"+se.Report.Resources.StimulsoftFont.getBase64Content()+") format('truetype');font-weight: normal;font-style: normal;}</style>",s=ne.format('<svg xmlns="http://www.w3.org/2000/svg" style="width: {0}; height: {1}"><defs>{3}</defs><rect x="0" y="0" width="{0}" height="{1}" style="fill: white;"/>{2}</svg>',r.width.toString(),r.height.toString(),t.textWriter.getStringBuilder().toString(),s);return e.svg=s,yield e.convertAsync(se.System.Drawing.Imaging.ImageFormat.Jpeg),e})}draw(i,s){return se.tsfb(this,void 0,void 0,function*(){if(i.is(Oh)){let e=yield i.imageToDraw;return null!=e&&(e.url=i.imageHyperlink),e}if(i.is(Bu)||i.is(Bh)||i.is(zh)||i.is(Vh))return yield this.drawElement(i,s);var e=new P(0,0,s.width,s.height),t=new ga,r;try{i.is(nt)&&(r=he.getBackColor(i)).a<255&&(r=N.white),yield this.paintContent(null,e,i)}catch(e){}return t})}paintContent(e,t,r){return se.tsfb(this,void 0,void 0,function*(){try{yield this.paintAtom(e,t.clone(),r)}catch(e){}finally{}})}paintAtom(e,t,r){return se.tsfb(this,void 0,void 0,function*(){var e=null;if(r.isQuerable&&null==(e=yield wd.getDataTable(r)))return})}static getDataTable(t){var r;return se.tsfb(this,void 0,void 0,function*(){var e=null==(r=t.as(fu))?void 0:r.getManuallyEnteredDataTable();if(null!=e)return e;return yield el.tryToGetOrCreate(t)})}renderEmptyDataMessage(t,r,i,s){var s;if(!s.is(Jm)||s.renderEmptyContent)return!1;if(t.is(go)&&t.dataFrom==co.Manual)return!1;if(t.is(fa)&&(null!=t.image||null!=t.icon||!ne.isNullOrEmpty(t.imageHyperlink)))return!1;if(0<t.getMeters().length||(null==(s=t.as(fu))?void 0:s.dataMode)==un.ManuallyEnteringData)return!1;var s=i.size,n=new z("Arial",9),l=t.is(fa)?S.get("Dashboard","ImageNotSpecified"):S.get("Dashboard","DragDropDataFromDictionary"),a=Fu.measureString(l,n);if(i.y+=i.height/2-48,i.height=Math.min(32,i.height),48<=s.width&&64<=s.height){i.y+=s.width>a.width+16?16:32;let e=new hd(i);e.name=t.name+`_EmptyImage`,e.horAlignment=ae.Center,r.components.add(e)}if(s.width>a.width+16&&32<=s.height){i.y+=32;let e=new Gm(i);e.name=t.name+`_EmptyText`,e.horAlignment=Vt.Center,e.vertAlignment=Lt.Center,e.font=n,e.text=l,e.textBrush=new F(N.darkGray),r.components.add(e)}return!0}format(e,t){var r,r;if(null!=t&&null!=e){if(t instanceof C&&!e.textFormat.is(Lr))return t.toShortDateString();return Zr.isEligable(t,null==(r=null==e?void 0:e.report)?void 0:r.culture)?Zr.convert(t,null==(r=null==e?void 0:e.report)?void 0:r.culture):e.textFormat.format(t)}return""}}B.A.StiElementExportTool=wd}let b=B.i.StiChartElementBuilder,md=(B.A.StiChartElementExportTool=class extends B.A.StiElementExportTool{render(i,s,n,l,a){return se.tsfb(this,void 0,void 0,function*(){if(this.renderEmptyDataMessage(i,s,n.clone(),l))return;let e=i.as(Hh),t=null,r=(0<e.chartValuesList().length&&(t=yield B.A.StiElementExportTool.getDataTable(e)),b.create(e).render(e,t));for(let e=0;e<r.series.count;e++){if(null==a||e>=a.length)break;r.series.getByIndex(e).valuesStart=a[e]}r.name=i.name+`_Content`,r.clientRectangle=n.clone(),s.components.add(r)})}},B.h.StiGaugeVisualSvgHelper),dd=(B.A.StiGaugeElementExportTool=class extends B.A.StiElementExportTool{render(t,o,r,i){return se.tsfb(this,void 0,void 0,function*(){if(this.renderEmptyDataMessage(t,o,r.clone(),i))return;let l=t.as(zh);var e=yield B.A.StiElementExportTool.getDataTable(t);let a=(new la).render2(l,r.size,e);if(1!=a().count2()||i.is(sd)||i.is(nd)){if(0<a().count2())if(i.isDesignMode||i.format!=B.f.StiDashboardExportFormat.Html)yield this.renderContent(t,o,r.clone());else{let i=0,s=Lm.getLocationRectangles(r,a().count2(),l),n=s[0].clone();(a=(new la).render2(l,n.size,e))().forEach(e=>{let t=s[i].clone();var r={ref:0};ne.isNullOrEmpty(e.series)||(this.renderSingleGaugeTitleFromIteration(l,o,e,t,n,a,i,r),t.height-=r.ref,t.y+=r.ref),this.renderSingleGaugeFromIteration(l,o,e,t,i),i++})}}else this.renderSingleGaugeFromIteration(l,o,a().firstOrDefault(),r)})}renderSingleGaugeFromIteration(e,t,r,i,s=0){let n=r.gauge;n.name=e.name+`_Content`+s,n.clientRectangle=i,n.style=he.getGaugeStyle(e),n.customStyleName=e.customStyleName,n.brush=new F(he.getBackColor(e,null,!0)),t.components.add(n)}renderSingleGaugeTitleFromIteration(r,i,s,n,l,a,o,u){var s=s.series,h=md.getTitleHeight(null,a,n,r,null),a=md.getTitleMinFontSize(null,a,r.font,l.width,l.height);if(u.ref=h||0,null!=h){let e=new P(n.x,n.y,n.width,u.ref);var l=Xo.changeFontSize(r.font,a),h=jm.measureTitle4(null,e,r.font,s),n=(e.height=h.height,Cl.getForeColor(r,r.foreColor)),u=N.transparent.equals(n)?he.getForeColor(r):n;let t=new Gm(e);t.name=r.name+`_ContentTitle`+o,t.brush=new F(N.transparent),t.text=s,t.font=l,t.textBrush=new F(u),t.horAlignment=Vt.Center,i.components.add(t)}}},B.A.StiImageElementExportTool=class extends B.A.StiElementExportTool{render(e,t,r,i){return se.tsfb(this,void 0,void 0,function*(){if(this.renderEmptyDataMessage(e,t,r.clone(),i))return;yield this.renderContent(e,t,r.clone())})}renderContent(t,o,u){return se.tsfb(this,void 0,void 0,function*(){var r=t.as(Oh),i=yield this.draw(r,u.clone()),s=(null==i?void 0:i.imageFormat)==se.System.Drawing.Imaging.ImageFormat.Svg;if(r.aspectRatio&&null!=i){let e=s?1:u.width/i.width,t=s?1:u.height/i.height;e=t=e<t?e:t;var n=(s?u:i).width*e,s=(s?u:i).height*t,l=this.calculateHorAlignmentPosition(r,u,n),a=this.calculateVertAlignmentPosition(r,u,s);u=new P(l,a,n,s)}let e=new hd(u);e.name=r.name+`_Content`,e.stretch=!0,e.aspectRatio=!1,e.imageToDraw=i,o.components.add(e)})}calculateHorAlignmentPosition(e,t,r){switch(e.horAlignment){case ae.Left:return t.x;case ae.Right:return t.right-r;default:return t.x+(t.width-r)/2}}calculateVertAlignmentPosition(e,t,r){switch(e.vertAlignment){case Lt.Top:return t.y;case Lt.Bottom:return t.bottom-r;default:return t.y+(t.height-r)/2}}},B.A.StiImageElementExportTool),cd=B.A.StiGaugeElementExportTool,gd=B.A.StiChartElementExportTool,pd=B.z.StiExportSettingsHelper,Sd=B.z.StiExportFormatHelper,wd=B.A.StiElementExportTool,fd=B.A.StiExportTool,Cd=B.z.StiTitleExportHelper,bd=B.z.StiBackColorExportHelper,yd=B.z.StiBorderExportHelper,vd=B.z.StiLayoutExportHelper,xd=se.Base.IStiReport,Fd=(B.f.StiDashboardExportTools=class{static exportToStream(l,a){return se.tsfb(this,void 0,void 0,function*(){let t=new mh,r=(t.isDocument=!0,t.reportUnit=hh.HundredthsOfInch,t.renderedPages.getByIndex(0));r.orientation=a.orientation,r.paperSize=a.paperSize,(a.is(sd)||a.is(rd)||a.is(id))&&(
r.margins=new ce(0));var e=a;if("width"in a&&null!=e&&0<e.width&&0<e.height&&(r.width=e.width,r.height=e.height),l.is(xd)){var i=l.fetchPages().where(e=>e.is(pe)).cast();for(let e=0;e<i.length;e++)0<e&&(r=r.clone(!0,!1),t.renderedPages.add(r)),yield this.renderDashboardAsync(r,i[e],a)}else l.is(pe)?(l.report&&t.dictionary.resources.addRange(l.report.dictionary.resources),yield this.renderDashboardAsync(r,l,a)):l.is(ie)&&(t.reportAlias=l.name,l.is(go)&&t.dictionary.resources.addRange(l.report.dictionary.resources),yield this.renderSingleElementAsync(r,l,a));for(let i of t.renderedPages.list)i.components.toList().where(e=>e.is(I)).cast().forEach(e=>{var t=i.components.indexOf(e)+1;let r=e.getComponentsList();for(let e=0;e<r.length;e++)r[e].page=i,r[e].setDirectDisplayRectangle(r[e].componentToPage(r[e].displayRectangle)),i.components.insert(t+e,r[e]);e.components.clear()});let s;var e=null==a?Um.Document:Sd.convert(a.format),n,e;return s=e==Um.Document?se.System.Text.Encoding.UTF8.getBytes(t.saveDocumentToJsonString()):(n=pd.getExportSettings(a),"string"==typeof(e=yield t.exportDocumentAsync2(e,null,n))?se.System.Text.Encoding.UTF8.getBytes(e):e)})}static renderDashboardAsync(s,n,l){return se.tsfb(this,void 0,void 0,function*(){if(null==n)return;null!=l&&(l.renderSinglePage=!0,l.renderSingleElement=!1);let e=n.as(Xh);var t=e.getElements(!1).where(e=>e.isEnabled),r=s.width/e.width,i=s.height/e.height;l.renderSingleElement=!1,s.brush=new F(he.getDashboardBackColor(n,!1)),yield this.renderElementsAsync(s,t,r,i,l)})}static renderSingleElementAsync(i,s,n){return se.tsfb(this,void 0,void 0,function*(){if(null==s||!s.isEnabled)return;n.renderSingleElement=!0,i.brush=new F(he.getBackColor(s));var e=s.as(lt),t=i.width/e.width,e=i.height/e.height;let r=yield this.renderElementAsync(i,s,t,e,n);var t=pd.isDataExport(n),e=s.margin;r.left=t?0:e.left,r.top=t?0:e.top})}static renderElementsAsync(i,e,s,n,l){return se.tsfb(this,void 0,void 0,function*(){l.renderSingleElement=!1;for(var t of e){var r=yield this.renderElementAsync(i,t,s,n,l),t;let e=t.as(st);null!=e&&(t=e.getComponents().toList().where(e=>e.is(ie)).cast(),yield this.renderElementsAsync(r,t,s,n,l))}})}static renderElementAsync(u,h,m,d,c,g,p={ref:new se.System.Drawing.Rectangle},S=new le){return se.tsfb(this,void 0,void 0,function*(){let e=h.as(lt);var t=pd.isDataExport(c),r=Math.round(e.left*m),i=Math.round(e.top*d),s=Math.round(e.right*m),n=Math.round(e.bottom*d),s;let l=new P(r,i,s-r,n-i),a=(t||(l=vd.excludeMargin(h,l)),e.parent.is(st)&&(s=e.parent,l.x-=s.margin.left,l.y-=s.margin.top),new et(l)),o=(a.name=h.name,t||(a.brush=new F(he.getBackColor(h,null,c.is(Jm)||c.is(Xm)))),u.components.add(a),null!=a.report&&null!=h.report&&(a.report.styles.clear(),a.report.styles.addRange(h.report.styles)),l=Cd.render(h,a,c),t||(yd.render(h,a,c),bd.render(h,a),l=vd.excludePadding(h,l),l=vd.excludeCornerRadius(h,l),p.ref=l),fd.getTool(xe.getType(h)));return(o=null==o?new wd:o).stimulsoft().is(gd)&&c.is(Xm)?(h.previousAnimations=S,yield o.render(h,a,l.clone(),c,g)):(o.stimulsoft().is(cd)&&c.is(Xm)?h.previousAnimations=S:o.stimulsoft().is(dd),yield o.render(h,a,l.clone(),c)),a})}},se.Report.Dashboard.Helpers.StiBorderElementHelper),Td=(B.p.StiElementControlPainter=class{static getBorderContentRect(e,t){return Fd.getBorderContentRect3(e.clone(),t,_a.factor,!1)}},B.p.StiLocHelper=class{static get locAll(){return`(${S.get("Report","RangeAll").stimulsoft().replaceAll("& ","")})`}},se.System.Drawing.StringFormat),Md=se.System.Drawing.StringFormatFlags,Dd=(B.C.StiIndicatorCellPainter=class{static draw(e,t,r,i,s,n,l,a=!0){var o=this.getCellText(r,i,n);this.draw2(e,t.clone(),r,i,s,n,l,o,a)}static draw2(e,t,r,i,s,n,l,a,o=!0){var u=this.measureText(s,a,r.font),u=this.calculateIndicatorRect(t.clone(),i,s,u),u,o;this.drawIndicator(e,u,n,l),o&&(u=this.calculateTextRect(t.clone(),i),o=this.getColor(i,n,l),this.drawText(e,u,i,s,a,r.font,o))}static drawIndicator(i,s,n,e){var l=Math.min(s.width,s.height);if(null==n||0==n)i.fillRectangle(new ye(s.x+(s.width-l)/2,s.y+(s.height-4)/2,l,5),N.lightGray);else{var a=.75*l,l=(s=new P(s.x+(s.width-l)/2,s.y+(s.height-a)/2,l,a)).width/2;let e,t,r;r=0<n?(e=new Il(s.left+l,s.top),t=new Il(s.left,s.bottom),new Il(s.right,s.bottom)):(e=new Il(s.left+l,s.bottom),t=new Il(s.left,s.top),new Il(s.right,s.top)),i.fillPolygon([e,t,r],0<n?N.green:N.red)}}static drawText(e,t,r,i,s,n,l){if(ne.isNullOrWhiteSpace(s))return;t.width-=2;let a=new Td;var i=me.Table.Font.getGdiFont(i,null,n);a.lineAlignment=Gs.Center,a.alignment=this.toAlignment(r),a.trimming=qo.None,a.formatFlags|=Md.NoWrap,e.drawString(s,i,l,t.clone(),a)}static measureText(e,t,r){if(ne.isNullOrWhiteSpace(t))return 0;var e=me.Table.Font.getGdiFont(e,null,r);return Qo.measureString(null,t,e).width}static calculateIndicatorRect(e,t,r,i){var s=16*r;switch(this.getHorAlignment(t)){case ae.Left:e=new P(e.x,e.y,s,e.height);break;case ae.Right:e=new P(e.right-s,e.y,s,e.height);break;case ae.Center:var n=i+s;e=new P(e.right-(e.width-n)/2-s,e.y,s,e.height);break}return e.inflate(-4*r,-4*r),e}static getCellText(e,t,r){if(null==r)return"";return zi.formatAsPercentage2(e.report,t.textFormat,r)}static calculateTextRect(e,t){var r=e.width/4;switch(this.getHorAlignment(t)){case ae.Left:return new P(e.x+r,e.y,e.width-r,e.height);case ae.Right:return new P(e.x,e.y,e.width-r,e.height);case ae.Center:return new P(e.x,e.y,e.width,e.height)}return e}static getColor(e,t,r){if(!N.transparent.equals(e.foreColor))return e.foreColor;if(0<t)return r.cellIndicatorPositive;if(t<0)return r.cellIndicatorNegative;return r.cellIndicatorNeutral}static toAlignment2(e){if(e.stimulsoft().is(Gs))return e;var e=e.stimulsoft().as(mr);if(null==e)return Gs.Center;return this.toAlignment(e.horAlignment)}static toAlignment(e){switch(e){case ae.Left:return Gs.Near;case ae.Center:return Gs.Center;case ae.Right:return Gs.Far}return Gs.Center}static getHorAlignment(e){var t;return null!=e?e.horAlignment:ae.Right}},B.C.StiIndicatorCellPainter),Id=se.Data.Engine.StiDataSortRuleHelper;{class _d{static getBackgroundColor(e,t){return t?e.alternatingCellBackColor:e.cellBackColor}static measureColumn(e,t,r,i,s){let n;var l=me.Table.getHeight(r.font,r.zoom);if(i.is2(Pi))n=this.measureSparklinesCell(r,0,r.zoom);else if(i.is2(Vi))n=this.measureIndicatorCell(e,r,i,s,r.zoom);else if(i.is2(Ni))n=this.measureDataBarsCell(e,r,i,s,r.zoom);else if(tu.isImage(s))return new ue(0,me.Table.getHeight(r.font,r.zoom));return new ue(n.width,Math.max(n.height,l))}static getArrowSize(e,t){var r=me.Table.getHeight(e.headerFont,e.zoom),i;if(Id.getSortDirection(e.userSorts,t.key)!=Du.None)return new ue(1.5*r,r);return ue.empty}static getRightImageRect(e,t,r){var i=r.width*e.zoom,r=r.height*e.zoom;return new P(t.right-3-i,t.y+(t.height-r)/2,i,r)}static measureSparklinesCell(e,t,r){return new ue(Math.max(t,80*r),0)}static measureIndicatorCell(e,t,r,i,s){var r=r,r=Dd.getCellText(t,r,O.tryToNullableNumber(i));let n=this.measureCell2(e,r,t.font);return n.width=(n.width+4)*s*1.25,n}static measureDataBarsCell(e,t,r,i,s){var i=zi.formatBasedOnColumnType(t,r,i);let n=this.measureCell2(e,i,t.font);return n.width*=s,r.horAlignment!=ae.Center&&(n.width*=2),n}static measureCommonCell(e,t,r,i,s,n){var r=zi.formatBasedOnColumnType(t,r,i);let l=new ue(s,0);return tu.isImage(r)||((l=this.measureCell2(e,r,t.font)).width*=n,l.height*=n),l}static measureHeader(e,t){return this.measureHeader2(null,e,t)}static measureHeader2(e,t,r){var r=qu.getLabel(r);let i=this.measureCell2(e,r,t.headerFont);return i.width+=36,i}static measureCell(e,t){return this.measureCell2(null,e,t)}static measureCell2(e,t,r){let i=new ue(8,me.Table.getHeight(r));if(ne.isNullOrEmpty(t))return i;var s=r.stimulsoft().getHashCode().toString()+t,n;if(this.captionSizeCache.contains(s))return n=this.captionSizeCache.get(s),i.width=n.width,i.height=n.height,i;var n=me.Table.Font.getGdiFont(1,null,r),r=Fu.measureString(t,n,1e6);return i.width=r.width,i.height=r.height,this.captionSizeCache.set(s,r),i}static measureHeaders(e,t){var r=me.Table.Font.getGdiFont(1,null,t),i;let s=new ue(8,me.Table.getHeight(r));for(i of e){let e=new ue(8,0);var n=qu.getLabel(i),n;ne.isNullOrEmpty(n)||(n=Fu.measureString(n,r,1e6),e.width+=n.width),s.width+=e.width}return s.width}}_d.captionSizeCache=new Wa,B.q.StiTableElementGdiPainter=_d}let Ad=se.System.Drawing.SolidBrush,Rd=(B.C.StiBubbleCellPainter=class{static draw(e,t,r,i,s,n,l,a,o,u,h=!0){if(0==n)return;var m=zi.formatBasedOnColumnType(r,i,n),d=(0<l&&(l=0),a<0&&(a=0),i.horAlignment);let c=t;c.inflate(-2,-2);var t=this.calculateTextRect(r,c,i),l=(c=this.calculateBubbleRect(r,c,i,Math.abs(n),l,a),he.getTableStyle(r)),a=this.getForeColor(r,i,l,o,u),o,u,h,d;h&&d!=ae.Center&&e.drawString(m,r.font,a,t,null),0<c.width&&0<c.height&&(u=(o=i.as(Mi)).allowCustomColors?o.positiveColor:l.cellDataBarsPositive,h=o.allowCustomColors?o.negativeColor:l.cellDataBarsNegative,d=new Ad(n<0?h:u),e.fillEllipse(c,d))}static getForeColor(e,t,r,i,s){if(!N.transparent.equals(t.foreColor))return t.foreColor;if(!N.transparent.equals(e.foreColor))return e.foreColor;if(i)return r.alternatingCellForeColor;return s?null!=r?r.selectedCellForeColor:me.Table.Font.Color:null!=r?r.cellForeColor:me.Table.Font.Color}static calculateBubbleRect(e,t,r,i,s,n){var r=r;if(null==r)return t;var l=me.Table.getHeight(e.font,e.zoom),e=(l-=2,Math.max(Math.abs(s),Math.abs(n))),a=Math.abs(l*i/e);switch(r.horAlignment){case ae.Left:return new ye(t.right-l+(l-a)/2,t.y+(t.height-a)/2,a,a);case ae.Center:return new ye(t.x+(t.width-a)/2,t.y+(t.height-a)/2,a,a);case ae.Right:return new ye(t.x+(l-a)/2,t.y+(t.height-a)/2,a,a)}return t}static calculateTextRect(e,t,r){var r=r;if(null!=r){var i=me.Table.getHeight(e.font,e.zoom);switch(r.horAlignment){case ae.Left:t=new ye(t.x,t.y,t.width-i,t.height);break;case ae.Right:t=new ye(t.x+i,t.y,t.width-i,t.height);break}}return t.inflate(-2,-2),t}static getCellText(e,t,r){return zi.formatBasedOnColumnType(e,t,r)}},B.C.StiColorScaleCellPainter=class{static getScaleColor(e,t,r,i,s,n){var l=(r-t)/2;e=Math.min(e,r),e=Math.max(e,t);let a=0,o,u;var i=i.cellBackColor,r,r,n=((u=l<e?0!=(r=r-l)?(a=(e-l)/r,o=N.fromArgb(255,i),N.fromArgb(255,n)):(o=N.lightGray,N.lightGray):0!=(r=l-t)?(a=e/r,o=N.fromArgb(255,s),N.fromArgb(255,i)):(o=N.lightGray,N.lightGray)).a-o.a)*a+o.a,l=(u.r-o.r)*a+o.r,t=(u.g-o.g)*a+o.g,e=(u.b-o.b)*a+o.b,n=Math.min(n,255),l=Math.min(l,255),t=Math.min(t,255),e=Math.min(e,255);return n=Math.max(n,0),l=Math.max(l,0),t=Math.max(t,0),e=Math.max(e,0),N.fromArgb(Math.round(n),Math.round(l),Math.round(t),Math.round(e))}},B.K.StiDataBarsDirection),Ed=B.K.StiDataBarsBrushType,kd=se.Base.Drawing.StiGradientBrush,Ld=(B.C.StiDataBarsCellPainter=class{static draw(e,t,r,i,s,n,l,a,o,u,h=!0,m=Rd.LeftToRight,d=Ed.Solid){var c=zi.formatBasedOnColumnType(r,i,n);this.draw2(e,t,n,l,a,s,c,r,i,o,u,h,m,d)}static draw2(t,r,i,s,n,e,l,a,o,u,h,m=!0,d=Rd.LeftToRight,c=Ed.Solid){if(null==i||0==i)return;0<s&&(s=0),n<0&&(n=0);var g=o.horAlignment;let p=r;p.inflate(-2,-2);var S=this.calculateTextRect(p,o),w=(p=this.calculateDataBarsRect(p,o),he.getTableStyle(a)),o=this.getForeColor(a,o,w,u,h),u=(m&&t.drawString(l,a.font,o,S,null),g!=ae.Center&&t.fillRectangle(p,N.fromArgb(40,w.cellDataBarsPositive)),n+Math.abs(s)),h=p.width*Math.abs(s)/u,m=p.width*n/u;let f=p.width*Math.abs(i)/u;var o=f>m,s,n,u,d,h;o&&(f=m);let C=0;if(d==Rd.LeftToRight?p.x+=i<0?h-f:h:(C=180,p.x=i<0?p.right-h:p.right-h-f),p.width=f,i<0&&(C+=180),0<p.width&&0<p.height){if(c==Ed.Gradient){let e;e=d==Rd.LeftToRight?0<i?new ye(r.left+h,r.top,m,r.height):new ye(r.left,r.top,h,r.height):i<0?new ye(r.left+m,r.top,h,r.height):new ye(r.left,r.top,m,r.height),0<p.width&&p.width<1&&(p.width=1),0<e.width&&e.width<1&&(e.width=1),0<e.width&&0<p.width&&(s=i<0?w.cellDataBarsNegative:w.cellDataBarsPositive,n=Xu.light(s,200),e.x-=.1*e.width,e.width+=.2*e.width,u=new kd(s,n,C),t.fillRectangle(p,u))}else{var c=i<0?w.cellDataBarsNegative:w.cellDataBarsPositive;t.fillRectangle(p,c)}o&&(d=w.cellDataBarsOverlapped,h=new ye(p.right-6*e,p.y,6*e,p.height),t.fillRectangle(h,d)),g==ae.Center&&t.drawString(l,a.font,N.white,S,null)}}static getForeColor(e,t,r,i,s){if(!N.transparent.equals(t.foreColor))return t.foreColor;if(!N.transparent.equals(e.foreColor))return e.foreColor;if(i)return r.alternatingCellForeColor;return s?null!=r?r.selectedCellForeColor:me.Table.Font.Color:null!=r?r.cellForeColor:me.Table.Font.Color}static calculateDataBarsRect(e,t){var r;if(null==t)return e;switch(t.horAlignment){case ae.Left:return new ye(e.right-e.width/2,e.y,e.width/2,e.height);case ae.Right:return new ye(e.x,e.y,e.width/2,e.height)}return e}static calculateTextRect(e,t){var r;if(null!=t)switch(t.horAlignment){case ae.Left:e=new ye(e.x,e.y,e.width/2,e.height);break;case ae.Right:e=new ye(e.right-e.width/2,e.y,e.width/2,e.height);break}return e.inflate(-2,-2),e}},B.C.StiSparklinesCellPainter=class{static draw(e,t,r,i,s){}static castToArray(e){return dn.isArray(e)?e:null}},B.y.IStiSizeExportSettings=new se.System.Interface("IStiSizeExportSettings"),se.Report.Dashboard.IStiControlElement),Vd=B.p.StiLocHelper,Bd=B.R.StiComboBoxHelper,Nd=(B.A.StiComboBoxElementExportTool=class extends B.A.StiElementExportTool{render(u,h,m,e){var d,c,g,p;return se.tsfb(this,void 0,void 0,function*(){if(0==u.getMeters().length)return;let r=yield el.tryToGetOrCreate(u);if(null==r)return;let i=new Wa;if(1<r.meters.countItems)for(var e of r.rows){var t=null==(d=e[1])?void 0:d.stimulsoft().toString();ne.isNullOrWhiteSpace(t)||i.set(t,e[0])}var s=u,s;let n=u,l="";if(s.selectionMode==Zn.One)if(n.userFilters.any())l=n.userFilters[0].value,l=null!=(c=i.get(l))?c:l;else if(s.showAllValue)l=Vd.locAll;else{let e=r.rows.firstOrDefault();null!=e&&0<e.length&&null!=e[0]&&(l=e[0].toString())}if(this.renderElement(h,u,m,this.format(u.as(Ld),l)),s.selectionMode==Zn.Multi){let t=m;if(n.userFilters.any()){let e=n.userFilters;if(e.all(e=>e.condition==Ei.NotEqualTo)){e=new le;for(var a of r.rows){let t=null==(g=a[1])?void 0:g.stimulsoft().toString();if(n.userFilters.any(e=>e.value==t))continue;e.add(new f(null,null,Ei.EqualTo,t))}}for(var o of e){if(!(t.x+t.width<=m.x+m.width)){while(1<h.components.count)h.components.removeAt(1);this.renderItem(h,u,m,ne.format(S.get("Dashboard","NSelected"),n.userFilters.length));break}(t=this.renderItem(h,u,t,this.format(u.as(Ld),null!=(p=i.get(o.value))?p:o.value))).x+=t.width+4}}else{s.showAllValue?this.renderItem(h,u,m,Vd.locAll):(s=this.getValuesCount(u,r),this.renderItem(h,u,m,ne.format(S.get("Dashboard","NSelected"),s)))}}})}getValuesCount(e,t){var e=e.as(Dh),t=Bd.fetchItems(e,t,e.showBlanks);return null!=t?t.length:0}renderElement(e,t,r,i){var s=he.getForeColor(t),n=he.getBackColor(t);let l=new Gm(r);l.name=t.name+`_ComboBox`,l.allowHtmlTags=!0,l.vertAlignment=Lt.Center,l.horAlignment=Vt.Left,l.textBrush=new F(s),l.brush=new F(n),l.text=this.format(t.as(Ld),i),e.components.add(l)}renderItem(e,t,r,i){var s=he.getControlStyle(t);let n=new Gm;n.name=t.name+`_ComboBoxItem`,n.allowHtmlTags=!0,n.vertAlignment=Lt.Center,n.horAlignment=Vt.Center,n.textBrush=new F(s.selectedForeColor),n.brush=new F(s.selectedBackColor),n.text=this.format(t.as(Ld),i),e.components.add(n);var s=Fu.measureString(i,n.font);return n.clientRectangle=new P(r.x,r.y,s.width+4,r.height)}},B.Q.StiDatePickerHelper),Pd=(B.A.StiDatePickerElementExportTool=class extends B.A.StiElementExportTool{render(n,l,a,e){return se.tsfb(this,void 0,void 0,function*(){let t=n;if(null==t.getValueMeter())return;var r=yield el.tryToGetOrCreate(n),i=he.getForeColor(n),s=he.getBackColor(n);this.storedCulture=null;try{null==n.report||ne.isNullOrWhiteSpace(n.report.culture)||(this.storedCulture=Yr.currentCulture,Yr.currentCulture=new Yr(n.report.culture))}finally{let e=new Gm(a);e.name=n.name+`_Content`,e.allowHtmlTags=!0,e.vertAlignment=Lt.Center,e.textBrush=new F(i),e.brush=new F(s),e.text=this.getDateTimeString(t,r),e.font=t.font,l.components.add(e),null!=this.storedCulture&&(Yr.currentCulture=this.storedCulture)}})}getDateTimeString(t,e){var r,r,r,r,i;let s=Nd.getDefaultValue(t);if(ml.isVariableSpecifiedAsExpression(t,null==(r=null==t?void 0:t.valueMeter)?void 0:r.expression))return r=null==(r=Nd.getVariableSpecifiedAsValue(t))?void 0:r.as(Ts),ul.isRangeType(null==r?void 0:r.type)&&t.initialRangeSelectionSource==sl.Selection?(r={ref:null},i={ref:null},Nd.calculateRangeFromInitial(t.initialRangeSelection,r,i),this.getRangeVariableString(t,new ol(r.ref,i.ref))):null!=s&&s.stimulsoft().is(ol)?this.getRangeVariableString(t,s):this.format(t,s);if(t.userFilters.any()){let e=this.format(t,t.userFilters[0].value);return t.selectionMode!=nl.AutoRange&&t.selectionMode!=nl.Range||(e+=` - `+this.format(t,t.userFilters[0].value2)),e}return t.selectionMode==nl.AutoRange?this.getAutoRangeColumnString(t,e):t.selectionMode==nl.Range?this.getRangeColumnString(t):this.format(t,s)}getRangeVariableString(e,t){var t=null==t?void 0:t.stimulsoft().as(ol);return this.format(e,null==t?void 0:t.fromObject)+` - `+this.format(e,null==t?void 0:t.toObject)}getAutoRangeColumnString(e,t){if(null==t)return"";let r=t.rows.select(e=>e[0]).where(e=>null!=e&&e instanceof C);var t,i;if(r.any())return t=r.where(e=>e instanceof C).cast().min(),i=r.where(e=>e instanceof C).cast().max(),this.format(e,t)+` - `+this.format(e,i);return""}getRangeColumnString(e){var t={ref:null},r={ref:null};return Nd.calculateRangeFromInitial(e.initialRangeSelection,t,r),this.format(e,t.ref)+` - `+this.format(e,r.ref)}},B.P.StiListBoxHelper),Od=se.Report.Components.StiCheckBox,zd=se.Report.Components.StiCheckStyle,Hd=se.Report.Components.IStiShape;{class tg extends B.A.StiElementExportTool{render(h,m,d,c){return se.tsfb(this,void 0,void 0,function*(){if(this.renderEmptyDataMessage(h,m,d.clone(),c))return;let r=m.report,i=m.page;var s=h.as(Ih),e,n,t;let l=m.clone(!0,!1),a=(c.renderSinglePage||(d.height=Number.MAX_VALUE),yield this.renderItems(l,d.clone(),h),0),o=m.top;0<l.components.count&&(o+=l.getComponentsList().stimulsoft().toList().min(e=>e.top));while(1){for(n of l.getComponentsList()){let e=n.bottom;var u=n.left;n.is(Hd)&&(e+=me.ListBox.ItemHeight/3),null!=s?(s.orientation==As.Vertical&&e<=m.height||s.orientation==As.Horizontal&&u<=m.width)&&(l.components.remove(n),m.components.add(n)):e<=m.height&&(l.components.remove(n),m.components.add(n))}if(c.renderSinglePage||0==l.components.count)break;let t=l.getComponentsList().stimulsoft().toList().min(e=>e.top);l.getComponentsList().forEach(e=>e.top=e.top-t+1),r.renderedPages.count<=++a&&r.renderedPages.add(i.clone(!0,!1)),i=r.renderedPages.getByIndex(a),m=m.clone(!0,!1),c.renderSingleElement?(m.top=0,m.left=0):m.top=o,i.components.add(m)}for(t of m.report.renderedPages.list)t.getComponentsList().forEach(e=>{e.report=r,e.page=i})})}static getCheckStyle(e,t){let r=e;if(!r.userFilters.any())return zd.CheckRectangle;if(r.userFilters.any(e=>e.condition==Ei.IsFalse))return zd.NoneRectangle;if(r.userFilters.any(e=>e.condition==Ei.EqualTo&&e.value==(null==t?void 0:t.toString())))return zd.CheckRectangle;return zd.NoneRectangle}renderItems(i,s,n){return se.tsfb(this,void 0,void 0,function*(){var e=yield el.tryToGetOrCreate(n);if(null==e)return;var t=n,e,t;let r=Pd.fetchItems(t,e,t.showBlanks);null!=r&&(e=r.select(e=>null==e?"":null==e.label&&null!=e.value&&e.value instanceof C?e.value.toShortDateString():e.toString()),t=r.select(e=>tg.getCheckStyle(n,e)),this.renderItems2(i,s.clone(),n,e,t))})}renderItems2(t,r,i,s,n){var l;let e=i;var a=e.selectionMode==Zn.Multi,o=i.is(Pa)&&i.orientation==As.Horizontal,u=(null==(l=e.stimulsoft().as(Qt))?void 0:l.font)||new z("Arial",8);let h=i,m=o?this.getHorizontalItemAutoWidth(e,u,s,r.width,a):r.width;var d=o?r.height:me.ListBox.ItemHeight;let c=r.x,g=r.y;if(e.showAllValue){o&&0==m&&(m=this.measureItemWidth(Vd.locAll,u,a));var l=new P(c,g,m,d);let e=zd.CheckRectangle;h.userFilters.any()&&(e=h.userFilters.any(e=>e.condition==Ei.IsFalse)?zd.NoneRectangle:zd.DotRectangle),this.renderItem(t,l,i,Vd.locAll,e,o?oe.Right:oe.Bottom,a),o?c+=m+1:g+=d+1}if(null!=s)for(let e=0;e<s.count2();e++){o&&0==m&&(m=this.measureItemWidth(s[e],u,a));var p=new P(c,g,m,d);if(this.renderItem(t,p,i,s[e],n[e],oe.None,a),o?c+=m+1:g+=d+1,o&&c>=r.right||!o&&g>=r.bottom)break}}getHorizontalItemAutoWidth(e,t,r,i,s){let n=0,l=0;while(n<i&&l<r.length)n+=this.measureItemWidth(r[l],t,s),l++;return e.showAllValue&&(this.measureItemWidth(Vd.locAll,t,s),l++),n<i&&0<l?i/l:0}measureItemWidth(e,t,r){var t=me.Table.Font.getGdiFont(1,null,t),i;let s=Fu.measureString(e,t,1e6).width;return r&&(s+=me.ListBox.CheckBoxWidth),s}renderItem(e,t,r,i,s,n,l){var a,s=(l&&(a=r.is(Pa)&&r.orientation==As.Horizontal,tg.renderCheckBox(e,t.clone(),r,s,a?oe.None:n),t.x+=me.ListBox.CheckBoxWidth,t.width-=me.ListBox.CheckBoxWidth),he.getForeColor(r)),a=he.getBackColor(r,null,!0);let o=new Gm(t);o.name=r.name+`_Item`,o.allowHtmlTags=!0,o.margins=l?new ce(1,0,0,0):ce.empty,o.border=n!=oe.None?new de(n,N.gray,1,wi.Solid):new de(oe.None,N.transparent,0,wi.None),o.brush=new F(a),o.excelDataValue=this.format(r.as(Ld),i),o.horAlignment=Vt.Left,o.vertAlignment=Lt.Center,o.text=this.format(r.as(Ld),i),o.textBrush=new F(s),o.wordWrap=!1,e.components.add(o)}static renderCheckBox(e,t,r,i,s){var n=he.getForeColor(r);t=new P(t.x,t.y,me.ListBox.CheckBoxWidth,t.height);let l=new Od(t);l.name=r.name+`_ItemCheckBox`,l.border=s!=oe.None?new de(s,N.gray,1,wi.Solid):new de(oe.None,N.transparent,0,wi.None),l.contourColor=N.transparent,l.textBrush=new F(n),l.checkStyleForTrue=i,l.checkStyleForFalse=zd.NoneRectangle,l.checkedValue=i!=zd.NoneRectangle,e.components.add(l)}}B.A.StiListBoxElementExportTool=tg}B.A.StiPanelElementExportTool=class extends B.A.StiElementExportTool{render(r,i,s,e){return se.tsfb(this,void 0,void 0,function*(){var e=he.getBackColor(r);let t=new I(s);t.name=r.name+`_Content`,t.brush=new F(e),i.components.add(t)})}};let Xd=se.Report.Components.StiDockStyle,Gd=se.Report.Engine.StiCrossTabBuilder,jd=se.Report.CrossTab.StiCrossTabParams,Jd=B.h.StiPivotTableHelper;{class rg extends B.A.StiElementExportTool{render(h,m,d,c){return se.tsfb(this,void 0,void 0,function*(){if(this.renderEmptyDataMessage(h,m,d.clone(),c))return;let t=m.report;var r=h.as(ah);let s=m.page;var n=c.is(Jm)&&c.designMode,l=pd.isDataExport(c),a;let o=$u.get(r),e=(null==o&&(a=yield el.tryToGetOrCreate(r),o=yield Jd.convertToCrossTab(r,a),$u.put(r,o),_u.putFalse(r)),Jd.applyStyle(r,o,l),n&&(rg.renderForWebDesigner(o,r),$u.remove(r)),rg.convertSizes(r,o),o.crossTabInfo.cross);var a=e.widths.stimulsoft().toList().sum(),l=e.heights.stimulsoft().toList().sum(),i;if(a<=d.width&&l<=d.height||n||c.renderSinglePage){yd.render(h,m,c),bd.render(h,m);var r=Cd.render(h,m,c),r=vd.excludePadding(h,r);r=vd.excludeCornerRadius(h,r),rg.renderCells(m,r,r,null,o,n)}else if(c.is(sd)){!c.renderSingleElement&&0!=t.renderedPages.getByIndex(0).components.count||t.renderedPages.removeAt(0),s=new Se;let e=new et;e.name=h.name,e.clientRectangle=new P(0,0,a,l),s.components.add(e),t.renderedPages.add(s),yd.render(h,e,c),bd.render(h,e);var r=Cd.render(h,e,c),n=(t.renderedPages.remove(s),2*a-r.width+r.left+1),u=2*l-r.height+r.top+1;(s=new Se).width=n,s.height=u,(e=new et).name=h.name,e.clientRectangle=new P(0,0,n,u),s.components.add(e),t.renderedPages.add(s),yd.render(h,e,c),bd.render(h,e),r=Cd.render(h,e,c),s.unlimitedHeight=!0,rg.renderCells(e,r,r,null,o,!1)}else{let i=s.clone(!0,!1),e=(t.renderedPages.add(i),m.clone(!0,!1));e.left=0,e.top=0,e.width=i.width,e.height=i.height,d=new P(0,0,i.width,i.height),i.components.add(e),m=e,!c.renderSingleElement&&0!=t.renderedPages.getByIndex(0).components.count||t.renderedPages.removeAt(0),yd.render(h,m,c),bd.render(h,m);var n=Cd.render(h,m,c),n=vd.excludePadding(h,n),u=(n=vd.excludeCornerRadius(h,n),new P(n.left,n.top,n.width+a,n.height+l));s.unlimitedHeight=!0,rg.renderCells(m,u,n,null,o,!1);for(let r=0;r<i.segmentPerWidth;r++)for(let t=0;t<i.segmentPerHeight;t++)if(0!=r||0!=t){let e=m.clone(!0,!1);e.left=r*s.width,e.top=t*s.height,e.width=s.width,e.height=s.height,i.components.insert(0,e),yd.render(h,e,c),bd.render(h,e),Cd.render(h,e,c)}}for(i of m.report.renderedPages.list)i.getComponentsList().forEach(e=>{e.report=t,e.page=s})})}static renderForWebDesigner(e,t){if(!(1<t.columns.length||1<t.rows.length))return;let n=e.crossTabInfo.cross.cells,s=0,l=new le,a=new le,i=null,o=null;var u=t.summaryDirection==Ua.LeftToRight?t.summaries.length:1,h=t.summaryDirection==Ua.UpToDown?t.summaries.length:1,m=Jd.getHeadersBounds(n);for(let r=0;r<n.length;r++){let t=n[r][0];for(t.cellType==ju.LeftTopLineMain&&((i=new ig).cell=t,i.x=r,i.width=t.width),t.cellType==ju.RightTopLineMain&&((o=new ig).cell=t,o.x=r),s=0;s<n[r].length;s++)if((t=n[r][s]).cellType==ju.CornerColMain||t.cellType==ju.CornerRowMain){let e=new ig;e.cell=t,e.x=r,e.y=s,e.width=t.width,e.height=t.height,l.add(e)}}if(-1<m.top){let s=-1;for(let i=0;i<n.length;i++){let r=n[i][m.top];if(r.cellType==ju.HeaderColMain||r.cellType==ju.HeaderColTotalMain){s=-1==s?i:s;var d=m.bottom-m.top+(1<u?0:1);let e=new ig;if(e.cell=r,e.x=s,e.y=m.top,e.height=d,e.width=u,l.add(e),r.text=(1<d&&r.cellType!=ju.HeaderColTotalMain?"> ":"")+r.text,a.add(i+r.width-1),1<u)for(let t=i+r.width-u;t<i+r.width;t++){let e=new ig;e.cell=n[t][m.bottom],e.x=s,e.y=m.bottom,l.add(e),a.add(t),s++}else s++}}}if(-1<m.left){let i=-1;for(s=0;s<n[0].length;s++){let r=n[0][s];if(r.cellType==ju.HeaderRowMain||r.cellType==ju.HeaderRowTotalMain){i=-1==i?s:i;var c=m.right+(1<h?0:1);let e=new ig;if(e.cell=r,e.x=0,e.y=i,e.height=h,e.width=c,e.cellRow=1==h?s+r.height-1:-1,l.add(e),r.text=(1<c&&r.cellType!=ju.HeaderRowTotalMain?"> ":"")+r.text,1<h)for(let t=s+r.height-h;t<s+r.height;t++){let e=new ig;e.cell=n[m.right][t],e.x=m.right,e.y=i,e.cellRow=t,l.add(e),i++}else i++}}}null!=i&&(i.width=m.right-m.left+1,l.add(i)),null!=o&&(o.width=l.max(e=>e.x)-m.right,l.add(o));var g=he.getPivotTableStyle(t),r=l.max(e=>e.y)+1,p=l.max(e=>e.x)+1,S;let w=dn.create2(oh,p,r);for(S of l)if(w[S.x][S.y]=S.cell,S.cell.width=S.width,S.cell.height=S.height,0<=S.cellRow)for(s=S.y;s<S.y+S.height;s++){let r=m.right+1;for(let e=S.width;e<n.length;e++)if(0<=a.indexOf(e)){w[r++][s]=n[e][S.cellRow+s-S.y],w[r-1][s].field.border.side=e==n.length-1?oe.None:oe.Right;let t=w[r-1][s];if(null!=t&&null!=t.field&&t.field.brush.is(F)){let e=t.field.brush.color;(e.equals(g.alternatingCellBackColor)||e.equals(g.cellBackColor))&&(t.field.brush=new F(s%2!=0?g.alternatingCellBackColor:g.cellBackColor),t.field.textBrush=new F(s%2!=0?g.alternatingCellForeColor:g.cellForeColor))}null!=t&&null!=t.field&&(t.field.brush=null!=t.field.conditionBrush?t.field.conditionBrush:t.field.brush,t.field.textBrush=null!=t.field.conditionTextBrush?t.field.conditionTextBrush:t.field.textBrush)}}n=dn.create2(oh,p,0);for(let t=0;t<p;t++){n[t]=dn.create(oh,r);for(let e=0;e<r;e++)n[t][e]=null!=w[t][e]?w[t][e]:new oh,null!=n[t][e].field&&t==p-1&&(n[t][e].field.border.side|=oe.Top),0<e&&(n[t][e].parentCell=n[t][e])}var t=dn.create(Number,r),f=dn.create(Number,p);dn.copy(e.crossTabInfo.cross.heights,0,t,r),dn.copy(e.crossTabInfo.cross.widths,0,f,p),e.crossTabInfo.cross.cells=n,e.crossTabInfo.cross.widths=f,e.crossTabInfo.cross.heights=t,e.crossTabInfo.cross.doAutoSize()}static renderCells(e,t,r,i,s,n){s.page.unlimitedHeight=!0,e.canBreak=!0,e.dockStyle=Xd.None;let l=new jd,a=(l.startColumn=0,l.startRow=0,l.destinationContainer=e,l.destinationRectangle=r,l.forceNoBreak=n,new Gd);a.renderCrossTabUnlimitedBreakable(l,s,e,t.clone())}static convertSizes(e,t){var t=t.crossTabInfo.cross,r=e.report.unit;_u.isConverted(e)||(this.convert(t.heights,r),this.convert(t.widths,r),this.convert(t.coordX,r),this.convert(t.coordY,r),_u.putTrue(e))}static convert(t,r){for(let e=0;e<t.length;e++)t[e]=r.convertToHInches(t[e])}}B.A.StiPivotTableElementExportTool=rg;class ig{constructor(){this.x=0,this.y=0,this.width=1,this.height=1,this.cellRow=-1}}}let Wd=se.Report.Maps.StiMapMode,Ud=(B.A.StiRegionMapElementExportTool=class extends B.A.StiElementExportTool{render(i,s,n,l){return se.tsfb(this,void 0,void 0,function*(){if(this.renderEmptyDataMessage(i,s,n.clone(),l))return;var e=i,t;let r=new uo;r.stretch=!0,r.page=e.page,r.mapType=e.mapType,r.dataFrom=e.dataFrom,r.language=e.language,r.mapStyle=he.getMapStyleIdent(e),r.componentStyle=e.customStyleName,r.mapIdent=e.mapIdent,r.mapMode=Wd.Choropleth,r.showValue=e.showValue,r.shortValue=e.shortValue,r.showBubble=e.showBubble,r.colorEach=e.colorEach,r.displayNameType=e.showName,r.colorDataColumn=null==e.colorMeter?"":e.colorMeter.expression,r.groupDataColumn=null==e.groupMeter?"":e.groupMeter.expression,r.valueDataColumn=null==e.valueMeter?"":e.valueMeter.expression,r.nameDataColumn=null==e.nameMeter?"":e.nameMeter.expression,r.keyDataColumn=null==e.keyMeter?"":e.keyMeter.expression,r.mapData=e.mapData,r.brush=new F(he.getBackColor(i,null,l.is(Jm)||l.is(Xm))),r.left=n.left,r.top=n.top,r.width=n.width,r.height=n.height,e.dataFrom==co.DataColumns&&(t=yield el.tryToGetOrCreate(e),r.dataTable=t,s.report.dictionary=e.report.dictionary),s.components.add(r)})}},B.A.StiShapeElementExportTool=class extends B.A.StiElementExportTool{render(r,i,s,e){return se.tsfb(this,void 0,void 0,function*(){var e=r.as(Mh);let t=new Em;t.shapeType=e.shapeType,t.size=e.size,t.borderColor=e.stroke,t.brush=e.fill,t.page=e.page,t.left=s.left,t.top=s.top,t.width=s.width,t.height=s.height,i.components.add(t)})}},B.K.StiTableColumnVisibilityHelper),Kd=B.C.StiBubbleCellPainter,qd=B.C.StiSparklinesCellPainter,Yd=se.Report.Components.StiSparkline,Zd=se.Data.Functions.StiSystemVariableObject,Qd=se.Report.StiNameValidator,_d=B.q.StiTableElementGdiPainter,$d=B.h.StiTableElementHelper,ec=B.C.StiDataBarsCellPainter,tc=se.Report.Export.StiSvgHelper,rc=se.Report.Export.StiSvgGeomWriter,ic=B.C.StiColorScaleCellPainter,sc=B.K.StiTableElementConditionHelper;{class sg extends B.A.StiElementExportTool{render(h,m,d,c){return se.tsfb(this,void 0,void 0,function*(){if(this.renderEmptyDataMessage(h,m,d.clone(),c))return;let r=m.report,i=m.page;var e=h.as(Lh);let s=null==c?B.f.StiDashboardExportFormat.Document:c.format;var t=c.renderSingleElement&&s==B.f.StiDashboardExportFormat.Excel,n=pd.isDataExport(c),l;let a=m.clone(!0,!1),o=(c.renderSinglePage||(d.height=Number.MAX_VALUE),yield sg.renderCells(a,d,e,1,s,n),t&&(d.width=a.components.toList().max(e=>e.right),d.height=a.components.toList().max(e=>e.bottom),m.width=m.page.width=d.width,m.height=m.page.height=d.height),0),u=m.top;0<a.components.count&&(u+=a.getComponentsList().stimulsoft().toList().min(e=>e.top));while(1){if(a.getComponentsList().stimulsoft().toList().where(e=>e.bottom<=m.height).toList().forEach(e=>{a.components.remove(e),(e.left<m.width||s==B.f.StiDashboardExportFormat.Data)&&(m.components.add(e),e.right>m.width&&s!=B.f.StiDashboardExportFormat.Data&&(e.width=Math.max(0,m.width-e.left)))}),c.renderSinglePage||0==a.components.count)break;let t=a.getComponentsList().stimulsoft().toList().min(e=>e.top);a.getComponentsList().stimulsoft().toList().forEach(e=>e.top=e.top-t+1),r.renderedPages.count<=++o&&r.renderedPages.add(i.clone(!0,!1)),i=r.renderedPages.getByIndex(o),m=m.clone(!0,!1),c.renderSingleElement?(m.top=0,m.left=0):m.top=u,i.components.add(m)}for(l of m.report.renderedPages.list)l.getComponentsList().stimulsoft().toList().forEach(e=>{e.report=r,e.page=i})})}static renderCellsForViewer(i){var y;return se.tsfb(this,void 0,void 0,function*(){let n=i.as(Lh);if(null==n)return null;let l=yield el.getOrCreate(n);if(null==l)return null;var a=1;let o=[];var u=me.Table.getHeight(n.font,a);let h=l.meters.where(e=>e.is(ns)).cast();var e=null!=h.firstOrDefault(e=>e.showTotalSummary),m,t,r,r;let d=0;for(m of h){if(!Ud.getVisible(m,n.report)){d++;continue}let i=sg.measureHeader(n,m,a);if(m.is(Pi))i=sg.measureSparklinesCell(a,i);else{for(var c of l.rows){var c=c[d];let e;e=m.is2(Vi)?sg.measureIndicatorCell(n,m,a,c):m.is2(Ni)?sg.measureDataBarsCell(n,m,a,c):sg.measureCommonCell(n,m,a,c,i).width,i=Math.max(i,e)}m.showTotalSummary&&(r=$d.calculateTotal(m,d,l),r=this.measureFooter(n,m,a,r),i=Math.max(i,r))}var g=$d.minDataColumnValue(m,l,d),p=$d.maxDataColumnValue(m,l,d),S,r;let s=0;for(S of l.rows){o.length<l.rows.length&&o.push([]);let e=S[d];null!==e&&void 0!==e&&e.stimulsoft().is(Zd)&&(e=e==Zd.Line?m.textFormat.format(s+1):Oi.getSystemVariable(null===e||void 0===e?void 0:e.stimulsoft().as(Zd),s+1));var w=new P(0,0,i,u);let t=new et,r=(sg.renderCell(t,w,n,S,h.select(e=>e.key),m,a,e,g,p,1==(1&s),B.f.StiDashboardExportFormat.Html,!1),{});if(0<n.tableConditions.length&&0<t.components.length){let e=t.components.getByIndex(0);e.is(Gm)||(e.is(Yt)&&(r["backColor"]=Jo.toHtml(q.toColor(e.as(Yt).brush))),e.is(jt)&&(r["textColor"]=Jo.toHtml(q.toColor(e.as(jt).textBrush))))}if("boolean"==typeof e)r["boolValue"]=e;else for(var f of t.components.list)if(f.is(Gm)){if(r["text"]=f.text,r["textColor"]=Jo.toHtml(q.toColor(f.textBrush)),r["backColor"]=Jo.toHtml(q.toColor(f.brush)),r["textWidth"]=f.width,r["textHeight"]=f.height,0<n.tableConditions.length){var C=null==(y=n.as(Qt))?void 0:y.font,b=sc.processFontStyle(C,m.key,n,S,h.select(e=>e.key)),C=new z(C.fontFamily.name,C.size,b);let e={};e["bold"]=C.bold,e["italic"]=C.italic,e["underline"]=C.underline,e["strikeout"]=C.strikeout,r["textFontStyle"]=e}null!=e&&e.toString()!=r["text"]&&(r["value"]=e.toString())}else f.is(hd)?(r["image"]=null!=f.imageToDraw?se.Base.Drawing.StiImageConverter.imageToString(f.imageToDraw):null,r["imageWidth"]=f.width,r["imageHeight"]=f.height):f.is(Yd)&&(r["sparkline"]=se.Report.Export.StiHtmlExportService.getSparklineData(null,f,f.width,f.height),r["sparklineWidth"]=f.width,r["sparklineHeight"]=f.height);null==r["boolValue"]&&null==r["text"]&&null==r["image"]&&(r["text"]=e),o[s].push(r),s++}if(e){o.length<l.rows.length+1&&o.push([]);let e={};e["text"]="",m.showTotalSummary&&(r=$d.calculateTotal(m,d,l),e["text"]=m.summaryType==zr.Count?V.trunc(r).toString():zi.formatBasedOnColumnType(n,m,r)),o[o.length-1].push(e)}d++}return o})}static renderCells(A,R,E,k,L,V){return se.tsfb(this,void 0,void 0,function*(){let i=yield el.tryToGetOrCreate(E);if(null==i)return;var e=me.Table.getHeight(E.headerFont,k),t=me.Table.getHeight(E.font,k);let s=i.meters.where(e=>e.is(ns)).cast();var n=null!=s.firstOrDefault(e=>e.showTotalSummary),l=n?me.Table.getHeight(E.footerFont,k):0,r,a,o,o,u,h,m,d,d;let c=new le,g=[],p=0;for(r of s){let e=0;Ud.getVisible(r,E.report)&&(e=this.measureHeader(E,r,k),r.showTotalSummary&&(o=$d.calculateTotal(r,p,i),o=this.measureFooter(E,r,k,o),e=Math.max(e,o))),c.push(e),p++}let S=R.y+e;if(S<R.bottom-l){for(var w of i.rows){let r=t;p=-1;for(var f of s){if(p++,!Ud.getVisible(f,E.report))continue;let t=c[p];if(f.is(Pi))t=this.measureSparklinesCell(k,t);else{var C=w[p],f;let e;f.is2(Vi)?e=this.measureIndicatorCell(E,f,k,C):f.is2(Ni)?e=this.measureDataBarsCell(E,f,k,C):(f=this.measureCommonCell(E,f,k,C,t),e=f.width,r=Math.max(f.height,r)),t=Math.max(t,e)}c[p]=t}if(S+r>R.bottom-l&&(r=R.bottom-l-S)<1.2&&(r=1.2),g.push(r),(S+=r)>=R.bottom-l)break}g.push(t)}if(E.sizeMode==Fo.Fit){let t=R.width/c.sum(),e=(1<t&&(c=c.select(e=>e*t).toList()),-1);for(var b of i.rows){if(++e>=g.length)break;p=-1;let t=g[e];for(var y of s){if(p++,y.is2(Vi)||y.is2(Ni))continue;if(y.is(ti)){let e=y;var v=e.size.width,y=(e.size.width=c[p]-4,this.measureCommonCell(E,y,k,b[p],e.size.width));t=Math.max(y.height,t),e.size.width=v}}g[e]=t}}let x=R.x;p=0;for(h of s){if(!Ud.getVisible(h,E.report)){p++;continue}let r=c[p];if(L==B.f.StiDashboardExportFormat.Excel&&(r*=1.1),S=R.y,L!=B.f.StiDashboardExportFormat.Data&&(d=new P(x,S,r,e),this.renderHeader(A,d,E,h,k,L,V),S+=d.height),S<=R.bottom-l){var F=$d.minDataColumnValue(h,i,p),T=$d.maxDataColumnValue(h,i,p),M;let t=0;for(M of i.rows){var D=Math.ceil(g[t]);let e=M[p];null!==e&&void 0!==e&&e.stimulsoft().is(Zd)&&(e=e==Zd.Line?h.textFormat.format(t+1):Oi.getSystemVariable(null===e||void 0===e?void 0:e.stimulsoft().as(Zd),t+1));var I=new P(x,S,r,D);if(this.renderCell(A,I,E,M,s.select(e=>e.key),h,k,e,F,T,1==(1&t),L,V),S+=D,t++,S>=R.bottom-l)break}}L!=B.f.StiDashboardExportFormat.Data&&!V&&n&&(d=new P(x,S,r,l),this.renderFooter(A,d,E,h,p,k,i)),x+=r,p++}})}static measureSparklinesCell(e,t){return Math.max(t,80*e)}static measureHeader(e,t,r){return _d.measureHeader(e,t).width*r}static measureFooter(e,t,r,i){var t=zi.formatBasedOnColumnType(e,t,i);return _d.measureCell(t,e.footerFont).width*r}static measureIndicatorCell(e,t,r,i){var t=t.as(Vi),t=Dd.getCellText(e,t,O.tryToNullableNumber(i)),i=_d.measureCell(t,e.font).width*r;return i*=1.25}static measureDataBarsCell(e,t,r,i){var i=zi.formatBasedOnColumnType(e,t,i);let s=_d.measureCell(i,e.font).width*r;return t.horAlignment!=ae.Center&&(s*=2),s}static measureCommonCell(e,t,r,i,s){if(tu.isImage(i))return new ue(s,0);var s=zi.formatBasedOnColumnType(e,t,i);let n=_d.measureCell(s,e.font);return n.width*=r,n.height*=r,n}static renderHeader(e,t,r,i,s,n,l){var a=null!=i?qu.getLabel(i):"",o=ne.isNullOrWhiteSpace(a)?r.name+`_Column`:Qd.correctName(a),u=he.getTableStyle(r),h=0!=r.columns.indexOf(i)&&t.left<e.width&&!l,m=r.columns.indexOf(i)!=r.columns.length-1&&t.right<=e.width&&!l,h=(h?oe.Left:oe.None)|(m?oe.Right:oe.None),m=l?N.black:this.getHeaderForeColor(r),d=l?N.transparent:u.headerBackColor,l=l?new z("Arial",10,L.Bold):r.headerFont;let c=new Gm(t);c.name=o,c.allowHtmlTags=!0,c.autoWidth=!1,c.horAlignment=Vt.Center,c.vertAlignment=Lt.Center,c.wordWrap=!1,c.border=new de(h,u.lineColor,1,wi.Solid),c.brush=new F(d),c.font=me.Table.Font.getGdiFont(s,null,l),c.text=a,c.textFormat=null!=i.textFormat?i.textFormat.clone():null,c.textBrush=new F(m),c.componentPlacement=`h.`+r.name,e.components.add(c)}static renderFooter(e,t,r,i,s,n,l){var a=he.getTableStyle(r),o=this.getFooterForeColor(r),a=a.footerColor,u=r.footerFont,s;let h="",m=(i.showTotalSummary&&(s=$d.calculateTotal(i,s,l),h=i.summaryType==zr.Count?V.trunc(s).toString():zi.formatBasedOnColumnType(r,i,s)),Vt.Right),d=(i.summaryAlignment==ae.Left?m=Vt.Left:i.summaryAlignment==ae.Center&&(m=Vt.Center),new Gm(t));d.name=r.name+`_FooterCell`,d.border=this.getBorderSides(e,t,r,i,oe.All),d.brush=new F(a),d.excelDataValue=h,d.font=me.Table.Font.getGdiFont(n,null,u),d.horAlignment=m,d.vertAlignment=Lt.Center,d.text=h,d.textBrush=new F(o),d.textFormat=null!=i.textFormat?i.textFormat.clone():null,d.wordWrap=!1,d.componentPlacement=`f.`+r.name,e.components.add(d)}static renderCell(e,t,r,i,s,n,l,a,o,u,h,m,d){var c=he.getTableStyle(r),g=this.getForeColor(r,n,c,h),p=_d.getBackgroundColor(c,null!=h&&h),p=sc.processBackColor(p,n.key,r,i,s);d?this.renderTextCell(e,t,r,i,s,n,l,a,oe.None,N.black,N.transparent,m,!0):n.is2(Ni)||n.is2(Pi)||n.is2(Vi)||n.is2(Mi)?this.renderGraphicCell(e,t.clone(),r,i,s,n,l,a,o,u,p,c,null!=h&&h,m):n.is2(Bi)?this.drawColorScaleColumn(e,t.clone(),r,i,s,n,l,a,o,u,c,m):tu.isImage(a)?this.renderImageCell(e,t.clone(),r,n,a,p,m):"boolean"==typeof a?this.renderBoolCell2(e,t.clone(),r,i,s,n,l,a,g,p,m):this.renderTextCell(e,t.clone(),r,i,s,n,l,a,oe.All,g,p,m,!1)}static renderGraphicCell(r,i,s,e,t,n,l,a,o,u,h,m,d,c){let g="",p=i,S=this.getForeColor(s,n,m,d),w=new ud(Xn.UTF8);if(w.indentation=-1,w.writeStartElement("svg"),w.writeAttributeString("version","1.1"),w.writeAttributeString("baseProfile","full"),w.writeAttributeString("xmlns","http://www.w3.org/2000/svg"),w.writeAttributeString("xmlns:xlink","http://www.w3.org/1999/xlink"),w.writeAttributeString("xmlns:ev","http://www.w3.org/2001/xml-events"),w.writeAttributeString("height",tc.toUnits(i.height)),w.writeAttributeString("width",tc.toUnits(i.width)),w.writeStartElement("rect"),w.writeAttributeString("x","0"),w.writeAttributeString("y","0"),w.writeAttributeString("width",tc.toUnits(i.width)),w.writeAttributeString("height",tc.toUnits(i.height)),w.writeAttributeString("style",tc.writeFillBrush(w,h,i)),w.writeEndElement(),n.is2(Pi)){let e=qd.castToArray(a);var f=null===e||void 0===e?void 0:e.stimulsoft().toList().select(e=>null==e?void 0:e.stimulsoft().toNumber()),C=n.as(Pi);let t=new Yd(i.clone());return t.values=f,t.positiveColor=C.allowCustomColors?C.positiveColor:m.cellSparkline,t.negativeColor=C.allowCustomColors?C.negativeColor:m.cellWinLossNegative,t.showFirstLastPoints=C.showFirstLastPoints,t.showHighLowPoints=C.showHighLowPoints,t.type=C.type,t.brush=new F(h),t.componentPlacement=`d.`+s.name,void r.components.add(t)}var f=new rc(w);let b=oe.None,y="GraphicCell";var C=new P(0,0,i.width,i.height),v,f;let x=n.horAlignment;if(n.is2(Ni)?(ec.draw(f,C,s,n,l,O.tryToNumber(a),o,u,d,!1,!1),c!=B.f.StiDashboardExportFormat.Data&&(p=ec.calculateTextRect(i.clone(),n)).inflate(2,2),g=zi.formatBasedOnColumnType(s,n,a),S=ec.getForeColor(s,n,m,d,!1),O.tryToNumber(a)<0&&Eu.isNegativeInRed(n.textFormat)&&(S=k.Engine.negativeColor),S=sc.processForeColor(S,n.key,s,e,t),b=oe.Right,y="DataBarsCell"):n.is2(Vi)?(Dd.draw(f,C,s,n,l,O.tryToNullableNumber(a),m,!1),p=Dd.calculateTextRect(i.clone(),n),g=Dd.getCellText(s,n,O.tryToNullableNumber(a)),S=Dd.getColor(n,O.tryToNullableNumber(a),m),S=sc.processForeColor(S,n.key,s,e,t),b=oe.None,y="IndicatorCell"):n.is2(Mi)&&(Kd.draw(f,C,s,n,l,O.tryToNullableNumber(a),o,u,d,!1,!1),c!=B.f.StiDashboardExportFormat.Data&&(p=Kd.calculateTextRect(s,i.clone(),n)).inflate(2,2),g=Kd.getCellText(s,n,O.tryToNullableNumber(a)),S=ec.getForeColor(s,n,m,d,!1),S=sc.processForeColor(S,n.key,s,e,t),b=oe.None,y="BubbleCell",null!=(f=n.stimulsoft().as(mr))&&(f.horAlignment==ae.Center&&c!=B.f.StiDashboardExportFormat.Data&&(g=null),f.horAlignment==ae.Left&&(x=ae.Right),f.horAlignment==ae.Right&&(x=ae.Left))),w.writeFullEndElement(),w.flush(),c!=B.f.StiDashboardExportFormat.Data&&!n.is2(Pi)){let e=new hd(i);e.name=s.name+`_`+y,e.border=this.getBorderSides(r,i.clone(),s,n,oe.All),e.stretch=!0,e.aspectRatio=n.is2(Vi)||n.is2(Mi);var C=w.textWriter.getStringBuilder().toString();e.image=Sa.stringToImage(se.System.Convert.toBase64String(C)),e.brush=new F(h),e.horAlignment=x,r.components.add(e)}c!=B.f.StiDashboardExportFormat.Data&&ne.isNullOrEmpty(g)||this.renderTextCell(r,p,s,e,t,n,l,a,b,S,h,c,!1,!1)}static drawColorScaleColumn(e,t,r,i,s,n,l,a,o,u,h,m){var d=n.as(Bi),c=this.getForeColor(r,n,h,!1),c=sc.processForeColor(c,n.key,r,i,s),o=ic.getScaleColor(O.tryToNumber(a),o,u,h,d.minimumColor,d.maximumColor),o=sc.processBackColor(o,n.key,r,i,s);this.renderTextCell(e,t.clone(),r,i,s,n,l,a,oe.All,c,o,m,!1)}static renderBoolCell2(t,r,i,s,n,l,a,o,u,h,e){if(e==B.f.StiDashboardExportFormat.Data)this.renderTextCell(t,r.clone(),i,s,n,l,a,o,oe.None,u,h,e,!1);else{u=sc.processForeColor(u,l.key,i,s,n),h=sc.processBackColor(h,l.key,i,s,n);var a=o?zd.CheckRectangle:zd.NoneRectangle;let e=new Od(r);e.name=i.name+`_Cell`,e.border=this.getBorderSides(t,r,i,l,oe.All),e.contourColor=N.transparent,e.textBrush=new F(u),e.brush=new F(h),e.checkStyleForTrue=a,e.checkStyleForFalse=zd.NoneRectangle,e.checkedValue=a!=zd.NoneRectangle,e.excelDataValue=o.toString(),e.componentPlacement=`d.`+i.name,t.components.add(e)}}static renderTextCell(e,t,r,i,s,n,l,a,o,u,h,m,d,c=null){var g;let p=zi.formatBasedOnColumnType(r,n,a),S=d?new z("Arial",10):r.font;n.is(Hi)&&n.showHyperlink&&(S=new z(S.fontFamily.name,S.size,S.style|L.Underline));var d=sc.processFontStyle(S,n.key,r,i,s),d=(S=new z(S.fontFamily.name,S.size,d),O.tryToNumber(a));if(d<0&&Eu.isNegativeInRed(n.textFormat)&&(u=k.Engine.negativeColor),n.is(Pi)){let e=qd.castToArray(a);var d=null===e||void 0===e?void 0:e.stimulsoft().toList().select(e=>e.toString());p=ne.join(" ",d)}u=sc.processForeColor(u,n.key,r,i,s),h=sc.processBackColor(h,n.key,r,i,s);let w=Cd.convert(n.horAlignment);n.is(Mi)&&(w=Vt.Right);var d=n.as(ti);null!=d&&null==c&&(c=d.size.wordWrap);let f=null;if(n.is(Hi)&&n.showHyperlink&&!ne.isNullOrWhiteSpace(n.hyperlinkPattern)){let e=new se.System.Collections.Hashtable;e.add("Value",a);for(let t=0;t<s.length;t++){var g=r.columns.firstOrDefault(e=>e.key==s[t]),g="Row."+Qd.correctName(g.label,!0);e.add(g,null==(g=i[t])?void 0:g.toString())}f=se.Report.Dashboard.StiReportParser.parse(n.hyperlinkPattern,r,!1,e)}let C=new Gm(t);C.name=r.name+`_Cell`,C.border=this.getBorderSides(e,t.clone(),r,n,o),C.brush=new F(h),C.excelDataValue=null!=n.textFormat&&n.textFormat.is(Bt)?null:p,C.font=me.Table.Font.getGdiFont(l,null,S),C.horAlignment=w,C.vertAlignment=Lt.Center,C.text=p,C.textBrush=new F(u),C.textFormat=null!=n.textFormat?n.textFormat.clone():null,C.wordWrap=0!=c,C.componentPlacement=`d.`+r.name,C.trimming=qo.EllipsisCharacter,C.hyperlinkValue=f,e.components.add(C)}static renderImageCell(e,t,r,i,s,n,l){if(l==B.f.StiDashboardExportFormat.Data)return;var l=tu.getImageFromObject(s);if(null==l)return;let a=new hd(t);a.name=r.name+`_Cell`,a.border=this.getBorderSides(e,t.clone(),r,i,oe.All),a.brush=new F(n),a.stretch=!0,a.aspectRatio=!1,a.imageToDraw=l,e.components.add(a)}static renderBoolCell(e,t,r,i,s,n,l,a,o,u,h){if(h==B.f.StiDashboardExportFormat.Data)return void this.renderTextCell(e,t.clone(),r,i,s,n,l,a,o,null,u,h,!1);var i=0!=r.columns.indexOf(n),s=r.columns.indexOf(n)!=r.columns.length-1,l=(i?oe.Left:oe.None)|(s?oe.Right:oe.None),a=he.getTableStyle(r);let m=new hd(t);m.name=r.name+`_Cell`,m.border=o?new de(l,a.lineColor,1,wi.Solid):new de(oe.None,N.transparent,0,wi.None),m.brush=new F(u),m.horAlignment=ae.Center,m.vertAlignment=Lt.Center,e.components.add(m)}static getForeColor(e,t,r,i){if(!N.transparent.equals(t.foreColor))return t.foreColor;if(t.is(Hi)&&t.showHyperlink)return Sr.get("165dc8");var t=Cl.getForeColor(e,e.foreColor);if(!N.transparent.equals(t))return t;return null!=r?i?r.alternatingCellForeColor:r.cellForeColor:me.Table.Font.Color}static getHeaderForeColor(e){if(!N.transparent.equals(e.headerForeColor))return e.headerForeColor;var t;return he.getTableStyle(e).headerForeColor}static getFooterForeColor(e){if(!N.transparent.equals(e.footerForeColor))return e.footerForeColor;var t;return he.getTableStyle(e).footerForeground}static getBorderSides(e,t,r,i,s){var n=he.getTableStyle(r),l=0!=(s&oe.Left)&&0!=r.columns.indexOf(i)&&t.left<e.width,s=0!=(s&oe.Right)&&r.columns.indexOf(i)!=r.columns.length-1&&t.right<=e.width,i=(l?oe.Left:oe.None)|(s?oe.Right:oe.None),r=i!=oe.None?1:0,t=i!=oe.None?n.lineColor:N.transparent;return new de(i,t,r,wi.Solid)}}B.A.StiTableElementExportTool=sg}let nc=B.h.StiAutoSizeHtmlTextHelper,lc=(B.A.StiTextElementExportTool=class extends B.A.StiElementExportTool{render(l,a,o,u){return se.tsfb(this,void 0,void 0,function*(){if(this.renderEmptyDataMessage(l,a,o.clone(),u))return;var t=l.as(kh),r;let i="";if(k.Engine.dashboardTextElementExpressionParser==Ao.ReportParser||gs.isTimeExpression(t.text))i=yield ht.parseAsync(t.text,t,!1);else if(t.isQuerable){let e=yield el.tryToGetOrCreate(t);var s=new le(null===e||void 0===e?void 0:e.rows.firstOrDefault()).select(e=>O.tryToString(e)).toList();null!=s&&(i=gs.replaceExpressionBlocksByValues(t.text,s))}else i=t.text;if(!ne.isNullOrEmpty(i)&&i.toLowerCase().stimulsoft().replaceAll(" ","").stimulsoft().contains("javascript:")&&(i=i.toLowerCase().stimulsoft().replaceAll("javascript","")),t.sizeMode==St.Fit){let e=3;do{var n=nc.measure(null,o.clone(),i,t),r=n.width>o.width?o.width/n.width:1,n=n.height>o.height?o.height/n.height:1,r;(r=Math.min(Math.abs(r),Math.abs(n)))<1&&(i=this.changeFontSize(i,.99*r))}while(r<1&&0<e--)}let e=new Gm(o);e.name=l.name+`_Content`,e.allowHtmlTags=!0,e.vertAlignment=t.vertAlignment,e.horAlignment=t.horAlignment,e.text=i,e.textBrush=new F(he.getForeColor(t)),e.trimming=t.sizeMode==St.Trimming?qo.EllipsisCharacter:qo.None,e.wordWrap=t.sizeMode==St.WordWrap,a.components.add(e)})}changeFontSize(e,t){if(null==e||!e.stimulsoft().startsWith("<font ")||e.indexOf(' size="')<0)return e;var r=e.indexOf(' size="')+7;let i=e.substring(r),s=(i=i.substring(0,i.indexOf('"'))).stimulsoft().toNumber();return null==s&&(s=12),s=Math.ceil(s*t*10)/10,e.substring(0,r)+s.toString().replace(",",".")+e.substring(r+i.length)}},B.A.StiTreeViewBoxElementExportTool=class extends B.A.StiComboBoxElementExportTool{render(e,t,r,i){const s=Object.create(null,{render:{get:()=>super.render}});return se.tsfb(this,void 0,void 0,function*(){return yield s.render.call(this,e,t,r,i)})}getValuesCount(e,t){var e=e.as(Ho),t=zo.fetchItems(t,e.showBlanks);return null!=t?t.length:0}},se.Report.Components.StiShapeDirection),ac=se.Report.Components.StiTriangleShapeType;{class ng extends B.A.StiListBoxElementExportTool{render(e,t,r,i){const s=Object.create(null,{render:{get:()=>super.render}});return se.tsfb(this,void 0,void 0,function*(){return yield s.render.call(this,e,t,r,i)})}getCheckStyle(t,r){let e=t;if(!e.userFilters.any())return zd.CheckRectangle;if(e.userFilters.any(e=>e.condition==Ei.IsFalse))return zd.NoneRectangle;if(null!=r.items){let e=r.items.select(e=>this.getCheckStyle(t,e));if(e.all(e=>e==zd.CheckRectangle))return zd.CheckRectangle;if(e.all(e=>e==zd.NoneRectangle))return zd.NoneRectangle;return zd.DotRectangle}if(e.userFilters.any(e=>e.condition==Ei.EqualTo&&e.value==r.toString()))return zd.CheckRectangle;return zd.NoneRectangle}renderItems(i,s,n){return se.tsfb(this,void 0,void 0,function*(){var e=yield el.tryToGetOrCreate(n);if(null==e)return;var t=n.as(No);let r=zo.fetchItems(e,t.showBlanks);var e=null===r||void 0===r?void 0:r.select(e=>null==e?"":null!=e.key&&e.key instanceof C?e.key.toShortDateString():e.toString()),t=null===r||void 0===r?void 0:r.select(e=>this.getCheckStyle(n,e));this.renderItems2(i,s.clone(),n,e,t)})}renderItem(e,t,r,i,s,n,l){i!=Vd.locAll&&(ng.renderExpander(e,t.clone(),r),t.x+=me.ListBox.CheckBoxWidth/2,t.width-=me.ListBox.CheckBoxWidth/2),super.renderItem(e,t.clone(),r,i,s,n,l)}static renderExpander(e,t,r){t=new P(t.x,t.y+t.height/3,me.ListBox.CheckBoxWidth/3,t.height/3);let i=new Em(t);i.name=r.name+`_ItemExpander`,i.shapeType=new ac(lc.Right),i.brush=new F(N.dimGray),i.style=wi.None,e.components.add(i)}}B.A.StiTreeViewElementExportTool=ng}{class lg{static run(e,t){if(void 0===e)return void lg.run(se,"Stimulsoft");for(var r in t=t.stimulsoft().replaceAll("Stimulsoft.System","System"),e)"function"==typeof e[r]?(e[r].ssTypeName=r,e[r].ssNamespace=t):"object"==typeof e[r]&&lg.run(e[r],t+"."+r)}}B.c.StiTypesHelper=lg}return B.c.StiTypesHelper.run(),{Stimulsoft:se,StiOptions:k}});